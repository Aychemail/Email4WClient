!function(e){function t(t){for(var r,o,i=t[0],u=t[1],s=t[2],l=0,m=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);m.length;)m.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},c=[];var o={3:"sha384-cZVExK3VOiyaow2jXnutzYkJSh+iO/SrIU+bC2naSxusQP+Sk4DGgRyFuGW5Rt4R",4:"sha384-OkQOqjF/TImo9PoNVyjBdmQKgLf+ZTQiikaT/tuDM+wbemYxNjNExeJxpkCRuJIo",5:"sha384-k8UdRAR0/ErGrB+i/y1sSkzUVB/S82icIUqzm4Rbg6t9d7dijFC7qM1VNWxG1a3l",6:"sha384-DDc/R/IBvgQakdg4vFzShQqvm8u6Sc+xHWkngUQ784VYBDsHytQo4jaigFTZXgaM",7:"sha384-b9nmbEBa/XDnsd5ooJwfpRyj5KqJDdDZFjO1vIxpbaobAgzl6ngqMwz0kH4bV2AO",8:"sha384-So4r1dZxz7z9MZf9jTYlozleYioMI9TwSbl7g1UN9Q0+KqDVFh6DITt/Louqqxc5",9:"sha384-9oFqPdEldJjkHR8lIyk71dGqTP41Bs0ZPnIDeVbmq5rzTpaM/+RYFpraayZMxkiU",10:"sha384-ffnp6f8U694L5J5mjnx2EOacBEuDNbsJ2ozUdCrK8a3w0XldovE9fDf+8cGCff1F",11:"sha384-9Ae7xm17B15ppBBqzKA9CUIYIsQ5moCyhc5gm9GzI0Dworna6mTcmNxoBESEBu8z",12:"sha384-LuQFsq3luvxQ16RuEdR6rsmLis5zyjtom7qYyad/rafERv4faUu+1C44oP1Y0SYu",13:"sha384-y5prJWGClTlPnt15rd9G3ccQSyYnbcJd6w2Yis/4r9oz5OnON211EJV9v4qxAffx",14:"sha384-6ab648kFp9kaSXlFPVaf07e9wZ8skqV/L3VXluRoAunAau0ZfZd4mAetwYdwRMVF",15:"sha384-mnME5hcYLdFq6++HMI+1HjlUT4aZKLtU29KeO05oqv4oOx5W/261c7Pf0S0vc+74",16:"sha384-7mo6LjClcAdFt3PszYXVV21Zy+MLLtztRnNJbbmQOwrVnYQ1l83s62Xv9uLciqPB",17:"sha384-m3IY3jkY8pee+90P5I5i8yNnpAleDBWkqiTxLXHJ+OpLhrJEC04BvKYxNnu3Cp+b",18:"sha384-JBB8bGmYfLGKxubwxF74Orfndu0zXPLhHrKnyg8ZQhy9gG9pDDd+KCdEowaa/FvU",19:"sha384-yQCvYVziuuRT2G+cFeXmp0ejlfH5EIHIS0uOFJQw45+MGl10GLM12AcAeOOUn16R",20:"sha384-NT5GDDAXdcAtbN/UQksvHlmJH+YTLwl4W2CrkpwIBZECncvSHClNuHS6LjeSgdl0",21:"sha384-/B4SiTptp/gpzFChLtgASWl35YVBrA3kK5owyATqYc0kLVewP71FfSVHhJOlCO7G",22:"sha384-5Pd40T3INDSlL1JCl+ggnjaDBxUe/jzSI5izpZKfGfe2hcU1CgUDUc1aAeSVV48j",23:"sha384-1Maw4OW9DCAqBuSxP6fn1TMh9hg0ZjDGJLaDRavRWzRyEmc/A8eaQtdZE7KkLj4g",24:"sha384-PiNiJ6r8pb235V0ms2sPka1Py54DxEtPL0LXVvrK2m2CMXsnsECkNTny2fW4VGrs",25:"sha384-Ff3pyJSYzN+8f10jm+ShyXbSDQbHvzKLoEYOpBHyaMl6NNNEnZ6+MKeR8/aORJAN",26:"sha384-KT3DG0Fgys6o6ep/mC6AH0/vPtoruka2ts+2qMawQv7M3b+3d3whA1eq994Avgci",27:"sha384-CkTY2S8LJ/ESfvui7LKSMXPeH82e5cSn/gQy780e6B64JFs+JJWYI0oRYh2elfph",28:"sha384-TEKZ1NZ+AeGQyIA58Pn5POMP/ZJ9d6hsPihz9OcsJzlRMONXKSoRWlMtopKU6/1Y",29:"sha384-MPMRPzXp71w382+L1fcpeEno6NTfguK+amhAn9ig4QbNS0URGVIKGUZkZwL5dLAg",30:"sha384-neVIEREy67tptnIC2BFo9e6ZKt87UPxfbfD9zSOINitr15QZjMmZnk+SivlGcfU0",31:"sha384-efQLghZEtolbaCIU2fKwIiH3/xqkcDCiby9hoQ2tnSKA43jaM2HRzZvS11VjgAlU",32:"sha384-oXTwNuWAd6g1/To71C4PmHpN9iGiG8bhG+O/+AEp8MmW21MUecrR92Lsf2knKm3M",33:"sha384-+6C8mRu6IfxBILvPW2QvpaN/vUUiFm2LxOEiBPEw17gtPwG79A9wuXeNQui8Ppml",34:"sha384-+8VtmCtiWriwsrhftNr0NB225NeKRaRHMkzmx43ErMNxj1RKISQAMQge1hcDyL+E",35:"sha384-JSdQsCRTu4DuOWxweYs9lUW9VYHzJK80D17nMy+2/SrZFqkWLqysFVTb7XGPrBs1",36:"sha384-pMkiZSHGZ0moo3ALaLQ7/98kr1fuFJdjMSaOBTDAS5MAi3/laQp2T/delf99rogY",37:"sha384-DuP5jpEF8a2Ppzbi+Mr8+oYlVbBgGQWBXyQnDeQ1YTq8iAgY25/FF1mMIhoUthf5",38:"sha384-SyphTmhiqb9Qa0Zy4yj5qJ2/FKoXKT/kFy9LvuJzehCU34lSDmZneR5eTt8W3hdt",39:"sha384-nE0ZCo2QGE+eNZLSoq0BO4LUn8mZGbQlHXbm9kMQ9V4TVPHpmEjvJzcZqaE3EHNm",40:"sha384-lRD9XelNc1x7ctGkrTREAZVrzya82euldekPWwoaVy0hPZLLKu4We7KUq11KJ4GZ",41:"sha384-8s9557XmIynKP/rBwIi3wAA2BwIkQPP6cxTNT7MfpKJMjdTo695YaGmBZJFhZ5qg",42:"sha384-kyePNuvn7rR/VY7WvAm6hYp1bWEMOz8mmwVxOY31GX8I+iozufysotoNSIzPoXjP",43:"sha384-YSu4v5dXWnVgYNRDk/j3AuzZcPOdyjv6sfyN2T7O/9YwHiOSg1uKzA/i1M9hYjWg",44:"sha384-Z+Hv8tfsMJH7dpK+8kQQhTu6eVrvMHJj70VnlVdgT46qvXEOmkouakQqI7PBJXeI",45:"sha384-J4blom2LDeznPqGf2kP9CaFl0o4RHm7yGmO6SNsNG4CrYpKNjzTZBRBYS+Z3USAi",46:"sha384-ObFBJV6K3dhoBvuISCqdO1hFqchbhqIQsxskM9UH5Rff/m/9WLlw6jtT99d5KtTc",47:"sha384-knySVPkAGGja0keOxLji043RZRrR18eljH8v8IYF7RWI49mnyw3sbtmgXI5sWZZx",48:"sha384-N+oAzhI5MKqSoTwxW0H8wI7H1JcS3xZb/G5eqLZpuHUxv0fCHJ9YwESKczTApUGe",49:"sha384-f0l8duMDdmmRBpssyuXvomJ8FwCuLB7qe4vPyJLimx/IPLoSOeME4c9Zo//yX2AK",50:"sha384-IohJHk1hiSj8zk+/YOb03tuy3e99VfduLxTPJsVUOZHkUVbxc+Qt4FGEyd/Gtaef",51:"sha384-f228sZdOuofiWm/TkopCYN/tEtwRVrB54vJhikxkT/3fU2R/vusa6pQR8Afn/WxU",52:"sha384-Qdje19ieaevnijYrJu3T9FlD56Ai/wtkVfYSx+ttX6jmdDzPugRGIamfcxyVCtz7",53:"sha384-+smLNi0gUJyUgEwQgPLzMlm9sNXLM8zd6MWhD4rUCtwOQayDBRGRniRYumeFjqTO",54:"sha384-ir8Z5JE6JZwN5IAH0e8s35bATwoVsdf/faMBqZx6DfRC2mzuph2qw277WXqmK1+D",55:"sha384-5mfreL0FGsspf1g2zjHolkbAc2n6mmC6pFLh/aw5BupArXUV8vB3PESxuTFJQoRp",56:"sha384-v4uYe5egR+EMv5FqnY67z34qCylk33m7mpNCw135NSfeqIWdTlQgDZleyyZyiHJY",57:"sha384-VUI5TVxfX3m0asNR5GG9SJASGRAIlI0WnAvEOBq10vz9G5qNUzmZX6X3EAM9mm/1",58:"sha384-a092jM8pMDXh+Jd2Epp0ayxraTdfF8eoTByUoCbmxj0SEUI4qwqfPnjZCv6INQ/q",59:"sha384-WpGtHdEyPhlh6qj7Rv9vX1X39HMZfh4XPGp775vxC6yeu8VDnCQJVjc/FaHTD/Nc",60:"sha384-T2t2sKThN9GQxR/cvzyCJq+arTgmN0wvF4xyjaEnl342A7mxCLE5DdaH7+LUYyF4",61:"sha384-P/bZOt/pot6yBRj321TlBYFrDEUwc3AgQWvzVaXK+tTuM5cXo/17v3AWchfJfEZB",62:"sha384-yTYPG5sY3GrabhJtIDlSPAZa+s3npWKDa6gfMz8gWlHXt4v7lI3JpadgOPxTY6HF",63:"sha384-SBcHfVYCfHT4coDOXtLDNk/TvgGIDTcPQNOXwHj7vYyahTFbjOq+M7qxtcTStX/Z",64:"sha384-Hr8SdXMuTPp0/J+QZE9LpJWgpy6loqjFx+cf1Rebfkf8mkI+/O37UT7So849pB1w",65:"sha384-2LXdv2izpqGoePLEAv8QtenopG/o5c1nNv+gQiuH2ctaoajdSw3AlQZzlzjHUvb8",66:"sha384-65bCIvTb/GRkIIuXPyshmWbzfj7m6dY7jS/xINk54L15LghFlOeA3Xbw3j8QqlTq"};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({}[e]||e)+"."+{3:"c4110b0e",4:"5748a625",5:"d002b3b8",6:"07acf1a8",7:"7ad516d7",8:"33928503",9:"ae19bd00",10:"8a208c96",11:"877e3a7c",12:"ff1aceda",13:"25cb02e2",14:"1a1e5032",15:"14e81f6b",16:"a9f7ed5b",17:"b8a42e45",18:"f1fc393a",19:"f85e0da2",20:"0eca0fa2",21:"c710fa30",22:"be043dcc",23:"21a633e0",24:"fe9d2c12",25:"afe5354a",26:"180da2c2",27:"a583cf43",28:"35eb7050",29:"dd5d965c",30:"9f5e9f6f",31:"8ac4cff8",32:"ecd51f02",33:"f8bc733f",34:"d08f2f2d",35:"07a524d4",36:"bd767790",37:"0472a548",38:"313ea7bb",39:"ecd2b080",40:"1d96dbee",41:"9f7ce9e7",42:"d7847233",43:"a1e44c77",44:"d4dd47a4",45:"b8cdd3d2",46:"118c5c6c",47:"d21a0563",48:"3456478a",49:"448429bf",50:"6c69c91b",51:"7372a16e",52:"6aaafc7a",53:"5821bf6b",54:"002e92c5",55:"c1890cd2",56:"72f9ea33",57:"45fe19e8",58:"f8968b27",59:"c974f643",60:"22b8c74c",61:"8abf3a45",62:"a72fc9e8",63:"d8ceb1c9",64:"02a35823",65:"691e1fd1",66:"eaefa986"}[e]+".chunk.js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous");var s=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",s.name="ChunkLoadError",s.type=r,s.request=c,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,u.integrity=o[e],u.crossOrigin="anonymous",document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=s;c.push([0,2]),n()}({"+wUL":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"CLIENT_ID",(function(){return d})),n.d(r,"CLIENT_TYPE",(function(){return p})),n.d(r,"CLIENT_SECRET",(function(){return v})),n.d(r,"APP_VERSION",(function(){return b})),n.d(r,"APP_NAME",(function(){return h})),n.d(r,"API_URL",(function(){return g})),n.d(r,"SECURE_URL",(function(){return E})),n.d(r,"LOCALES",(function(){return O})),n.d(r,"API_VERSION",(function(){return j})),n.d(r,"DATE_VERSION",(function(){return x})),n.d(r,"CHANGELOG_PATH",(function(){return y})),n.d(r,"VERSION_PATH",(function(){return w})),n.d(r,"SENTRY_RELEASE",(function(){return N})),n.d(r,"SENTRY_DSN",(function(){return k}));n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("ma9I"),n("qHT+"),n("piMb"),n("yyme"),n("TeQF"),n("fbCW"),n("x0AG"),n("BIHw"),n("XbcX"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("oVuX"),n("uqXc"),n("2B1R"),n("Xe3L"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("Rfxz"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("gtqK"),n("rOQg"),n("tCCV"),n("rMz7"),n("9LPj"),n("7+zs"),n("tW5y"),n("DEfu"),n("Tskq"),n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u"),n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L"),n("zKZe"),n("Eqjn"),n("5xtp"),n("T63A"),n("3KgV"),n("wfmh"),n("5DmW"),n("27RR"),n("cDke"),n("NBAS"),n("Kxld"),n("yQYn"),n("4h0Y"),n("5D5o"),n("tkto"),n("v5b1"),n("W/eh"),n("zuhW"),n("r5Og"),n("ExoC"),n("07d7"),n("B6y2"),n("rNhl"),n("4l63"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("PzqY"),n("rBZX"),n("XUE8"),n("nkod"),n("f3jH"),n("x2An"),n("25bX"),n("G/JM"),n("1t3B"),n("ftMj"),n("i5pp"),n("TWNs"),n("rB9j"),n("U3f4"),n("JfAA"),n("YGK4"),n("9bJ7"),n("inlA"),n("9tb/"),n("JTJg"),n("PKPk"),n("Rm1S"),n("hDyC"),n("TZCg"),n("2A+d"),n("OM9Z"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("GKVU"),n("l2dK"),n("GRPF"),n("mRH6"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("IL/d"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("7JcK"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf");var a,c,o=n("i8i4"),i=n.n(o),u=n("q1tI"),s=n.n(u),l=(n("ls82"),n("zeKp"),n("wSuE")),f=n("sQ7P"),m=n("U0S0"),d="WebMail",p=1,v="",b="1.0.0",h="proton-mail",g="https://protonmail.blue/api",E="https://secure.protonmail.blue",O={},j="3",x="Mon, 03 Feb 2020 09:08:38 GMT",y="assets/changelog.tpl.html",w="assets/version.json",N="",k="",A=n("pVnL"),D=n.n(A),C=n("2INN"),S=n("LTi8"),I=n("mBH9"),L=n("pW7U"),P=n("KfXF"),T=n("1VMB"),M=n("3s0w"),R=n("p2/2"),B=n("Y8zs"),F=n("XTKM"),z=n("neWn"),U=n("dTS7"),K=U.keys().reduce((function(e,t){return e[t.slice(2,t.length-5)]=function(){return U(t)},e}),{}),G=n("J4zp"),_=n.n(G),H=n("D5Se"),V=n("FZZp"),X=n("VjqJ"),W=n("ImWu"),Y=n("VkAN"),q=n.n(Y),J=n("lSNA"),Q=n.n(J),Z=n("whF5"),$=n("kJz7"),ee=n("6UvI"),te=n("fa3+"),ne=n("P2jq"),re=n("bf08"),ae=n("nitM"),ce=n("llAM"),oe=n("VjF5"),ie=n("+4In"),ue=n("c47Q"),se=n("domY"),le=n("SOA7"),fe=n("N81o"),me=n("i9+t"),de=n("Xksw"),pe=n("gPo3"),ve=n("X9p3"),be=n("li2R"),he=n("slmy"),ge=n("G1e3"),Ee=n("wJ4K"),Oe=n("dVIL"),je=n("UPgO"),xe=n("SI5Q"),ye=n("T8oH"),we=n("kwWK"),Ne=n("e2Bf"),ke=n("/z5T"),Ae=n("odh7"),De=n("RgJi"),Ce=n("dndX"),Se=n("EhJz"),Ie=n("1s5H"),Le=n("s1cp"),Pe=function(e){var t=new URLSearchParams(e.search),n={};return t.forEach((function(e,t){n[t]=e})),n},Te=function(e,t){var n=new URLSearchParams(e.search);for(var r in t)void 0===t[r]?n.delete(r):n.set(r,t[r]);var a=n.toString(),c=(""===a?"":"?")+a;return e.pathname+c};function Me(){var e=q()(["Starred"]);return Me=function(){return e},e}function Re(){var e=q()(["Drafts"]);return Re=function(){return e},e}function Be(){var e=q()(["Sent"]);return Be=function(){return e},e}function Fe(){var e=q()(["Archive"]);return Fe=function(){return e},e}function ze(){var e=q()(["All mail"]);return ze=function(){return e},e}function Ue(){var e=q()(["Spam"]);return Ue=function(){return e},e}function Ke(){var e=q()(["Trash"]);return Ke=function(){return e},e}function Ge(){var e=q()(["Sent"]);return Ge=function(){return e},e}function _e(){var e=q()(["Drafts"]);return _e=function(){return e},e}function He(){var e=q()(["Inbox"]);return He=function(){return e},e}var Ve,Xe="message",We="conversation",Ye=(a={},Q()(a,re.B.INBOX,"inbox"),Q()(a,re.B.ALL_DRAFTS,"all-drafts"),Q()(a,re.B.ALL_SENT,"all-sent"),Q()(a,re.B.TRASH,"trash"),Q()(a,re.B.SPAM,"spam"),Q()(a,re.B.ALL_MAIL,"all-mail"),Q()(a,re.B.ARCHIVE,"archive"),Q()(a,re.B.SENT,"sent"),Q()(a,re.B.DRAFTS,"drafts"),Q()(a,re.B.STARRED,"starred"),a),qe=Object.entries(Ye).reduce((function(e,t){var n=_()(t,2),r=n[0];return e[n[1]]=r,e}),Object.create(null)),Je=(c={},Q()(c,re.B.INBOX,Object(Z.c)("Link").t(He())),Q()(c,re.B.ALL_DRAFTS,Object(Z.c)("Link").t(_e())),Q()(c,re.B.ALL_SENT,Object(Z.c)("Link").t(Ge())),Q()(c,re.B.TRASH,Object(Z.c)("Link").t(Ke())),Q()(c,re.B.SPAM,Object(Z.c)("Link").t(Ue())),Q()(c,re.B.ALL_MAIL,Object(Z.c)("Link").t(ze())),Q()(c,re.B.ARCHIVE,Object(Z.c)("Link").t(Fe())),Q()(c,re.B.SENT,Object(Z.c)("Link").t(Be())),Q()(c,re.B.DRAFTS,Object(Z.c)("Link").t(Re())),Q()(c,re.B.STARRED,Object(Z.c)("Link").t(Me())),c),Qe=0,Ze=1,$e=2,et=3,tt=1,nt=2,rt=4,at=8,ct=16,ot=32,it=64,ut=128,st=512,lt=65536,ft=131072,mt=262144;!function(e){e[e.PGP_MIME=8]="PGP_MIME"}(Ve||(Ve={}));var dt;!function(e){e[e.NEW=-1]="NEW",e[e.REPLY=0]="REPLY",e[e.REPLY_ALL=1]="REPLY_ALL",e[e.FORWARD=2]="FORWARD"}(dt||(dt={}));var pt=n("TpbI"),vt=function(e){return Ye[e]||e},bt=function(e,t){if(e in Ye)return function(e){return Je[e]||e}(e);var n=Object(pt.b)(t);return e in n&&n[e].Name||e},ht=function(e){return!Object.values(re.B).includes(e)},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Exclusive,n=void 0===t?0:t;return n===re.z.FOLDER},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return!gt(e)}))},Ot=n("RIqP"),jt=n.n(Ot),xt=n("rN/M"),yt=n("iylp"),wt=function(e,t){return jt()(e.values()).find((function(e){var n=e.Email;return t===It(n)}))||{}},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){var n;return null===(n=e.LabelIDs)||void 0===n?void 0:n.includes(t)}))};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(){var e=q()(["Members"]);return Dt=function(){return e},e}var Ct=/(.*)\s*<([^>]*)>/,St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return re.W.test(e)},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase()},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return It(e).replace(/(\+[^@]*)@/,"@").replace(/[._-](?=[^@]*@)/g,"")},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf("@"),r=e.indexOf("+");if(-1===n||r>-1)return e;var a=e.substring(0,n),c=e.substring(n,e.length);return"".concat(a,"+").concat(t).concat(c)},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Lt(t);return e.find((function(e){var t=e.Email;return Lt(t)===n}))},Mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!e&&!e.Receive&&!!t.length},Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!e&&!Mt(e,t)},Bt=function(e){var t=Ct.exec(e);return null!==t?{Name:t[1],Address:t[2]}:{Name:e,Address:e}},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.Address&&e.Name&&e.Address!==e.Name?"".concat(e.Name," <").concat(e.Address,">"):e.Address===e.Name?e.Address||"":"".concat(e.Name," ").concat(e.Address)},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{Name:e.Name,Address:e.Email,Group:t}},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ft(zt(e))},Kt=function(e,t){return e.filter((function(e){return e.Group!==t}))},Gt=function(e){var t=e.Address;return e.Name||t||""},_t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=null==e?void 0:e.recipients.length,a=Object(Z.c)("Info").t(Dt());return"".concat(null==e?void 0:null===(t=e.group)||void 0===t?void 0:t.Name," (").concat(r,"/").concat(n," ").concat(a,")")},Ht=function(e,t){var n,r=e.recipient,a=e.group;return r?Gt(r):_t(a,Nt(t,null==a?void 0:null===(n=a.group)||void 0===n?void 0:n.ID).length)},Vt=function(e,t){return e.reduce((function(e,n){if(n.Group){var r=e.find((function(e){var t,r;return(null===(t=e.group)||void 0===t?void 0:null===(r=t.group)||void 0===r?void 0:r.Path)===n.Group}));if(r){var a;null===(a=r.group)||void 0===a||a.recipients.push(n)}else{var c=t.find((function(e){return e.Path===n.Group}));c?e.push({group:{group:c,recipients:[n]}}):e.push({recipient:n})}}else e.push({recipient:n});return e}),[])},Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.indexOf("+"),r=t.indexOf("@");if(-1!==n&&-1!==r){var a=Tt(e,Lt(t)),c=a||{},o=c.Status,i=c.Receive,u=c.Send;if(o&&i&&u){var s=t.substring(n+1,r);return At({},a,{Email:Pt(null==a?void 0:a.Email,s)})}}},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.AddressID,r=void 0===n?"":n,a=e.filter((function(e){return 1===e.Status})).sort((function(e,t){return(e.Order||0)-(t.Order||0)}));if(r){var c=a.find((function(e){return e.ID===r}));if(c)return c}return a[0]},Yt=function(e){var t=e.recipient,n=e.onChange,r=void 0===n?yt.c:n,a=e.onRemove,c=Object(u.useState)(Ft(t)),o=_()(c,2),i=o[0],l=o[1],f=Object(u.useRef)(null),m=function(){var e=Bt(i);return St(e.Address)},d=Object(u.useState)(m()),p=_()(d,2),v=p[0],b=p[1];Object(u.useEffect)((function(){var e=Ft(t);f.current&&(f.current.textContent=e),l(e)}),[t]);var h=function(e){l(e.target.textContent||"")};return s.a.createElement("div",{className:Object(me.a)(["composer-addresses-item bordered-container flex flex-items-center flex-nowrap flex-row mw80 stop-propagation",!v&&"invalid"])},s.a.createElement("span",{className:"composer-addresses-item-label mtauto mbauto pl0-5 ellipsis pr0-5",contentEditable:r!==yt.c,onKeyUp:h,onPaste:h,onBlur:function(){b(m()),r(Bt(i))},ref:f}),s.a.createElement("button",{type:"button",className:"composer-addresses-item-remove inline-flex pl0-5 pr0-5 no-pointer-events-children h100",onClick:a},s.a.createElement(ge.a,{name:"off",size:12,className:"mauto"})))},qt=n("9Pu7"),Jt=n.n(qt),Qt=function(e,t,n){Object(u.useEffect)((function(){var r;return null===(r=e.current)||void 0===r||r.addEventListener(t,n),function(){var r;return null===(r=e.current)||void 0===r?void 0:r.removeEventListener(t,n)}}),[e.current,n])},Zt=function(e){var t=e.inputRef,n=e.contacts,r=e.contactGroups,a=e.onSelect,c=e.currentValue,o=e.children,i=Object(u.useState)(),l=_()(i,2),f=l[0],m=l[1],d=Object(u.useRef)(null);Object(u.useEffect)((function(){var e=new Jt.a(t.current,{container:function(){return d.current},minChars:0,autoFirst:!0});return m(e),function(){return e.destroy()}}),[]),Object(u.useEffect)((function(){if(f){var e=n.filter((function(e){return!c.find((function(t){return t.Address===e.Email}))})).map((function(e){return{label:Ut(e),value:"Contact:".concat(e.ID)}})),t=r.filter((function(e){return!c.find((function(t){return t.Group===e.Path}))})).map((function(e){return{label:e.Name,value:"Group:".concat(e.ID)}}));f.list=[].concat(jt()(e),jt()(t)),f.item=function(e,t,n){return Jt.a.ITEM(e.replace("<","&lt;"),t,n)},f.close()}}),[f,n,r,c]);return Qt(t,"awesomplete-selectcomplete",(function(e){var t,c,o=e.text.value,i=null===(t=/Contact:(.*)/.exec(o))||void 0===t?void 0:t[1],u=n.find((function(e){return e.ID===i})),s=null===(c=/Group:(.*)/.exec(o))||void 0===c?void 0:c[1],l=r.find((function(e){return e.ID===s}));(u||l)&&a({contact:u,group:l}),null==f||f.close()})),Qt(t,"click",(function(){f&&f.open()})),s.a.createElement("div",{className:"composer-addresses-autocomplete flex-item-fluid relative",ref:d},o)},$t=n("o0o1"),en=n.n($t),tn=n("yXPU"),nn=n.n(tn),rn=n("F9b+"),an=n("QILm"),cn=n.n(an),on=n("sjWO"),un=n("tWpJ");function sn(){var e=q()(["Save"]);return sn=function(){return e},e}function ln(){var e=q()(["Members"]);return ln=function(){return e},e}var fn=function(e){var t,n=e.onSubmit,r=e.onClose,a=e.recipientGroup,c=e.contacts,o=cn()(e,["onSubmit","onClose","recipientGroup","contacts"]),i=Object(u.useState)(Object(me.b)("addresses-group-modal")),l=_()(i,1)[0],f=Object(u.useState)(a),m=_()(f,2),d=m[0],p=m[1],v=function(e){return!!(null==d?void 0:d.recipients.find((function(t){return e.Email===t.Address})))},b=function(e){return function(t){var n,r,c=t.target.checked,o=d.recipients||[];c?n=[].concat(jt()(o),[{Name:e.Name,Address:e.Email,Group:null==a?void 0:null===(r=a.group)||void 0===r?void 0:r.Path}]):n=o.filter((function(t){return t.Address!==e.Email}));p({group:null==d?void 0:d.group,recipients:n})}},h=Object(Z.c)("Info").t(ln()),g="".concat(null==a?void 0:null===(t=a.group)||void 0===t?void 0:t.Name," (").concat(c.length," ").concat(h,")");return s.a.createElement(on.a,D()({submit:Object(Z.c)("Action").t(sn()),title:g,onSubmit:function(){n(d),null==r||r()},onClose:r},o),s.a.createElement("ul",{className:"unstyled"},c.map((function(e){var t="".concat(l,"-").concat(e.ID);return s.a.createElement("li",{key:e.ID,className:"mb0-5"},s.a.createElement(un.a,{id:t,checked:v(e),onChange:b(e)}),s.a.createElement(Oe.a,{htmlFor:t,className:"pt0 pl0-5"},Ut(e)))}))))},mn=function(e){var t,n=e.recipientGroup,r=e.contacts,a=e.onChange,c=e.onRemove,o=Object(rn.a)().createModal,i=Nt(r,null==n?void 0:null===(t=n.group)||void 0===t?void 0:t.ID),u=_t(n,i.length),l=function(){var e=nn()(en.a.mark((function e(){var t;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){o(s.a.createElement(fn,{recipientGroup:n,contacts:i,onSubmit:e}))}));case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"composer-addresses-item bordered-container flex flex-items-center flex-nowrap flex-row mw80 stop-propagation"},s.a.createElement("span",{className:"inline-flex pl0-5 pr0-5 no-pointer-events-children h100"},s.a.createElement(ge.a,{name:"contacts-groups",size:12,className:"mauto"})),s.a.createElement("span",{className:"composer-addresses-item-label mtauto mbauto pl0-5 ellipsis pr0-5",onClick:l},u),s.a.createElement("button",{type:"button",className:"composer-addresses-item-remove inline-flex pl0-5 pr0-5 no-pointer-events-children h100",onClick:c},s.a.createElement(ge.a,{name:"off",size:12,className:"mauto"})))},dn=function(e){var t=e.id,n=e.recipients,r=void 0===n?[]:n,a=e.onChange,c=e.addressesFocusRef,o=e.contacts,i=e.contactGroups,l=e.placeholder,f=Object(u.useState)(""),m=_()(f,2),d=m[0],p=m[1],v=Object(u.useRef)(),b=Vt(r,i),h=function(){a([].concat(jt()(r),[Bt(d)])),p("")};Object(u.useEffect)((function(){var e;c&&(c.current=(null===(e=v.current)||void 0===e?void 0:e.focus.bind(v.current))||yt.c)}),[]);var g=function(e){return function(){a(r.filter((function(t){return t!==e})))}},E=function(e){return function(t){var n;a([].concat(jt()(Kt(r,null==e?void 0:null===(n=e.group)||void 0===n?void 0:n.Path)),jt()(t.recipients)))}},O=function(e){return function(){var t;a(Kt(r,null==e?void 0:null===(t=e.group)||void 0===t?void 0:t.Path))}};return s.a.createElement(Zt,{inputRef:v,contacts:o,contactGroups:i,onSelect:function(e){var t=e.contact,n=e.group;if(t&&a([].concat(jt()(r),[zt(t)])),n){var c=o.filter((function(e){var t;return null===(t=e.LabelIDs)||void 0===t?void 0:t.includes(n.ID||"")})).map((function(e){return zt(e,n.Path)}));a([].concat(jt()(r),jt()(c)))}p("")},currentValue:r},s.a.createElement("div",{className:"composer-addresses-container flex-item-fluid bordered-container pl1-25 pr1-25",onClick:function(e){var t;e.target.closest(".stop-propagation")?e.stopPropagation():null===(t=v.current)||void 0===t||t.focus()}},b.map((function(e,t){return e.recipient?s.a.createElement(Yt,{key:t,recipient:e.recipient,onChange:(n=e.recipient,function(e){a(r.map((function(t){return t===n?e:t})))}),onRemove:g(e.recipient)}):s.a.createElement(mn,{key:t,recipientGroup:e.group,contacts:o,onChange:E(e.group),onRemove:O(e.group)});var n})),s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(xt.a,{id:t,value:d,onChange:function(e){var t=e.target;p(t.value)},onKeyDown:function(e){if(13!==e.keyCode&&9!==e.keyCode||0===d.length||(h(),e.preventDefault()),8===e.keyCode&&0===d.length&&b.length>0){var t=b[b.length-1];t.recipient?g(t.recipient)():O(t.group)()}},onBlur:function(){d.trim().length>0&&h()},ref:v,placeholder:l}))))};n("8y51");function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var vn=function(e,t,n){var r=void 0===n?"":"/".concat(n);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{pathname:"/".concat(vt(t)).concat(r)})},bn=function(e){if(void 0!==e)return Object(Ie.c)(e)?parseInt(e,10):void 0},hn=function(e){return"Time"===e.sort?e.desc?void 0:"date":e.desc?"-size":"size"},gn=function(e){return void 0===e.Unread?void 0:0===e.Unread?"read":"unread"},En=function(e){var t=e.trim();return t||void 0},On=function(e){return function(e){if(void 0===e)return 0;var t=parseInt(e,10);return isNaN(t)?0:t-1}(Pe(e).page)},jn=function(e){var t=Pe(e),n=t.address,r=t.from,a=t.to,c=t.keyword,o=t.begin,i=t.end,u=t.attachments,s=t.wildcard;return{address:n,from:r,to:a,keyword:c,begin:bn(o),end:bn(i),attachments:bn(u),wildcard:bn(s)}},xn=function(e,t){return Te(e,{keyword:En(t)})};function yn(){var e=q()(["Search"]);return yn=function(){return e},e}function wn(){var e=q()(["Clear"]);return wn=function(){return e},e}function Nn(){var e=q()(["No"]);return Nn=function(){return e},e}function kn(){var e=q()(["Yes"]);return kn=function(){return e},e}function An(){var e=q()(["All"]);return An=function(){return e},e}function Dn(){var e=q()(["Attachments"]);return Dn=function(){return e},e}function Cn(){var e=q()(["End date"]);return Cn=function(){return e},e}function Sn(){var e=q()(["And"]);return Sn=function(){return e},e}function In(){var e=q()(["Start date"]);return In=function(){return e},e}function Ln(){var e=q()(["Between"]);return Ln=function(){return e},e}function Pn(){var e=q()(["Name or email address"]);return Pn=function(){return e},e}function Tn(){var e=q()(["To"]);return Tn=function(){return e},e}function Mn(){var e=q()(["Recipient"]);return Mn=function(){return e},e}function Rn(){var e=q()(["Name or email address"]);return Rn=function(){return e},e}function Bn(){var e=q()(["From"]);return Bn=function(){return e},e}function Fn(){var e=q()(["Sender"]);return Fn=function(){return e},e}function zn(){var e=q()(["Address"]);return zn=function(){return e},e}function Un(){var e=q()(["Location"]);return Un=function(){return e},e}function Kn(){var e=q()(["Learn more"]);return Kn=function(){return e},e}function Gn(){var e=q()(["Exact match"]);return Gn=function(){return e},e}function _n(){var e=q()(["All"]);return _n=function(){return e},e}function Hn(){var e=q()(["Trash"]);return Hn=function(){return e},e}function Vn(){var e=q()(["Spam"]);return Vn=function(){return e},e}function Xn(){var e=q()(["Archive"]);return Xn=function(){return e},e}function Wn(){var e=q()(["Sent"]);return Wn=function(){return e},e}function Yn(){var e=q()(["Drafts"]);return Yn=function(){return e},e}function qn(){var e=q()(["Inbox"]);return qn=function(){return e},e}function Jn(){var e=q()(["All"]);return Jn=function(){return e},e}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $n="all",er=re.B.INBOX,tr=re.B.TRASH,nr=re.B.SPAM,rr=re.B.ARCHIVE,ar=re.B.ALL_MAIL,cr=re.B.ALL_SENT,or=re.B.SENT,ir=re.B.ALL_DRAFTS,ur=re.B.DRAFTS,sr={from:[],to:[],labelID:ar,address:$n,attachments:void 0,wildcard:void 0},lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(",").filter(Ie.a).map((function(e){return{Address:e}}))},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return e.Address})).join(",")},mr=function(e){var t=e.labelID,n=e.keyword,r=void 0===n?"":n,a=e.location,c=e.history,o=Object(u.useState)(Object(me.b)("advanced-search-dropdown")),i=_()(o,1)[0],l=Object(H.a)(),f=_()(l,2),m=f[0],d=f[1],p=Object(de.a)(),v=p.anchorRef,b=p.isOpen,h=p.toggle,g=p.close,E=Object(pe.a)(),O=_()(E,2),j=O[0],x=O[1],y=Object(ve.a)(),w=_()(y,2),N=w[0],k=w[1],A=Object(be.a)(),D=_()(A,2),C=D[0],S=D[1],I=Object(u.useState)(sr),L=_()(I,2),P=L[0],T=L[1];if(Object(u.useEffect)((function(){b&&T((function(){if(!r)return Zn({},sr,{labelID:t});var e=jn(a),n=e.address,c=e.attachments,o=e.wildcard,i=e.from,u=e.to,s=e.start,l=e.end;return Zn({},sr,{labelID:t,address:n,attachments:c,wildcard:o,from:lr(i),to:lr(u),start:s?Object(De.a)(s):void 0,end:l?Object(De.a)(l):void 0})}))}),[b]),x||S||k||d)return s.a.createElement(W.a,null);var M=[{value:ar,text:Object(Z.c)("Mailbox").t(Jn())},{value:er,text:Object(Z.c)("Mailbox").t(qn())},{value:Object(Le.b)(m.ShowMoved,re.bb.DRAFTS)?ir:ur,text:Object(Z.c)("Mailbox").t(Yn())},{value:Object(Le.b)(m.ShowMoved,re.bb.SENT)?cr:or,text:Object(Z.c)("Mailbox").t(Wn())},{value:rr,text:Object(Z.c)("Mailbox").t(Xn())},{value:nr,text:Object(Z.c)("Mailbox").t(Vn())},{value:tr,text:Object(Z.c)("Mailbox").t(Hn())}].concat(j.filter((function(e){return e.Exclusive===re.z.FOLDER})).map((function(e){return{value:e.ID,text:e.Name}}))).concat(j.filter((function(e){return e.Exclusive===re.z.LABEL})).map((function(e){return{value:e.ID,text:e.Name}}))),R=[{value:$n,text:Object(Z.c)("Option").t(_n())}].concat(C.map((function(e){return{value:e.ID,text:e.Email}})));return s.a.createElement(s.a.Fragment,null,s.a.createElement(he.a,{className:"searchbox-advanced-search-button",buttonRef:v,isOpen:b,onClick:h,hasCaret:!1},s.a.createElement(ge.a,{name:"caret",className:Object(me.a)(["fill-white searchbox-advanced-search-icon",b&&"rotateX-180"])})),s.a.createElement(Ee.a,{id:i,originalPlacement:"bottom-right",size:"wide",autoClose:!1,isOpen:b,anchorRef:v,onClose:g},s.a.createElement("form",{name:"advanced-search",className:"p1",onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=P.labelID,n=P.address,o=P.start,i=P.end,u=P.wildcard,s=P.from,l=P.to,f=P.attachments;c.push(Te(Zn({},a,{pathname:"/".concat(vt(t))}),{keyword:En(r),address:n===$n?void 0:n,from:s.length?fr(s):void 0,to:l.length?fr(l):void 0,start:o?Object(Ae.a)(o):void 0,end:i?Object(Ae.a)(i):void 0,attachments:f,wildcard:u})),g()},onReset:function(e){e.preventDefault(),g()}},s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{className:"advancedSearch-label",htmlFor:"exact-match"},Object(Z.c)("Label").t(Gn())),s.a.createElement("div",{className:"flex-item-fluid flex flex-items-center flex-spacebetween"},s.a.createElement(je.a,{id:"exact-match",checked:void 0===P.wildcard,onChange:function(e){var t=e.target;return T(Zn({},P,{wildcard:t.checked?void 0:0}))}}),s.a.createElement(te.a,{url:"https://protonmail.com/support/knowledge-base/search/"},Object(Z.c)("Link").t(Kn())))),s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{className:"advancedSearch-label",htmlFor:"labelID"},Object(Z.c)("Label").t(Un())),s.a.createElement(xe.a,{id:"labelID",value:P.labelID,options:M,onChange:function(e){var t=e.target;return T(Zn({},P,{labelID:t.value}))}})),s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{className:"advancedSearch-label",htmlFor:"address"},Object(Z.c)("Label").t(zn())),s.a.createElement(xe.a,{id:"address",value:P.address,options:R,onChange:function(e){var t=e.target;return T(Zn({},P,{address:t.value}))}})),s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{title:Object(Z.c)("Label").t(Fn()),className:"advancedSearch-label",htmlFor:"from"},Object(Z.c)("Label").t(Bn())),s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(dn,{contacts:N,contactGroups:[],id:"from",recipients:P.from,onChange:function(e){return T(Zn({},P,{from:e}))},placeholder:Object(Z.c)("Placeholder").t(Rn())}))),s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{title:Object(Z.c)("Label").t(Mn()),className:"advancedSearch-label",htmlFor:"to"},Object(Z.c)("Label").t(Tn())),s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(dn,{contacts:N,contactGroups:[],id:"to",recipients:P.to,onChange:function(e){return T(Zn({},P,{to:e}))},placeholder:Object(Z.c)("Placeholder").t(Pn())}))),s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{className:"advancedSearch-label",htmlFor:"start-date"},Object(Z.c)("Label").t(Ln())),s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(ye.a,{placeholder:Object(Z.c)("Placeholder").t(In()),id:"start-date",value:P.start,onChange:function(e){return(!P.end||Object(Ce.a)(e,P.end))&&T(Zn({},P,{start:e}))}}))),s.a.createElement("div",{className:"mb1 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{className:"advancedSearch-label",htmlFor:"end-date"},Object(Z.c)("Label").t(Sn())),s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(ye.a,{placeholder:Object(Z.c)("Placeholder").t(Cn()),id:"end-date",value:P.end,onChange:function(e){return(!P.start||Object(Se.a)(e,P.start))&&T(Zn({},P,{end:e}))}}))),s.a.createElement("div",{className:"mb2 flex flex-nowrap onmobile-flex-column"},s.a.createElement(Oe.a,{className:"advancedSearch-label"},Object(Z.c)("Label").t(Dn())),s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(we.a,{onChange:function(){return T(Zn({},P,{attachments:void 0}))},checked:void 0===P.attachments,className:"mr1"},Object(Z.c)("Attachment radio advanced search").t(An())),s.a.createElement(we.a,{onChange:function(){return T(Zn({},P,{attachments:1}))},checked:1===P.attachments,className:"mr1"},Object(Z.c)("Attachment radio advanced search").t(kn())),s.a.createElement(we.a,{onChange:function(){return T(Zn({},P,{attachments:0}))},checked:0===P.attachments},Object(Z.c)("Attachment radio advanced search").t(Nn())))),s.a.createElement("div",{className:"flex flex-spacebetween"},s.a.createElement(Ne.a,{disabled:!Object.keys(P).length,type:"reset"},Object(Z.c)("Action").t(wn())),s.a.createElement(ke.a,{type:"submit"},Object(Z.c)("Action").t(yn()))))))};function dr(){var e=q()(["Settings"]);return dr=function(){return e},e}function pr(){var e=q()(["Mailbox"]);return pr=function(){return e},e}function vr(){var e=q()(["Search messages"]);return vr=function(){return e},e}var br=function(e){var t=e.labelID,n=e.location,r=e.history,a=e.expanded,c=e.onToggleExpand,o=e.onSearch,i=Object(ae.b)(),l=_()(i,1)[0].hasPaidMail,f=jn(n).keyword,m=void 0===f?"":f,d=Object(u.useState)(m),p=_()(d,2),v=p[0],b=p[1];return s.a.createElement("header",{className:"header flex flex-nowrap reset4print"},s.a.createElement(ce.a,{url:"/inbox",className:"nomobile"}),s.a.createElement(oe.a,{expanded:a,onToggle:c}),s.a.createElement(ie.a,{delay:0,placeholder:Object(Z.c)("Placeholder").t(vr()),onSearch:o,onChange:b,value:v,advanced:s.a.createElement(mr,{labelID:t,keyword:v,location:n,history:r})}),s.a.createElement(ue.a,null,l?null:s.a.createElement(se.a,{external:!0}),s.a.createElement(le.a,{to:"/inbox",icon:"mailbox",text:Object(Z.c)("Title").t(pr()),"aria-current":!0}),s.a.createElement(le.a,{external:!0,to:"/settings",icon:"settings-master",text:Object(Z.c)("Title").t(dr())}),s.a.createElement(fe.a,null)))},hr=n("3m2b"),gr=n("u1Vw"),Er=n("dN0G"),Or=n("6lBS"),jr=(n("fM+A"),function(e){var t,n=e.labelID,r=e.counterMap,a=e.currentLabelID,c=e.refreshLabelID,o=null===(t=r[n])||void 0===t?void 0:t.Unread;return s.a.createElement(s.a.Fragment,null,n===a&&s.a.createElement(ge.a,{className:Object(me.a)(["mr0-5",n===c&&"location-refresh-rotate"]),fill:"light",name:"reload"}),o?s.a.createElement("span",{className:"navigation__counterItem flex-item-noshrink rounded"},o):null)}),xr=(n("Q2p9"),n("sWYD")),yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ViewLayout,n=void 0===t?re.fb.COLUMN:t;return n===re.fb.COLUMN},wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ViewMode,r=void 0===n?re.gb.GROUP:n,a=arguments.length>2?arguments[2]:void 0,c=[re.B.DRAFTS,re.B.ALL_DRAFTS,re.B.SENT,re.B.ALL_SENT],o=jn(a);return!c.includes(e)&&r===re.gb.GROUP&&!Object.entries(o).some((function(e){return void 0!==_()(e,2)[1]}))},Nr=n("i69e"),kr=tt,Ar=nt,Dr=lt,Cr=st,Sr=ot,Ir=it,Lr=ut,Pr=rt,Tr=ct,Mr=at,Rr=mt,Br=ft,Fr=re.G.PLAINTEXT,zr=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.MIMEType;return n===e}},Ur=zr(re.G.MIME),Kr=zr(Fr),Gr=zr(re.G.DEFAULT),_r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.Flags,r=void 0===n?0:n;return Object(Le.b)(r,e)}},Hr=(_r(Dr),_r(Cr)),Vr=_r(Pr),Xr=function(e){return!Vr(e)},Wr=_r(Tr),Yr=_r(kr),qr=_r(Ar),Jr=(_r(Sr),_r(Ir),_r(Lr),_r(Ar|kr)),Qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!qr(e)&&!Yr(e)},Zr=_r(Mr),$r=_r(Mr|Ar),ea=_r(Mr|Pr),ta=_r(Rr),na=(_r(Br),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xr(e)&&Yr(e)&&Zr(e)}),ra=function(e){var t=e.Time;return(void 0===t?0:t)>=1546300800},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e.Password},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(Le.c)(e,tt)},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Sender,n=void 0===t?{}:t;return n},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ToList,n=void 0===t?[]:t,r=e.CCList,a=void 0===r?[]:r,c=e.BCCList,o=void 0===c?[]:c;return[].concat(jt()(n),jt()(a),jt()(o))},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ia(e).map((function(e){return e.Address||""})).filter(yt.b)},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Time,n=void 0===t?0:t;return new Date(1e3*n)},la=function(e,t){var n=e.ParsedHeaders,r=void 0===n?{}:n;return t?r[t]:r},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.Attachments||[]},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fa(e).length>0},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fa(e).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.Size,r=void 0===n?0:n;return e+ +r}),0)},pa=function(e){var t=e.Flags,n=e.ParsedHeaders,r=void 0===n?{}:n;if(!qr({Flags:t}))return!1;if(Wr({Flags:t}))return!0;return["X-Autoreply","X-Autorespond","X-Autoreply-From","X-Mail-Autoreply"].some((function(e){return e in r}))||[["Auto-Submitted","auto-replied"],["Precedence","auto_reply"],["X-Precedence","auto_reply"],["Delivered-To","autoresponder"]].some((function(e){var t=_()(e,2),n=t[0],a=t[1];return n in r&&r[n].toLowerCase()===a}))},va=function(e){return Gr(e.data)?e.content:void 0},ba=function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.MIMEType)!==re.G.DEFAULT?null===(n=e.content)||void 0===n?void 0:n.replace(/\u200B/g,""):function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Nr.a({bulletListMarker:"-",hr:""}),a={filter:function(e){return e.classList.contains("protonmail_signature_block")},replacement:function(e){return"​".concat(e.trim(),"​")}},c={filter:"br",replacement:function(e,t){var n,r,a;return"DIV"===(null===(n=t.parentElement)||void 0===n?void 0:n.nodeName)&&1===t.parentElement.childElementCount?t.parentElement.textContent?"\n":"\n\n":"BR"===(null===(r=t.parentElement)||void 0===r?void 0:null===(a=r.lastElementChild)||void 0===a?void 0:a.nodeName)&&t.parentElement.textContent?"LI"!==t.parentElement.nodeName?"\n":"":"\n\n"}},o={filter:"img",replacement:function(e,t){if(!n)return"";var r=t,a=r.alt||r.src;return a?"[".concat(a,"]"):""}},i={filter:"a",replacement:function(e,t){return t.textContent}},u={filter:["div"],replacement:function(e){return e}};r.use([function(){return r.addRule("replaceAnchor",i)},function(){return r.addRule("replaceDiv",u)},function(){return r.addRule("replaceImg",o)},function(){return r.addRule("replaceBreakLine",c)},function(){return r.addRule("protonSignature",a)}]),r.escape=yt.b;var s=r.turndown(e);return s.startsWith("​")&&t?"\n\n\n".concat(s,"\n\n"):s}(e.content||"",!0,!0).replace(/\u200B/g,"")},ha=function(e,t){if(Kr(e.data)||t)return ba(e)},ga=function(e){var t=e.labelID,n=e.mailSettings,r=e.location;return wr(t,n,r)?We:Xe},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"string"==typeof e.ConversationID},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Time,n=void 0===t?0:t,r=e.ContextTime,a=void 0===r?0:r;return new Date(1e3*(a||n))},ja=function(e,t){return(n=e,r=n.Labels,a=n.LabelIDs,r?r.map((function(e){return e.ID||""})):a||[]).some((function(e){return t===e}));var n,r,a},xa=function(e,t){return e.ContextTime||e.Time||(function(e,t){var n=e.Labels;return(void 0===n?[]:n).find((function(e){var n=e.ID;return(void 0===n?"":n)===t}))}(e,t)||{}).ContextTime||0},ya=function(e){var t=e.Size;return void 0===t?0:t},wa=function(e,t,n){var r={Time:xa,Size:ya}[t.sort];return jt()(e).sort((function(e,a){return o=a,i=r(c=e,n),u=r(o,n),i===u?(c.Order||0)-(o.Order||0):t.desc?u-i:i-u;var c,o,i,u}))},Na=function(e){var t;return Ea(e)?e.LabelIDs:null===(t=e.Labels)||void 0===t?void 0:t.map((function(e){return e.ID||""}))};function ka(){var e=q()(["Compose"]);return ka=function(){return e},e}function Aa(){var e=q()(["Folders/labels"]);return Aa=function(){return e},e}function Da(){var e=q()(["All mail"]);return Da=function(){return e},e}function Ca(){var e=q()(["Trash"]);return Ca=function(){return e},e}function Sa(){var e=q()(["Spam"]);return Sa=function(){return e},e}function Ia(){var e=q()(["Archive"]);return Ia=function(){return e},e}function La(){var e=q()(["Starred"]);return La=function(){return e},e}function Pa(){var e=q()(["Sent"]);return Pa=function(){return e},e}function Ta(){var e=q()(["Drafts"]);return Ta=function(){return e},e}function Ma(){var e=q()(["Inbox"]);return Ma=function(){return e},e}function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fa=function(e){var t=e.labelID,n=e.expanded,r=void 0!==n&&n,a=e.location,c=e.onCompose,o=Object(u.useState)(),i=_()(o,2),l=i[0],f=i[1],m=Object(hr.a)(),d=_()(m,2),p=d[0],v=d[1],b=Object(gr.a)(),h=_()(b,2),g=h[0],E=h[1],O=Object(H.a)(),j=_()(O,2),x=j[0],y=j[1],w=Object(pe.a)(),N=_()(w,2),k=N[0],A=N[1],D=Object(V.a)().call,C=(x||{}).ShowMoved,S=Object(u.useMemo)((function(){return x&&k&&p&&g?function(e,t,n,r,a){var c=[].concat(jt()(Object.values(re.B)),jt()(e.map((function(e){return e.ID||""})))),o=Object(pt.b)(t,"LabelID"),i=Object(pt.b)(n,"LabelID");return c.reduce((function(e,t){var n=wr(t,r,a)?o:i;return e[t]=n[t],e}),{})}(k,p,g,x,a):{}}),[x,k,p,g]);if(y||A||v||E)return s.a.createElement(W.a,null);var I=function(e){var n,r="/".concat(Ye[e]?Ye[e]:e);return{type:"link",link:r,ariaCurrent:e===t?"page":void 0,aside:s.a.createElement(jr,{labelID:e,counterMap:S,currentLabelID:t,refreshLabelID:l}),onClick:(n=nn()(en.a.mark((function t(){return en.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r!==a.pathname){t.next=5;break}return f(e),t.next=4,D();case 4:f(void 0);case 5:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}},L=[Ba({icon:"inbox",text:Object(Z.c)("Link").t(Ma())},I(re.B.INBOX)),Ba({icon:"drafts",text:Object(Z.c)("Link").t(Ta())},I(C&re.bb.DRAFTS?re.B.ALL_DRAFTS:re.B.DRAFTS)),Ba({icon:"sent",text:Object(Z.c)("Link").t(Pa())},I(C&re.bb.SENT?re.B.ALL_SENT:re.B.SENT)),Ba({icon:"star",text:Object(Z.c)("Link").t(La())},I(re.B.STARRED)),Ba({icon:"archive",text:Object(Z.c)("Link").t(Ia())},I(re.B.STARRED)),Ba({icon:"spam",text:Object(Z.c)("Link").t(Sa())},I(re.B.SPAM)),Ba({icon:"trash",text:Object(Z.c)("Link").t(Ca())},I(re.B.TRASH)),Ba({icon:"all-emails",text:Object(Z.c)("Link").t(Da())},I(re.B.ALL_MAIL)),{icon:"folder-label",text:Object(Z.c)("Link").t(Aa()),className:"alignleft",type:"button",onClick:function(){Object(Or.h)("/settings/labels")}}].concat(jt()(k.map((function(e){var t=e.ID,n=void 0===t?"":t,r=e.Name,a=e.Exclusive,c=e.Color;return Ba({icon:a===re.z.LABEL?"label":"folder",text:r,color:c},I(n))}))));return s.a.createElement("div",{className:"sidebar flex flex-column noprint","data-expanded":r},s.a.createElement("div",{className:"nodesktop notablet"},s.a.createElement(ce.a,{url:"/inbox"})),s.a.createElement("div",{className:"pl1 pr1 mb1"},s.a.createElement(ke.a,{className:"w100 bold",onClick:function(){c({action:dt.NEW})}},Object(Z.c)("Action").t(ka()))),s.a.createElement("nav",{className:"navigation mw100 flex-item-fluid scroll-if-needed"},s.a.createElement(Er.a,{list:L,className:"mt0"})))};function za(){var e=q()(["Upgrade"]);return za=function(){return e},e}function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ga=function(e){var t=e.children,n=e.location,r=e.history,a=e.labelID,c=e.onCompose,o=Object(u.useRef)(null),i=Object(u.useState)(!1),l=_()(i,2),f=l[0],m=l[1];return Object(u.useEffect)((function(){m(!1)}),[n.pathname]),s.a.createElement("div",{className:"flex flex-nowrap no-scroll"},s.a.createElement($.a,{items:[s.a.createElement(ee.a,{key:"storage",upgradeButton:s.a.createElement(te.a,{url:"/settings/subscription",target:"_self",className:"pm-button pm-button--primary pm-button--small"},Object(Z.c)("Action").t(za()))})]}),s.a.createElement("div",{className:"content flex-item-fluid reset4print"},s.a.createElement(br,{labelID:a,location:n,history:r,expanded:f,onToggleExpand:function(){return m(!f)},onSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re.B.ALL_MAIL;r.push(xn(Ka({},n,{pathname:"/".concat(vt(t))}),e))}}),s.a.createElement("div",{className:"flex flex-nowrap"},s.a.createElement(Fa,{labelID:a,expanded:f,location:n,onCompose:c}),s.a.createElement("div",{className:"main flex-item-fluid scroll-smooth-touch",ref:o},s.a.createElement("div",{className:"flex-item-fluid"},s.a.createElement(ne.a.Provider,{value:o},t))))))},_a=n("k7CA"),Ha=n("brXu"),Va=n("Ayt/"),Xa=function(e){return Math.ceil(e.total/e.size)};function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qa=function(e,t){return{params:t,page:e,elements:{},pages:[]}},Ja=function(e){var t=e.conversationMode,n=e.labelID,r=e.search,a=e.page,c=e.sort,o=e.filter,i=Object(_a.a)(),s=Object(V.a)().subscribe,l=Object(u.useState)(!1),f=_()(l,2),m=f[0],d=f[1],p=Object(u.useState)(qa(a,Ya({labelID:n,sort:c,filter:o},r))),v=_()(p,2),b=v[0],h=v[1],g=Object(u.useMemo)((function(){var e=b.params,t=e.labelID,n=e.sort,r=b.page,a=b.pages.reduce((function(e,t){return t<e?t:e}),b.pages[0]),c=(r.page-a)*r.size,o=c+r.size,i=Object.values(b.elements).filter((function(e){return ja(e,t)}));return wa(i,n,t).slice(c,o)}),[b]),E=Object(u.useMemo)((function(){return b.page.total}),[b.page.total]),O=function(){return g.length===function(e){return 0===e.total?0:e.total%e.size==0?e.size:Xa(e)-1===e.page?e.total%e.size:e.size}(Ya({},a,{total:E}))},j=function(){return!(m||n===b.params.labelID&&c===b.params.sort&&o===b.params.filter&&r.address===b.params.address&&r.from===b.params.from&&r.to===b.params.to&&r.keyword===b.params.keyword&&r.begin===b.params.begin&&r.end===b.params.end&&r.attachments===b.params.attachments&&r.wildcard===b.params.wildcard&&b.pages.some((function(e){return e===a.page||e===a.page-1||e===a.page+1})))},x=function(){return!m&&(j()||!b.pages.includes(a.page)||!O())},y=function(){var e=nn()(en.a.mark((function e(n){var r,a;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t?Ha.b:Va.d,e.next=3,i(r(n));case 3:return a=e.sent,e.abrupt("return",t?a.Conversation:a.Message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=nn()(en.a.mark((function e(){var u,s;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t?Ha.g:Va.i,e.next=3,i(u({Page:a.page,PageSize:a.size,Limit:a.limit,LabelID:n,Sort:c.sort,Desc:c.desc?1:0,Begin:r.begin,End:r.end,Keyword:r.keyword,To:r.to,From:r.from,Attachments:r.attachments,Unread:o.Unread,AddressID:r.address,AutoWildcard:r.wildcard}));case 3:return s=e.sent,e.abrupt("return",{Total:s.Total,Elements:t?s.Conversations:s.Messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=nn()(en.a.mark((function e(){var t,n,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,w();case 4:t=e.sent,n=t.Total,r=t.Elements,h((function(e){return Ya({},e,{page:Ya({},e.page,{page:a.page,total:n}),pages:[].concat(jt()(e.pages),[a.page]),elements:Ya({},e.elements,{},Object(pt.b)(r,"ID"))})}));case 8:return e.prev=8,d(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){j()&&h(qa(a,Ya({labelID:n,sort:c,filter:o},r))),x()&&N()}),[n,a,c,o,r.address,r.from,r.to,r.keyword,r.begin,r.end,r.attachments,r.wildcard]),Object(u.useEffect)((function(){return s(function(){var e=nn()(en.a.mark((function e(r){var a,c,o,i,u,s,l,f,m,d,p,v,g,E,O;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.Conversations,c=void 0===a?[]:a,o=r.Messages,i=void 0===o?[]:o,u=r.ConversationCounts,s=void 0===u?[]:u,l=r.MessageCounts,f=void 0===l?[]:l,m=t?c:i,d=(t?s:f).find((function(e){return e.LabelID===n})),p=m.reduce((function(e,n){var r=n.ID,a=n.Action,c=t?n.Conversation:n.Message;switch(a){case re.s.DELETE:e.toDelete.push(r);break;case re.s.UPDATE_DRAFT:case re.s.UPDATE_FLAGS:e.toUpdate.push(Ya({ID:r},c));break;case re.s.CREATE:e.toCreate.push(c)}return e}),{toDelete:[],toUpdate:[],toCreate:[]}),v=p.toDelete,g=p.toUpdate,E=p.toCreate,e.next=7,Promise.all(g.map(function(){var e=nn()(en.a.mark((function e(t){var n,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ID||"",r=b.elements[n],e.abrupt("return",r?Ya({},r,{},t):y(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:O=e.sent,h((function(e){var t={};[].concat(jt()(E),jt()(O)).forEach((function(e){t[e.ID||""]=e}));var n=Ya({},e.elements,{},t);return v.forEach((function(e){delete n[e]})),Ya({},e,{elements:n,page:Ya({},e.page,{total:d?d.Total:e.page.total})})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[b]),[b.params.labelID,g,m,b.page.total]},Qa=function(){return s.a.createElement("span",{className:"toolbar-separator"})},Za=n("/hVJ"),$a=function(e){var t=e.children,n=e.loading,r=void 0!==n&&n,a=e.disabled,c=void 0!==a&&a,o=e.className,i=void 0===o?"":o,u=cn()(e,["children","loading","disabled","className"]);return s.a.createElement("button",D()({type:"button",disabled:c||r,className:Object(me.a)(["toolbar-button",i])},u),t)};function ec(){var e=q()(["Mark as unread"]);return ec=function(){return e},e}function tc(){var e=q()(["Mark as read"]);return tc=function(){return e},e}var nc=function(e){var t=e.mailSettings,n=e.labelID,r=e.selectedIDs,a=void 0===r?[]:r,c=e.location,o=Object(_a.a)(),i=Object(V.a)().call,u=t.MessageButtons,l=void 0===u?re.F.READ_UNREAD:u,f=ga({mailSettings:t,labelID:n,location:c}),m=Object(Za.a)(),d=_()(m,2),p=d[0],v=d[1],b=function(){var e=nn()(en.a.mark((function e(){var t,n,r,c=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,n=0===t,r=f===We?n?Ha.e:Ha.d:n?Va.g:Va.f,e.next=5,o(r(a));case 5:return e.next=7,i();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=[s.a.createElement($a,{key:"read",title:Object(Z.c)("Action").t(tc()),loading:p,disabled:!a.length,onClick:function(){return v(b(1))}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"read"})),s.a.createElement($a,{key:"unread",title:Object(Z.c)("Action").t(ec()),loading:p,disabled:!a.length,onClick:function(){return v(b(0))}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"unread"}))];return l===re.F.UNREAD_READ&&h.reverse(),s.a.createElement(s.a.Fragment,null,h)},rc=function(e){var t=e.title,n=e.content,r=e.className,a=e.children,c=e.autoClose,o=void 0===c||c,i=e.disabled,l=void 0!==i&&i,f=e.size,m=void 0===f?"normal":f,d=cn()(e,["title","content","className","children","autoClose","disabled","size"]),p=Object(u.useState)(Object(me.b)("dropdown")),v=_()(p,1)[0],b=Object(u.useState)(!1),h=_()(b,2),g=h[0],E=h[1],O=Object(de.a)(),j=O.anchorRef,x=O.isOpen,y=O.toggle,w=O.close;return s.a.createElement(s.a.Fragment,null,s.a.createElement(he.a,D()({title:t,buttonRef:j,isOpen:x,onClick:y,hasCaret:!0,disabled:l,caretClassName:"toolbar-icon",className:Object(me.a)(["flex-item-noshrink toolbar-button toolbar-button--dropdown",r])},d),n),s.a.createElement(Ee.a,{id:v,size:m,autoClose:o,autoCloseOutside:!g,isOpen:x,anchorRef:j,onClose:w,className:"toolbar-dropdown"},a({onClose:w,onLock:E})))},ac=n("umjs"),cc=n("I9Ef"),oc=n("V6h6");function ic(){var e=q()(["Row layout"]);return ic=function(){return e},e}function uc(){var e=q()(["Column layout"]);return uc=function(){return e},e}function sc(){var e=q()(["Change layout"]);return sc=function(){return e},e}var lc=function(e){var t=e.mailSettings,n=(void 0===t?{}:t).ViewLayout,r=void 0===n?re.fb.COLUMN:n,a=Object(_a.a)(),c=Object(V.a)().call,o=Object(Za.a)(),i=_()(o,2),u=i[0],l=i[1],f=r===re.fb.COLUMN?"layout-columns":"layout-rows",m=function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(oc.b)(t));case 2:return e.next=4,c();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(rc,{title:Object(Z.c)("Action").t(sc()),content:s.a.createElement(ge.a,{className:"toolbar-icon",name:f})},(function(){return s.a.createElement(ac.a,null,s.a.createElement(cc.a,{disabled:r===re.fb.COLUMN,loading:u,className:"alignleft",onClick:function(){return l(m(re.fb.COLUMN))}},s.a.createElement(ge.a,{name:"layout-columns",className:"mr0-5"}),Object(Z.c)("Action").t(uc())),s.a.createElement(cc.a,{disabled:r===re.fb.ROW,loading:u,className:"alignleft",onClick:function(){return l(m(re.fb.ROW))}},s.a.createElement(ge.a,{name:"layout-rows",className:"mr0-5"}),Object(Z.c)("Action").t(ic())))}))},fc=n("pIIs");function mc(){var e=q()(["Move to spam"]);return mc=function(){return e},e}function dc(){var e=q()(["Move to archive"]);return dc=function(){return e},e}function pc(){var e=q()(["Move to inbox"]);return pc=function(){return e},e}function vc(){var e=q()(["Move to trash"]);return vc=function(){return e},e}function bc(){var e=q()(["Elements moved"]);return bc=function(){return e},e}var hc=re.B.TRASH,gc=re.B.SPAM,Ec=re.B.DRAFTS,Oc=re.B.ARCHIVE,jc=re.B.SENT,xc=re.B.INBOX,yc=re.B.ALL_DRAFTS,wc=re.B.ALL_SENT,Nc=function(e){var t=e.labelID,n=void 0===t?"":t,r=e.mailSettings,a=void 0===r?{}:r,c=e.selectedIDs,o=void 0===c?[]:c,i=e.location,u=Object(fc.a)().createNotification,l=Object(V.a)().call,f=Object(_a.a)(),m=Object(Za.a)(),d=_()(m,2),p=d[0],v=d[1],b=ga({mailSettings:a,labelID:n,location:i}),h=function(){var e=nn()(en.a.mark((function e(t){var n;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b===We?Ha.c:Va.e,e.next=3,f(n({LabelID:t,IDs:o}));case 3:return e.next=5,l();case 5:u({text:Object(Z.c)("Success").t(bc())});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=![Ec,yc,hc].includes(n),E=![jc,wc,Ec,yc].includes(n),O=![Ec,yc,Oc].includes(n),j=![jc,wc,gc].includes(n);return s.a.createElement(s.a.Fragment,null,g?s.a.createElement($a,{loading:p,title:Object(Z.c)("Action").t(vc()),onClick:function(){return v(h(hc))}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"trash"})):null,E?s.a.createElement($a,{loading:p,title:Object(Z.c)("Action").t(pc()),onClick:function(){return v(h(xc))}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"inbox"})):null,O?s.a.createElement($a,{loading:p,title:Object(Z.c)("Action").t(dc()),onClick:function(){return v(h(Oc))}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"archive"})):null,j?s.a.createElement($a,{loading:p,title:Object(Z.c)("Action").t(mc()),onClick:function(){return v(h(gc))}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"spam"})):null)},kc=n("ncqd"),Ac=n("5Bhs"),Dc=n("+Vas");function Cc(){var e=q()(["Empty folder"]);return Cc=function(){return e},e}function Sc(){var e=q()(["Delete"]);return Sc=function(){return e},e}function Ic(){var e=q()(["Folder cleared"]);return Ic=function(){return e},e}function Lc(){var e=q()(["This action will permanently delete your emails. Are you sure you want to empty this folder?"]);return Lc=function(){return e},e}function Pc(){var e=q()(["Empty"]);return Pc=function(){return e},e}function Tc(){var e=q()(["Empty folder"]);return Tc=function(){return e},e}function Mc(){var e=q()(["Elements deleted"]);return Mc=function(){return e},e}function Rc(){var e=q()(["This action will permanently delete the selected email. Are you sure you want to delete this email?"]);return Rc=function(){return e},e}function Bc(){var e=q()(["Delete"]);return Bc=function(){return e},e}function Fc(){var e=q()(["Delete email"]);return Fc=function(){return e},e}var zc,Uc,Kc,Gc=re.B.TRASH,_c=re.B.SPAM,Hc=re.B.DRAFTS,Vc=re.B.ALL_DRAFTS,Xc=re.B.ALL_MAIL,Wc=re.B.INBOX,Yc=re.B.SENT,qc=re.B.ALL_SENT,Jc=re.B.ARCHIVE,Qc=function(e){var t=e.labelID,n=void 0===t?"":t,r=e.mailSettings,a=void 0===r?{}:r,c=e.selectedIDs,o=void 0===c?[]:c,i=e.location,u=Object(fc.a)().createNotification,l=Object(rn.a)().createModal,f=Object(V.a)().call,m=Object(_a.a)(),d=Object(Za.a)(),p=_()(d,2),v=p[0],b=p[1],h=[Gc,_c,Hc,Vc,Yc,qc].includes(n),g=![Wc,Yc,qc,Jc,Xc].includes(n),E=ga({mailSettings:a,labelID:n,location:i}),O=function(){var e=nn()(en.a.mark((function e(){var t;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){l(s.a.createElement(kc.a,{title:Object(Z.c)("Title").ngettext(Object(Z.msgid)(Fc()),"Delete emails",o.length),confirm:s.a.createElement(Ac.a,{type:"submit",icon:null},Object(Z.c)("Action").t(Bc())),onConfirm:e,onClose:t},s.a.createElement(Dc.a,{type:"warning"},Object(Z.c)("Info").ngettext(Object(Z.msgid)(Rc()),"This action will permanently delete the selected emails. Are you sure you want to delete these emails?",o.length))))}));case 2:return t=E===We?Ha.a:Va.b,e.next=5,m(t(o));case 5:return e.next=7,f();case 7:u({text:Object(Z.c)("Success").t(Mc())});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){l(s.a.createElement(kc.a,{title:Object(Z.c)("Title").t(Tc()),confirm:s.a.createElement(Ac.a,{type:"submit",icon:null},Object(Z.c)("Action").t(Pc())),onConfirm:e,onClose:t},s.a.createElement(Dc.a,{type:"warning"},Object(Z.c)("Info").t(Lc()))))}));case 2:return Z.c,e.next=5,m(Object(Va.c)({LabelID:n,AddressID:void 0}));case 5:return e.next=7,f();case 7:u({text:Object(Z.c)("Success").t(Ic())});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,h?s.a.createElement($a,{loading:v,title:Object(Z.c)("Action").t(Sc()),onClick:function(){return b(O())}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"delete"})):null,g?s.a.createElement($a,{loading:v,title:Object(Z.c)("Action").t(Cc()),onClick:function(){return b(j())}},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"empty-folder"})):null)};function Zc(){var e=q()(["Date: old to new"]);return Zc=function(){return e},e}function $c(){var e=q()(["Date: new to old"]);return $c=function(){return e},e}function eo(){var e=q()(["Size: large to small"]);return eo=function(){return e},e}function to(){var e=q()(["Size: small to large"]);return to=function(){return e},e}var no="Time",ro="Size",ao=(Kc={},Q()(Kc,ro,(zc={},Q()(zc,0,"sort-small-large"),Q()(zc,1,"sort-large-small"),zc)),Q()(Kc,no,(Uc={},Q()(Uc,0,"sort-old-new"),Q()(Uc,1,"sort-new-old"),Uc)),Kc),co=function(e){var t=e.loading,n=e.sort,r=n.sort,a=n.desc,c=e.onSort;return s.a.createElement(rc,{content:s.a.createElement(ge.a,{className:"toolbar-icon",name:ao[r][a?1:0]})},(function(){return s.a.createElement(ac.a,null,s.a.createElement(cc.a,{disabled:r===ro&&!a,className:"alignleft",loading:t,onClick:function(){return c({sort:ro,desc:!1})}},s.a.createElement(ge.a,{name:ao.Size[0],className:"mr0-5"}),Object(Z.c)("Action").t(to())),s.a.createElement(cc.a,{disabled:r===ro&&a,className:"alignleft",loading:t,onClick:function(){return c({sort:ro,desc:!0})}},s.a.createElement(ge.a,{name:ao.Size[1],className:"mr0-5"}),Object(Z.c)("Action").t(eo())),s.a.createElement(cc.a,{disabled:r===no&&a,className:"alignleft",loading:t,onClick:function(){return c({sort:no,desc:!0})}},s.a.createElement(ge.a,{name:ao.Time[1],className:"mr0-5"}),Object(Z.c)("Action").t($c())),s.a.createElement(cc.a,{disabled:r===no&&!a,className:"alignleft",loading:t,onClick:function(){return c({sort:no,desc:!1})}},s.a.createElement(ge.a,{name:ao.Time[0],className:"mr0-5"}),Object(Z.c)("Action").t(Zc())))}))};function oo(){var e=q()(["Show read"]);return oo=function(){return e},e}function io(){var e=q()(["Show unread"]);return io=function(){return e},e}function uo(){var e=q()(["Show all"]);return uo=function(){return e},e}var so=function(e){var t=e.loading,n=e.filter,r=void 0===n?{}:n,a=e.onFilter;return s.a.createElement(rc,{content:s.a.createElement(ge.a,{className:"toolbar-icon",name:"bullet-points"})},(function(){return s.a.createElement(ac.a,null,s.a.createElement(cc.a,{disabled:0===Object.values(r).length,className:"alignleft",loading:t,onClick:function(){return a({})}},s.a.createElement(ge.a,{name:"bullet-points",className:"mr0-5"}),Object(Z.c)("Action").t(uo())),s.a.createElement(cc.a,{disabled:1===r.Unread,className:"alignleft",loading:t,onClick:function(){return a({Unread:1})}},s.a.createElement(ge.a,{name:"unread",className:"mr0-5"}),Object(Z.c)("Action").t(io())),s.a.createElement(cc.a,{disabled:0===r.Unread,className:"alignleft",loading:t,onClick:function(){return a({Unread:0})}},s.a.createElement(ge.a,{name:"read",className:"mr0-5"}),Object(Z.c)("Action").t(oo())))}))};function lo(){var e=q()(["All starred"]);return lo=function(){return e},e}function fo(){var e=q()(["All unstarred"]);return fo=function(){return e},e}function mo(){var e=q()(["All read"]);return mo=function(){return e},e}function po(){var e=q()(["All unread"]);return po=function(){return e},e}function vo(){var e=q()(["Select all"]);return vo=function(){return e},e}function bo(){var e=q()(["Open actions dropdown"]);return bo=function(){return e},e}var ho=function(e){var t=e.loading,n=e.disabled,r=e.checked,a=e.onCheck;return s.a.createElement(s.a.Fragment,null,s.a.createElement(un.a,{className:"flex pl1",checked:r,disabled:n,loading:t,onChange:function(e){var t=e.target;return a(t.checked)}}),s.a.createElement(rc,{disabled:n,loading:t,title:Object(Z.c)("Title").t(bo()),content:""},(function(){return s.a.createElement(ac.a,null,s.a.createElement(cc.a,{className:"alignleft",onClick:function(){return a()}},s.a.createElement(ge.a,{name:"show-all-emails",className:"mr0-5"}),Object(Z.c)("Action").t(vo())),s.a.createElement(cc.a,{className:"alignleft",onClick:function(){return a()}},s.a.createElement(ge.a,{name:"unread",className:"mr0-5"}),Object(Z.c)("Action").t(po())),s.a.createElement(cc.a,{className:"alignleft",onClick:function(){return a()}},s.a.createElement(ge.a,{name:"read",className:"mr0-5"}),Object(Z.c)("Action").t(mo())),s.a.createElement(cc.a,{className:"alignleft",onClick:function(){return a()}},s.a.createElement(ge.a,{name:"star",className:"mr0-5"}),Object(Z.c)("Action").t(fo())),s.a.createElement(cc.a,{className:"alignleft",onClick:function(){return a()}},s.a.createElement(ge.a,{name:"starfull",className:"mr0-5"}),Object(Z.c)("Action").t(lo())))})))},go=n("TQRW"),Eo=n("8zwm"),Oo=n("iCC2"),jo=n("LKB7");n("aM+n");function xo(){var e=q()(["No folder found"]);return xo=function(){return e},e}function yo(){var e=q()(["Filter folders"]);return yo=function(){return e},e}function wo(){var e=q()(["Create folder"]);return wo=function(){return e},e}function No(){var e=q()(["Move to"]);return No=function(){return e},e}function ko(){var e=q()(["Elements moved to ",""]);return ko=function(){return e},e}function Ao(){var e=q()(["Trash"]);return Ao=function(){return e},e}function Do(){var e=q()(["Spam"]);return Do=function(){return e},e}function Co(){var e=q()(["Archive"]);return Co=function(){return e},e}function So(){var e=q()(["Inbox"]);return So=function(){return e},e}var Io=go.a,Lo=re.B.INBOX,Po=re.B.TRASH,To=re.B.SPAM,Mo=re.B.ARCHIVE,Ro=function(e){var t=e.elements,n=e.onClose,r=e.onLock,a=Object(fc.a)().createNotification,c=Object(Za.a)(),o=_()(c,2),i=o[0],l=o[1],f=Object(_a.a)(),m=Object(V.a)().call,d=Object(rn.a)().createModal,p=Object(pe.a)(),v=_()(p,1)[0],b=void 0===v?[]:v,h=Object(u.useState)(""),g=_()(h,2),E=g[0],O=g[1],j=Object(jo.f)(E);if(!(t&&t.length&&b&&b.length))return null;var x=Ea(t[0]),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return gt(e)}))}(b).concat([{ID:Lo,Name:Object(Z.c)("Mailbox").t(So()),icon:"inbox"},{ID:Mo,Name:Object(Z.c)("Mailbox").t(Co()),icon:"archive"},{ID:To,Name:Object(Z.c)("Mailbox").t(Do()),icon:"spam"},{ID:Po,Name:Object(Z.c)("Mailbox").t(Ao()),icon:"trash"}].filter(Boolean)).filter((function(e){var t=e.Name,n=void 0===t?"":t;return!E||Object(jo.f)(n).includes(j)})),w=function(){var e=nn()(en.a.mark((function e(r){var c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x?Va.e:Ha.c,o=t.map((function(e){return e.ID||""})),e.next=4,f(c({LabelID:null==r?void 0:r.ID,IDs:o}));case 4:return e.next=6,m();case 6:n(),a({text:Object(Z.c)("Success").t(ko(),null==r?void 0:r.Name)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"p1"},s.a.createElement("div",{className:"flex flex-spacebetween flex-items-center mb1"},s.a.createElement("label",{htmlFor:"filter-folders",className:"bold"},Object(Z.c)("Label").t(No())),s.a.createElement(Oo.a,{title:Object(Z.c)("Title").t(wo())},s.a.createElement(ke.a,{className:"pm-button--small pm-button--for-smallicon",onClick:function(){r(!0);var e={Name:E,Color:re.y[Object(yt.d)(0,re.y.length-1)],Exclusive:!0};d(s.a.createElement(Eo.a,{type:"folder",label:e,onClose:function(){return r(!1)}}))}},s.a.createElement(ge.a,{name:"folder",fill:"light",className:"flex-item-noshrink mr0-25"}),"+"))),s.a.createElement("div",{className:"mb1"},s.a.createElement(Io,{autoFocus:!0,value:E,onChange:O,id:"filter-folders",placeholder:Object(Z.c)("Placeholder").t(yo())})),s.a.createElement("div",{className:"scroll-if-needed scroll-smooth-touch moveDropdown-list-container"},s.a.createElement("ul",{className:"unstyled mt0 mb0"},y.map((function(e,t){return s.a.createElement("li",{key:e.ID,className:Object(me.a)([t<y.length-1&&"border-bottom"])},s.a.createElement("button",{type:"button",disabled:i,className:"w100 flex flex-nowrap flex-items-center pt0-5 pb0-5",onClick:function(){return l(w(e))}},s.a.createElement(ge.a,{name:e.icon||"folder",color:e.Color,className:"flex-item-noshrink mr0-5"}),s.a.createElement("span",{className:"ellipsis",title:e.Name},e.Name)))})),0===y.length&&s.a.createElement("li",{key:"empty",className:"w100 flex flex-nowrap flex-spacebetween flex-items-center pt0-5 pb0-5"},Object(Z.c)("Info").t(xo())))))};n("ncOH");function Bo(){var e=q()(["Apply"]);return Bo=function(){return e},e}function Fo(){var e=q()(["Also archive"]);return Fo=function(){return e},e}function zo(){var e=q()(["No label found"]);return zo=function(){return e},e}function Uo(){var e=q()(["Filter labels"]);return Uo=function(){return e},e}function Ko(){var e=q()(["Create label"]);return Ko=function(){return e},e}function Go(){var e=q()(["Label as"]);return Go=function(){return e},e}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ho(){var e=q()(["Labels applied"]);return Ho=function(){return e},e}var Vo,Xo=go.a;!function(e){e[e.On=0]="On",e[e.Off=1]="Off",e[e.Indeterminate=2]="Indeterminate"}(Vo||(Vo={}));var Wo=function(e){var t=e.elements,n=e.onClose,r=e.onLock,a=Object(u.useState)(Object(me.b)("label-dropdown")),c=_()(a,1)[0],o=Object(fc.a)().createNotification,i=Object(Za.a)(),l=_()(i,2),f=l[0],m=l[1],d=Object(_a.a)(),p=Object(V.a)().call,v=Object(rn.a)().createModal,b=Object(pe.a)(),h=_()(b,1)[0],g=void 0===h?[]:h,E=Object(u.useState)(""),O=_()(E,2),j=O[0],x=O[1],y=Object(u.useState)(""),w=_()(y,2),N=w[0],k=w[1],A=Object(u.useState)(!1),D=_()(A,2),C=D[0],S=D[1],I=Object(u.useState)({}),L=_()(I,2),P=L[0],T=L[1];if(Object(u.useEffect)((function(){T(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Et(e).forEach((function(e){var r=e.ID,a=void 0===r?"":r,c=t.filter((function(e){return ja(e,a)})).length;n[a]=0===c?Vo.Off:c===t.length?Vo.On:Vo.Indeterminate})),n}(g,t))}),[t,g.length]),!(t&&t.length&&g&&g.length))return null;var M=Ea(t[0]),R=Object(jo.f)(j),B=Et(g).filter((function(e){var t=e.Name,n=void 0===t?"":t;return!j||Object(jo.f)(n).includes(R)})),F=function(){var e=nn()(en.a.mark((function e(){var r,a,c,i,u,s=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:P,a=M?Va.e:Ha.c,c=M?Va.k:Ha.h,i=t.map((function(e){return e.ID||""})),u=Object.keys(r).map((function(e){return r[e]===Vo.On?d(a({LabelID:e,IDs:i})):r[e]===Vo.Off?d(c({LabelID:e,IDs:i})):void 0})),e.next=7,Promise.all(u);case 7:return e.next=9,p();case 9:n(),o({text:Object(Z.c)("Success").t(Ho())});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){var n=e.reduce((function(e,n){return e[n]=t?Vo.On:Vo.Off,e}),{});T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},P,{},n))},U=function(e){z([(null==e?void 0:e.ID)||""],!0)};return s.a.createElement("div",{className:"p1"},s.a.createElement("div",{className:"flex flex-spacebetween flex-items-center mb1"},s.a.createElement("label",{htmlFor:"filter-labels",className:"bold"},Object(Z.c)("Label").t(Go())),s.a.createElement(Oo.a,{title:Object(Z.c)("Title").t(Ko())},s.a.createElement(ke.a,{className:"pm-button--small pm-button--for-smallicon",onClick:function(){r(!0);var e={Name:j,Color:re.y[Object(yt.d)(0,re.y.length-1)],Exclusive:!1};v(s.a.createElement(Eo.a,{type:"label",label:e,onAdd:U,onClose:function(){return r(!1)}}))}},s.a.createElement(ge.a,{name:"label",fill:"light",className:"flex-item-noshrink mr0-25"}),"+"))),s.a.createElement("div",{className:"mb1"},s.a.createElement(Xo,{autoFocus:!0,value:j,onChange:x,id:"filter-labels",placeholder:Object(Z.c)("Placeholder").t(Uo())})),s.a.createElement("div",{className:"scroll-if-needed scroll-smooth-touch mb1 labelDropdown-list-container"},s.a.createElement("ul",{className:"unstyled mt0 mb0"},B.map((function(e,t){var n,r=e.ID,a=void 0===r?"":r,o=e.Name,i=void 0===o?"":o,u=e.Color,l=void 0===u?"":u,f="".concat(c,"-").concat(a);return s.a.createElement("li",{key:f,className:Object(me.a)(["w100 flex flex-nowrap flex-spacebetween flex-items-center pt0-5 pb0-5",t<B.length-1&&"border-bottom"])},s.a.createElement("div",{className:"flex flex-nowrap flex-spacebetween flex-items-center"},s.a.createElement(ge.a,{name:"label",color:l,className:"flex-item-noshrink mr0-5"}),s.a.createElement("label",{htmlFor:f,title:i,className:"ellipsis"},i)),s.a.createElement(un.a,{className:"flex-item-noshrink",id:f,checked:P[a]===Vo.On,indeterminate:P[a]===Vo.Indeterminate,onChange:(n=a,function(e){var t=e.target,r=e.nativeEvent.shiftKey,a=[n];if(N&&r){var c=B.findIndex((function(e){return e.ID===n})),o=B.findIndex((function(e){return e.ID===N}));a.push.apply(a,jt()(B.slice(Math.min(c,o),Math.max(c,o)+1).map((function(e){var t=e.ID;return void 0===t?"":t}))))}k(n),z(a,t.checked)})}))})),0===B.length&&s.a.createElement("li",{key:"empty",className:"w100 flex flex-nowrap flex-spacebetween flex-items-center pt0-5 pb0-5"},Object(Z.c)("Info").t(zo())))),s.a.createElement("div",{className:"mb1 flex flex-spacebetween"},s.a.createElement("label",{htmlFor:"alsoArchive"},Object(Z.c)("Label").t(Fo())),s.a.createElement(un.a,{id:"alsoArchive",checked:C,onChange:function(e){var t=e.target;return S(t.checked)}})),s.a.createElement("div",null,s.a.createElement(ke.a,{className:"w100",loading:f,onClick:function(){return m(F())}},Object(Z.c)("Action").t(Bo()))))},Yo=function(e){var t=e.onClick;return s.a.createElement($a,{onClick:t},s.a.createElement(ge.a,{className:"toolbar-icon mauto",name:"arrow-left"}))};function qo(){var e=q()(["Next"]);return qo=function(){return e},e}function Jo(){var e=q()(["Change layout"]);return Jo=function(){return e},e}function Qo(){var e=q()(["Previous"]);return Qo=function(){return e},e}var Zo=function(e){var t=e.loading,n=e.page,r=e.onPage,a=function(e){return r(e)},c=Xa(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement($a,{loading:t,disabled:n.page<=0,title:Object(Z.c)("Action").t(Qo()),onClick:function(){return a(n.page-1)}},s.a.createElement(ge.a,{className:"toolbar-icon rotateZ-90 mauto",name:"caret"})),s.a.createElement(rc,{title:Object(Z.c)("Action").t(Jo()),content:String(n.page+1),disabled:c<=1,size:"narrow"},(function(){return s.a.createElement(ac.a,null,jt()(Array(c)).map((function(e,r){return s.a.createElement(cc.a,{key:r,loading:t,disabled:n.page===r,onClick:(c=r,function(){return a(c)})},r+1);var c})))})),s.a.createElement($a,{loading:t,disabled:n.page>=c-1,title:Object(Z.c)("Action").t(qo()),onClick:function(){return a(n.page+1)}},s.a.createElement(ge.a,{className:"toolbar-icon rotateZ-270 mauto",name:"caret"})))},$o=(n("0u2a"),function(e){var t=e.location,n=e.labelID,r=void 0===n?"":n,a=e.elementID,c=e.elements,o=e.checkAll,i=e.onCheckAll,l=e.mailSettings,f=void 0===l?{}:l,m=e.selectedIDs,d=void 0===m?[]:m,p=e.loading,v=void 0!==p&&p,b=e.onSort,h=e.sort,g=e.onFilter,E=e.filter,O=e.onBack,j=e.page,x=e.onPage,y=yr(f),w=Object(u.useMemo)((function(){return d.map((function(e){return c.find((function(t){return t.ID===e}))})).filter(yt.b)}),[c,d]);return s.a.createElement("nav",{className:"toolbar flex noprint flex-spacebetween"},s.a.createElement("div",{className:"flex"},y||!a?s.a.createElement(ho,{checked:o,onCheck:i,loading:v}):s.a.createElement(Yo,{onClick:O}),s.a.createElement(Qa,null),s.a.createElement(nc,{labelID:r,mailSettings:f,selectedIDs:d,location:t}),s.a.createElement(Qa,null),s.a.createElement(Nc,{labelID:r,mailSettings:f,selectedIDs:d,location:t}),s.a.createElement(Qc,{labelID:r,mailSettings:f,selectedIDs:d,location:t}),s.a.createElement(Qa,null),s.a.createElement(rc,{autoClose:!1,disabled:!d.length,content:s.a.createElement(ge.a,{className:"toolbar-icon",name:"folder"})},(function(e){var t=e.onClose,n=e.onLock;return s.a.createElement(Ro,{elements:w,onClose:t,onLock:n})})),s.a.createElement(rc,{autoClose:!1,disabled:!d.length,content:s.a.createElement(ge.a,{className:"toolbar-icon",name:"label"})},(function(e){var t=e.onClose,n=e.onLock;return s.a.createElement(Wo,{elements:w,onClose:t,onLock:n})}))),s.a.createElement("div",{className:"flex"},s.a.createElement(so,{loading:v,filter:E,onFilter:g}),s.a.createElement(co,{loading:v,sort:h,onSort:b}),s.a.createElement(lc,{mailSettings:f}),s.a.createElement(Qa,null),s.a.createElement(Zo,{loading:v,page:j,onPage:x})))}),ei=function(e){var t=e.children,n=e.className,r=cn()(e,["children","className"]);return s.a.createElement("label",{className:Object(me.a)(["relative stop-propagation",n])},s.a.createElement("input",D()({type:"checkbox",className:"item-checkbox inner-ratio-container cursor-pointer m0"},r)),s.a.createElement("span",{className:"item-icon flex-item-noshrink rounded50 bg-white inline-flex"},s.a.createElement("span",{className:"mauto item-abbr"},t),s.a.createElement("span",{className:"item-icon-fakecheck mauto"},s.a.createElement(ge.a,{name:"on",className:"fill-white"}))))},ti=function(e){var t=e.element,n=void 0===t?{}:t,r=Object(_a.a)(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!Ea(e)}(n),c=Object(V.a)().call,o=Object(Za.a)(),i=_()(o,2),u=i[0],l=i[1],f=Na(n),m=null==f?void 0:f.includes(re.B.STARRED),d=m?"starfull":"star",p=function(){var e=nn()(en.a.mark((function e(){var t;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a?m?Ha.h:Ha.c:m?Va.k:Va.e,e.next=3,r(t({LabelID:re.B.STARRED,IDs:[n.ID]}));case 3:return e.next=5,c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("button",{disabled:u,type:"button",className:Object(me.a)(["starbutton item-star inline-flex",m&&"starbutton--is-starred"]),onClick:function(){return l(p())}},s.a.createElement(ge.a,{name:d,fill:""}))},ni=n("+AqD"),ri=n("2iEm");function ai(){var e=q()(["Remove this label"]);return ai=function(){return e},e}function ci(){var e=q()(["Remove this label"]);return ci=function(){return e},e}function oi(){var e=q()(["Display emails labelled with ",""]);return oi=function(){return e},e}var ii=function(e){var t=e.element,n=void 0===t?{}:t,r=e.onUnlabel,a=void 0===r?yt.c:r,c=e.max,o=void 0===c?99:c,i=e.labels,u=void 0===i?[]:i,l=e.className,f=void 0===l?"":l,m=Na(n)||[],d=Object(pt.b)(Et(u)),p=m.map((function(e){return d[e]})).filter(Boolean),v=Object(ni.c)(p,"Order").slice(0,o);return s.a.createElement("div",{className:Object(me.a)(["inline-flex flew-row flex-items-center pm-badgeLabel-container stop-propagation",f])},v.map((function(e){var t=e.ID,n=void 0===t?"":t,r=e.Name,c=void 0===r?"":r,o=e.Color,i=void 0===o?"":o;return s.a.createElement("span",{className:"badgeLabel flex flex-row flex-items-center ml0-25",style:{backgroundColor:i,borderColor:i},key:n},s.a.createElement(ri.a,{to:"/".concat(n),className:"pm-badgeLabel-link color-white nodecoration",title:Object(Z.c)("Action").t(oi(),c)},c),a!==yt.c?s.a.createElement("button",{type:"button",className:"flex pm-badgeLabel-button flex-item-noshrink",onClick:function(){return a(n)},title:Object(Z.c)("Action").t(ci())},s.a.createElement(ge.a,{name:"off",size:12,color:"white"}),s.a.createElement("span",{className:"sr-only"},Object(Z.c)("Action").t(ai()))):null)})))},ui=function(e){var t=e.element,n=void 0===t?{}:t,r=e.className;return function(e){return Ea(e)?ma(e):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ContextNumAttachments;return!!t}(e)}(n)?s.a.createElement(ge.a,{name:"attach",fill:"",className:Object(me.a)(["fill-global-success",r])}):null};function si(){var e=q()(["Drafts"]);return si=function(){return e},e}function li(){var e=q()(["Sent"]);return li=function(){return e},e}function fi(){var e=q()(["Archive"]);return fi=function(){return e},e}function mi(){var e=q()(["Spam"]);return mi=function(){return e},e}function di(){var e=q()(["Trash"]);return di=function(){return e},e}function pi(){var e=q()(["Inbox"]);return pi=function(){return e},e}var vi=re.B.INBOX,bi=re.B.TRASH,hi=re.B.SPAM,gi=re.B.ARCHIVE,Ei=re.B.SENT,Oi=re.B.DRAFTS,ji=function(e){var t,n,r=e.message,a=void 0===r?{}:r,c=e.mailSettings,o=a.LabelIDs,i=void 0===o?[]:o,u=(n=c.ShowMoved,t={},Q()(t,vi,{icon:"inbox",name:Object(Z.c)("Mailbox").t(pi()),to:"/inbox"}),Q()(t,bi,{icon:"trash",name:Object(Z.c)("Mailbox").t(di()),to:"/trash"}),Q()(t,hi,{icon:"spam",name:Object(Z.c)("Mailbox").t(mi()),to:"/spam"}),Q()(t,gi,{icon:"archive",name:Object(Z.c)("Mailbox").t(fi()),to:"/archive"}),Q()(t,Ei,{icon:"sent",name:Object(Z.c)("Mailbox").t(li()),to:n&re.bb.SENT?"/".concat(Ye[re.B.ALL_SENT]):"/".concat(Ye[re.B.SENT])}),Q()(t,Oi,{icon:"drafts",name:Object(Z.c)("Mailbox").t(si()),to:n&re.bb.DRAFTS?"/".concat(Ye[re.B.ALL_DRAFTS]):"/".concat(Ye[re.B.DRAFTS])}),t);return s.a.createElement(s.a.Fragment,null,i.filter((function(e){return u[e]})).map((function(e){var t=u[e],n=t.icon,r=t.name,a=t.to;return s.a.createElement(ri.a,{to:a,className:"mr0-25 flex-item-noshrink",key:e,title:r},s.a.createElement(ge.a,{name:n}))})))},xi=n("TjGc"),yi=n("7xvl"),wi=n("voWS"),Ni=function(e){return Object(xr.a)(e,Object(xi.a)(e)?"p":"PP",{locale:wi.a})},ki=function(e){return Object(xr.a)(e,"PPPPp",{locale:wi.a})},Ai={simple:Ni,full:ki,distance:function(e){return Object(yi.a)(e,{locale:wi.a,addSuffix:!0})}},Di=function(e){var t=e.element,n=void 0===t?{}:t,r=e.className,a=e.mode,c=void 0===a?"simple":a,o=Object(u.useState)(""),i=_()(o,2),l=i[0],f=i[1],m=Ai[c]||Ai.distance;return Object(u.useEffect)((function(){var e=function(){return f(m(Oa(n)))};if(e(),"distance"===c){var t=setInterval(e,1e3);return function(){return clearInterval(t)}}}),[n,c]),s.a.createElement("span",{className:Object(me.a)(["item-date",r])},l)},Ci=function(e){var t=e.conversation,n=e.className,r=t.NumMessages,a=void 0===r?0:r;return a<=1?null:s.a.createElement("span",{className:n},"(",a,")")},Si=function(e){var t=e.labels,n=e.element,r=e.mailSettings,a=void 0===r?{}:r,c=e.type,o=e.senders,i=e.unread,u=n.Subject,l=c===We;return s.a.createElement("div",{className:"flex-item-fluid flex flex-nowrap flex-column flex-spacebetween item-titlesender"},s.a.createElement("div",{className:"flex"},s.a.createElement("div",{className:"flex-item-fluid flex w0 pr1"},l?s.a.createElement(Ci,{className:Object(me.a)(["mr0-25",i&&"bold"]),conversation:n}):s.a.createElement(ji,{message:n,mailSettings:a}),s.a.createElement("span",{className:Object(me.a)(["inbl mw100 ellipsis",i&&"bold"])},u)),s.a.createElement(Di,{element:n,className:i?"bold":void 0})),s.a.createElement("div",{className:"flex"},s.a.createElement("div",{className:"flex-item-fluid flex pr1"},s.a.createElement("span",{className:Object(me.a)(["inbl mw100 ellipsis",i&&"bold"])},o)),s.a.createElement("div",{className:"item-icons"},s.a.createElement(ii,{max:4,labels:t,element:n})," ",s.a.createElement(ui,{element:n})," ",s.a.createElement(ti,{element:n}))))},Ii=n("0xu3"),Li=function(e){var t=e.labels,n=e.element,r=e.mailSettings,a=void 0===r?{}:r,c=e.type,o=e.senders,i=e.unread,u=n.Subject,l=n.Size,f=c===We,m=Object(Ii.a)(l);return s.a.createElement("div",{className:"flex-item-fluid flex flex-nowrap flex-row flex-spacebetween item-titlesender"},s.a.createElement("div",{className:Object(me.a)(["w20 flex mauto pr1",i&&"bold"])},o),s.a.createElement("div",{className:"flex-item-fluid flex mauto"},f?s.a.createElement(Ci,{className:Object(me.a)(["mr0-25",i&&"bold"]),conversation:n}):s.a.createElement(ji,{message:n,mailSettings:a}),s.a.createElement("span",{className:Object(me.a)(["inbl mw100 ellipsis",i&&"bold"])},u),s.a.createElement(ii,{max:4,labels:t,element:n}),s.a.createElement(ui,{element:n,className:"ml0-5"})),s.a.createElement("span",{className:"mtauto mbauto mr1 ml1 ng-binding"},m),s.a.createElement("span",{className:"mauto"},s.a.createElement(Di,{element:n,className:i?"bold":void 0})),s.a.createElement("div",{className:"mtauto mbauto ml0-5"},s.a.createElement(ti,{element:n})))},Pi=re.B.SENT,Ti=re.B.ALL_SENT,Mi=re.B.DRAFTS,Ri=re.B.ALL_DRAFTS,Bi=function(e){var t=e.location,n=e.labelID,r=e.labels,a=e.element,c=e.elementID,o=e.mailSettings,i=void 0===o?{}:o,u=e.checked,l=void 0!==u&&u,f=e.contacts,m=e.contactGroups,d=e.onCheck,p=e.onClick,v=a.ID,b=void 0===v?"":v,h=[Pi,Ti,Mi,Ri].includes(n),g=ga({mailSettings:i,labelID:n,location:t}),E=g===We,O=E?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Senders,n=void 0===t?[]:t;return n}(a):[oa(a)],j=ia(a),x=O.map(Gt),y=Vt(j,m).map((function(e){return Ht(e,f)})),w=i.ViewLayout,N=(void 0===w?re.fb.COLUMN:w)===re.fb.COLUMN,k=N?Si:Li,A=function(e){return"NumUnread"in e?0!==e.NumUnread:"Unread"in e&&0!==e.Unread}(a);return s.a.createElement("div",{onClick:function(e){e.target.closest(".stop-propagation")?e.stopPropagation():p(a)},className:Object(me.a)(["flex flex-nowrap cursor-pointer",N?"item-container":"item-container-row",c===b&&"item-is-selected",!A&&"read"])},s.a.createElement(ei,{className:"mr1 item-checkbox",checked:l,onChange:d},Object(jo.d)(h?y[0]:x[0])),s.a.createElement(k,{labels:r,element:a,mailSettings:i,type:g,senders:(h?y:x).join(", "),unread:A}))},Fi=n("M7Sy"),zi=n("g6eX");function Ui(){var e=q()(["Seems like you are all caught up for now"]);return Ui=function(){return e},e}function Ki(){var e=q()(["You do not have any messages here"]);return Ki=function(){return e},e}function Gi(){var e=q()(["No messages found"]);return Gi=function(){return e},e}function _i(){var e=q()(["No messages found"]);return _i=function(){return e},e}function Hi(){var e=q()(["No messages found"]);return Hi=function(){return e},e}function Vi(){var e=q()(["No messages found"]);return Vi=function(){return e},e}var Xi=function(e){var t=e.labelID===re.B.INBOX,n=!t;return s.a.createElement("div",{className:"m2"},s.a.createElement("figure",{className:"flex-item-fluid aligncenter p3"},!1,n&&s.a.createElement("img",{src:Fi.a,alt:Object(Z.c)("Search - no results").t(Vi())}),t&&s.a.createElement("img",{src:zi.a,alt:Object(Z.c)("Search - no results").t(Hi())}),s.a.createElement("figcaption",{className:"mt2"},s.a.createElement("h3",{className:"bold"},n?Object(Z.c)("Search - no results").t(_i()):Object(Z.c)("Search - no results").t(Gi())),s.a.createElement("p",{"data-if":"folder"},n?Object(Z.c)("Info").t(Ki()):Object(Z.c)("Info").t(Ui())))))},Wi=n("SxKE"),Yi=n("F/2c"),qi=n("Iivb"),Ji=function(){var e=Object(_a.a)(),t=Object(Wi.a)();return Object(Yi.a)(t,"ContactGroups",Object(u.useCallback)((function(){return Object(qi.a)(e)}),[e]))},Qi=function(e){var t=e.labelID,n=e.elementID,r=e.mailSettings,a=void 0===r?{}:r,c=e.elements,o=void 0===c?[]:c,i=e.checkedIDs,l=void 0===i?[]:i,f=e.onCheck,m=e.onClick,d=e.location,p=Object(ve.a)(),v=_()(p,2),b=v[0],h=v[1],g=Ji(),E=_()(g,2),O=E[0],j=E[1],x=Object(pe.a)(),y=_()(x,1)[0],w=Object(u.useState)(),N=_()(w,2),k=N[0],A=N[1];if(h||j)return null;var D=function(e){return function(t){var n=t.target,r=t.nativeEvent.shiftKey,a=[e];if(k&&r){var c=o.findIndex((function(t){return t.ID===e})),i=o.findIndex((function(e){return e.ID===k}));a.push.apply(a,jt()(o.slice(Math.min(c,i),Math.max(c,i)+1).map((function(e){return e.ID||""}))))}A(e),f(a,n.checked)}};return 0===o.length?s.a.createElement(Xi,{labelID:t}):s.a.createElement(s.a.Fragment,null,o.map((function(e){return s.a.createElement(Bi,{location:d,labels:y,labelID:t,key:e.ID,elementID:n,element:e,checked:l.includes(e.ID||""),contacts:b,contactGroups:O,onCheck:D(e.ID||""),onClick:m,mailSettings:a})})))},Zi=n("KAzH"),$i=(n("z3V7"),function(e){var t=e.message,n=t.content,r=void 0===n?"":n,a=t.data,c=Kr(void 0===a?{}:a);return s.a.createElement("div",{className:Object(me.a)(["message-content bodyDecrypted",c&&"plain"]),dangerouslySetInnerHTML:{__html:r}})}),eu=$e,tu=Ze;function nu(){var e=q()(["Encrypted message"]);return nu=function(){return e},e}function ru(){var e=q()(["Sender verification failed"]);return ru=function(){return e},e}function au(){var e=q()(["Stored with zero access encryption"]);return au=function(){return e},e}function cu(){var e=q()(["Stored with zero access encryption"]);return cu=function(){return e},e}function ou(){var e=q()(["Sent by ProtonMail with zero access encryption"]);return ou=function(){return e},e}function iu(){var e=q()(["Sender verification failed"]);return iu=function(){return e},e}function uu(){var e=q()(["Sent by you with end-to-end encryption"]);return uu=function(){return e},e}function su(){var e=q()(["Sent by you with end-to-end encryption"]);return su=function(){return e},e}function lu(){var e=q()(["Sender verification failed"]);return lu=function(){return e},e}function fu(){var e=q()(["PGP-signed message from verified address"]);return fu=function(){return e},e}function mu(){var e=q()(["Stored with zero access encryption"]);return mu=function(){return e},e}function du(){var e=q()(["Sender verification failed"]);return du=function(){return e},e}function pu(){var e=q()(["PGP-encrypted message from verified address"]);return pu=function(){return e},e}function vu(){var e=q()(["PGP-encrypted message"]);return vu=function(){return e},e}function bu(){var e=q()(["Sender verification failed"]);return bu=function(){return e},e}function hu(){var e=q()(["End-to-end encrypted message from verified address"]);return hu=function(){return e},e}function gu(){var e=q()(["End-to-end encrypted message"]);return gu=function(){return e},e}var Eu={pm:[Object(Z.c)("Message encryption status").t(gu()),Object(Z.c)("Message encryption status").t(hu()),Object(Z.c)("Message encryption status").t(bu())],pgp:[Object(Z.c)("Message encryption status").t(vu()),Object(Z.c)("Message encryption status").t(pu()),Object(Z.c)("Message encryption status").t(du())],clear:[Object(Z.c)("Message encryption status").t(mu()),Object(Z.c)("Message encryption status").t(fu()),Object(Z.c)("Message encryption status").t(lu())],sentEncrypted:[Object(Z.c)("Message encryption status").t(su()),Object(Z.c)("Message encryption status").t(uu()),Object(Z.c)("Message encryption status").t(iu())],auto:[Object(Z.c)("Message encryption status").t(ou())],sentClear:[Object(Z.c)("Message encryption status").t(cu()),Object(Z.c)("Message encryption status").t(au()),Object(Z.c)("Message encryption status").t(ru())],draft:[Object(Z.c)("Message encryption status").t(nu())]},Ou=function(e){return $r(e)?Eu.sentEncrypted:Wr(e)?Eu.auto:qr(e)?Eu.sentClear:Qr(e)?Eu.draft:ea(e)?Eu.pm:function(e){return Zr(e)&&!Vr(e)}(e)?Eu.pgp:Eu.clear},ju=function(e){var t=e.message,n=e.className,r=function(e){e.data;var t=e.verified,n=void 0===t?0:t;return n===eu||n===tu}(t),a=na(t.data),c=function(e){var t=e.data,n=void 0===t?{}:t,r=e.verified,a=void 0===r?0:r,c=Ou(n);return c.length>a&&(ra(n)||!$r(n)||Hr(n))?c[a]:c[0]}(t),o=r?"https://protonmail.com/support/knowledge-base/digital-signature/":a?"https://protonmail.com/support/knowledge-base/how-to-use-pgp":"https://protonmail.com/support/knowledge-base/what-is-encrypted/",i=Vr(t.data)||$r(t.data)||Qr(t.data)||Wr(t.data),u=Object(me.a)([n,"no-pointer-events-children"].concat(jt()(r?[1===t.verified&&"valid-sig",1!==t.verified&&"invalid-sig",i&&"color-pm-blue",a&&"pgp"]:["nodecoration color-global-grey flex",i&&"color-pm-blue"])));return s.a.createElement(Oo.a,{title:c,className:"inbl"},s.a.createElement(te.a,{className:u,href:o},s.a.createElement(ge.a,{name:"lock",className:"fill-currentColor"})))};function xu(){var e=q()(["Draft"]);return xu=function(){return e},e}function yu(){var e=q()(["From:"]);return yu=function(){return e},e}var wu=function(e){var t=e.message,n=e.labels,r=e.onExpand,a=(t.data||{}).Sender||{},c=a.Name,o=a.Address,i=qr(t.data)?"is-outbound":"is-inbound";return s.a.createElement("div",{className:"message-header message-header-collapsed flex flex-nowrap flex-items-center flex-spacebetween cursor-pointer ".concat(i),onClick:function(e){var t=e.target;t.classList.contains("item-star")||t.closest(".item-star")?e.stopPropagation():r()}},s.a.createElement("div",null,s.a.createElement("span",{className:"mr0-5"},Object(Z.c)("Label").t(yu())),s.a.createElement("span",{className:"bold mr0-5",title:c},c),s.a.createElement("i",{title:o},"<",o,">"),s.a.createElement(ju,{message:t})),s.a.createElement("div",null,Qr(t.data)&&s.a.createElement("span",{className:"badgeLabel-success"},Object(Z.c)("Info").t(xu())),s.a.createElement(ui,{element:t.data}),s.a.createElement(ii,{element:t.data,labels:n,className:"mr1"}),s.a.createElement(Di,{className:"mr1",element:t.data,mode:"distance"}),s.a.createElement(ti,{element:t.data})))},Nu=n("SJRE"),ku=n("o4nY");function Au(){var e=q()(["Load"]);return Au=function(){return e},e}function Du(){var e=q()(["This message contains embedded images"]);return Du=function(){return e},e}function Cu(){var e=q()(["This message contains remote content"]);return Cu=function(){return e},e}var Su=function(e){var t=e.message,n=t.showRemoteImages,r=void 0===n||n,a=t.showEmbeddedImages,c=void 0===a||a,o=e.type,i=e.onLoadImages;return"remote"===o&&!1!==r||"embedded"===o&&!1!==c?null:s.a.createElement("div",{className:"bg-white rounded bordered-container p0-5 mb0-5 flex flex-nowrap"},s.a.createElement(ge.a,{name:"insert-image",className:"fill-global-grey mtauto mbauto"}),s.a.createElement("span",{className:"pl0-5 pr0-5 flex-item-fluid"},"remote"===o?Object(Z.c)("Action").t(Cu()):Object(Z.c)("Action").t(Du())),s.a.createElement("a",{onClick:i,className:"bold"},Object(Z.c)("Action").t(Au())))};function Iu(){var e=q()(["Unsubscribe"]);return Iu=function(){return e},e}function Lu(){var e=q()(["Learn more"]);return Lu=function(){return e},e}function Pu(){var e=q()(["This message is from a mailing list"]);return Pu=function(){return e},e}var Tu=function(e){var t=e.message.data;return function(e){return la(e,"List-Unsubscribe")||""}(void 0===t?{}:t)?s.a.createElement("div",{className:"bg-white rounded bordered-container p0-5 mb0-5 flex flex-nowrap"},s.a.createElement(ge.a,{name:"email",className:"flex-item-noshrink fill-global-grey mtauto mbauto"}),s.a.createElement("span",{className:"pl0-5 pr0-5 flex-item-fluid"},Object(Z.c)("Info").t(Pu())),s.a.createElement("span",{className:"flex-item-noshrink flex"},s.a.createElement(te.a,{className:"bold mr1 pl0-5 pr0-5",href:"https://protonmail.com/support/knowledge-base/auto-unsubscribe"},Object(Z.c)("Info").t(Lu())),s.a.createElement("a",{className:"bold"},Object(Z.c)("Action").t(Iu())))):null},Mu=function(e){var t=e.message,n=e.onLoadRemoteImages,r=e.onLoadEmbeddedImages;return s.a.createElement("section",{className:"ml1 mr1 mt0-5"},s.a.createElement(Tu,{message:t}),s.a.createElement(Su,{message:t,type:"remote",onLoadImages:n}),s.a.createElement(Su,{message:t,type:"embedded",onLoadImages:r}))};function Ru(){var e=q()(["To:"]);return Ru=function(){return e},e}var Bu=function(e){var t=e.message,n=void 0===t?{}:t,r=e.contacts,a=e.contactGroups,c=ia(n),o=Vt(c,a);return s.a.createElement("div",{className:"flex"},s.a.createElement("span",{className:"opacity-50 flex-self-vcenter container-to"},Object(Z.c)("Label").t(Ru())),s.a.createElement("span",{className:"flex-self-vcenter mr1"},o.map((function(e,t){var n=Ht(e,r);return s.a.createElement("span",{key:t,className:"mr0-5",title:n},n,t<o.length-1&&",")}))))};function Fu(){var e=q()(["BCC:"]);return Fu=function(){return e},e}function zu(){var e=q()(["CC:"]);return zu=function(){return e},e}function Uu(){var e=q()(["To:"]);return Uu=function(){return e},e}var Ku=function(e){var t=e.list,n=e.contacts,r=e.contactGroups,a=Vt(t,r);return s.a.createElement("span",{className:"flex-self-vcenter flex flex-column"},a.map((function(e,t){var r,a;return e.recipient?s.a.createElement("span",{key:t},Gt(e.recipient)," ",s.a.createElement("span",{className:"opacity-50"},"<",e.recipient.Address,">")," "):s.a.createElement("span",{key:t},_t(null==e?void 0:e.group,Nt(n,null==e?void 0:null===(r=e.group)||void 0===r?void 0:null===(a=r.group)||void 0===a?void 0:a.ID).length))})))},Gu=function(e){var t=e.message,n=void 0===t?{}:t,r=e.contacts,a=e.contactGroups,c=n.ToList,o=void 0===c?[]:c,i=n.CCList,u=void 0===i?[]:i,l=n.BCCList,f=void 0===l?[]:l;return s.a.createElement("div",{className:"flex flex-column"},o.length>0&&s.a.createElement("span",{className:"flex"},s.a.createElement("span",{className:"opacity-50 container-to"},Object(Z.c)("Label").t(Uu())),s.a.createElement("span",{className:"flex-self-vcenter mr1"},s.a.createElement(Ku,{list:o,contacts:r,contactGroups:a}))),u.length>0&&s.a.createElement("span",{className:"flex"},s.a.createElement("span",{className:"opacity-50 container-to"},Object(Z.c)("Label").t(zu())),s.a.createElement("span",{className:"flex-self-vcenter mr1"},s.a.createElement(Ku,{list:u,contacts:r,contactGroups:a}))),f.length>0&&s.a.createElement("span",{className:"flex"},s.a.createElement("span",{className:"opacity-50 container-to"},Object(Z.c)("Label").t(Fu())),s.a.createElement("span",{className:"flex-self-vcenter mr1"},s.a.createElement(Ku,{list:f,contacts:r,contactGroups:a}))))},_u=function(e){var t=e.content,n=e.children,r=e.autoClose,a=cn()(e,["content","children","autoClose"]),c=Object(u.useState)(Object(me.b)("dropdown")),o=_()(c,1)[0],i=Object(u.useState)(!1),l=_()(i,2),f=l[0],m=l[1],d=Object(de.a)(),p=d.anchorRef,v=d.isOpen,b=d.toggle,h=d.close;return s.a.createElement(s.a.Fragment,null,s.a.createElement(he.a,D()({},a,{buttonRef:p,isOpen:v,onClick:b,caretClassName:null}),t),s.a.createElement(Ee.a,{id:o,autoClose:r,autoCloseOutside:!f,isOpen:v,anchorRef:p,onClose:h},n({onClose:h,onLock:m})))};n("A5oT");function Hu(){var e=q()(["Show details"]);return Hu=function(){return e},e}function Vu(){var e=q()(["Hide details"]);return Vu=function(){return e},e}function Xu(){var e=q()(["Size:"]);return Xu=function(){return e},e}function Wu(){var e=q()(["From:"]);return Wu=function(){return e},e}var Yu=function(e){var t=e.labels,n=e.message,r=e.messageLoaded,a=e.onLoadRemoteImages,c=e.onLoadEmbeddedImages,o=e.mailSettings,i=e.onCollapse,l=e.onCompose,f=Object(ve.a)(),m=_()(f,1)[0],d=Ji(),p=_()(d,1)[0],v=Object(Zi.a)(),b=v.state,h=v.toggle,g=Object(_a.a)(),E=Object(V.a)().call,O=(n.data||{}).Sender||{},j=O.Name,x=O.Address,y=qr(n.data)?"is-outbound":"is-inbound",w=function(e){return function(){l({action:e,referenceMessage:n})}},N=Object(u.useMemo)((function(){return[n.data||{}]}),[n]),k=function(){var e=nn()(en.a.mark((function e(t){var r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Object(Va.k)({LabelID:t,IDs:[null===(r=n.data)||void 0===r?void 0:r.ID]}));case 2:return e.next=4,E();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"message-header message-header-expanded ".concat(y)},s.a.createElement("div",{className:"flex flex-nowrap flex-items-center flex-spacebetween pt1 pl1 pr1 pb0-5 cursor-pointer",onClick:function(e){e.target.closest(".stop-propagation")?e.stopPropagation():i()}},s.a.createElement("div",null,s.a.createElement("span",{className:"mr0-5"},Object(Z.c)("Label").t(Wu())),s.a.createElement("span",{className:"bold mr0-5",title:j},j),s.a.createElement("i",{title:x},"<",x,">"),s.a.createElement(ju,{message:n,className:"stop-propagation"})),s.a.createElement("div",null,s.a.createElement(Di,{element:n.data||{},mode:"distance"}))),s.a.createElement("div",{className:"flex flex-nowrap flex-items-start flex-spacebetween ml1 mr1 mb0-5"},b?s.a.createElement(Gu,{message:n.data,contacts:m,contactGroups:p}):s.a.createElement(Bu,{message:n.data,contacts:m,contactGroups:p}),s.a.createElement("div",null,s.a.createElement(ui,{element:n.data})," ",s.a.createElement(ii,{max:4,element:n.data,labels:t,onUnlabel:k})," ",s.a.createElement(ji,{message:n.data,mailSettings:o})," ",s.a.createElement(ti,{element:n.data}))),b?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"ml1 mr1 mb0-5"},s.a.createElement("span",{className:"mr0-5"},Object(Z.c)("Label").t(Xu())),s.a.createElement("span",null,Object(Ii.a)((n.data||{}).Size||0))),s.a.createElement("div",{className:"ml1 mr1 mb0-5"},s.a.createElement(Di,{element:n.data||{},mode:"full"}))):null,s.a.createElement("div",{className:"flex flex-spacebetween ml1 mr1 mb1 flex-nowrap"},s.a.createElement("a",{onClick:h,className:"bold flex-self-vcenter"},b?Object(Z.c)("Action").t(Vu()):Object(Z.c)("Action").t(Hu())),s.a.createElement("div",null,s.a.createElement(Nu.a,{className:"mr1"},s.a.createElement(_u,{autoClose:!1,content:s.a.createElement(ge.a,{name:"folder"})},(function(e){var t=e.onClose,n=e.onLock;return s.a.createElement(Ro,{elements:N,onClose:t,onLock:n})})),s.a.createElement(_u,{autoClose:!1,content:s.a.createElement(ge.a,{name:"label"})},(function(e){var t=e.onClose,n=e.onLock;return s.a.createElement(Wo,{elements:N,onClose:t,onLock:n})}))),s.a.createElement(Nu.a,null,s.a.createElement(ku.a,{disabled:!r,onClick:w(dt.REPLY)},s.a.createElement(ge.a,{name:"reply"})),s.a.createElement(ku.a,{disabled:!r,onClick:w(dt.REPLY_ALL)},s.a.createElement(ge.a,{name:"reply-all"})),s.a.createElement(ku.a,{disabled:!r,onClick:w(dt.FORWARD)},s.a.createElement(ge.a,{name:"forward"}))))),s.a.createElement(Mu,{message:n,onLoadRemoteImages:a,onLoadEmbeddedImages:c}))},qu=["image/gif","image/jpeg","image/png","image/bmp"],Ju=function(e){return qu.includes(e)},Qu=n("fDnD"),Zu=n.n(Qu),$u=n("0Zqm"),es=n("HlEg"),ts=n("FaOd"),ns=n("ID4j"),rs=n("dG5C"),as=n("QbOs"),cs=function(e){return{method:"get",url:"attachments/".concat(e),output:"arrayBuffer"}},os=function(e){return{method:"post",url:"attachments",input:"form",data:e}},is=function(){var e=nn()(en.a.mark((function e(t,n){var r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Uint8Array(t),e.prev=1,e.t0=ts.b,e.next=5,Object(ns.e)(r);case 5:return e.t1=e.sent,e.t2=[n],e.t3={message:e.t1,sessionKeys:e.t2,format:"binary"},e.abrupt("return",(0,e.t0)(e.t3));case 11:throw e.prev=11,e.t4=e.catch(1),console.error(e.t4),e.t4;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),us=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ID,n=void 0===t?"":t,r=arguments.length>1?arguments[1]:void 0;return r(cs(n))},ss=function(){var e=nn()(en.a.mark((function e(t,n){var r,a,c;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(rs.d)(Object(rs.g)(t.KeyPackets)||""),e.next=3,Object(ns.e)(r);case 3:return e.t0=e.sent,e.t1=n.privateKeys,a={message:e.t0,privateKeys:e.t1},e.next=8,Object(as.a)(a);case 8:if(void 0!==(c=e.sent)){e.next=11;break}throw new Error("Error while decrypting session keys");case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ls=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us(t,r);case 2:return a=e.sent,e.prev=3,e.next=6,ss(t,n);case 6:return c=e.sent,e.next=9,is(a,c);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(3),o=Object(rs.e)([Object(rs.d)(Object(rs.g)(t.KeyPackets)||""),new Uint8Array(a)]),{data:t,binary:o,error:e.t0};case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),fs=function(){var e=nn()(en.a.mark((function e(){var t,n,r,a,c,o,i=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},i.length>2&&void 0!==i[2]&&i[2],r=i.length>3?i[3]:void 0,a=i.length>4?i[4]:void 0,o=t.ID||"",!t.Preview){e.next=8;break}return e.abrupt("return",{data:t.Preview,filename:"preview",signatures:[]});case 8:if(!r.has(o)){e.next=12;break}c=r.get(o),e.next=16;break;case 12:return e.next=14,ls(t,n,a);case 14:c=e.sent;case 16:return r.set(o,c),e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=!1;return fs(e,t,a,n,r)},ds=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs(t,n,!1,r,a);case 3:return c=e.sent,o=c.data,e.abrupt("return",{attachment:t,data:o});case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.data){e.next=12;break}return e.abrupt("return",{attachment:{Name:"".concat(t.Name,".pgp"),MIMEType:"application/pgp",ID:t.ID},data:e.t0.data,isError:!0});case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ps=function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object($u.a)(new Blob([t.data],{type:t.attachment.MIMEType}),t.attachment.Name);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vs=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds(t,n,r,a);case 2:return c=e.sent,e.abrupt("return",ps(c));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),bs=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data||{},c=a.Attachments,o=(void 0===c?[]:c).reduce((function(e,t){var n=t.Name||"";if(e.map[n]){e.map[n].index++;var r=Object(es.a)(n),a=_()(r,2),c=a[0],o=a[1],i="".concat(c," (").concat(e.map[n].index,").").concat(o);t.Name=i}else e.map[n]={index:0};return e.list.push(t),e}),{list:[],map:{}}),i=o.list,e.abrupt("return",Promise.all(i.map((function(e){return ds(e,t,n,r)}))));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),hs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"Attachments-".concat(e.Subject,".zip")},gs=function(){var e=nn()(en.a.mark((function e(){var t,n,r,a,c,o,i=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1?i[1]:void 0,r=i.length>2?i[2]:void 0,e.next=5,bs(t,n,r);case 5:return a=e.sent,c=new Zu.a,a.forEach((function(e){var t=e.attachment.Name,n=void 0===t?"":t,r=e.data;return c.file(n,r)})),e.next=10,c.generateAsync({type:"blob"});case 10:o=e.sent,Object($u.a)(o,hs(t.data));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Es=function(){var e=Object(Wi.a)();return e.has("Attachments")||e.set("Attachments",{data:new Map,blobs:new Map,cids:new Map}),e.get("Attachments")},Os={zip:"file-rar-zip",mp3:"file-video",javascript:"file-unknown",vcard:"file-unknown",xls:"file-xls",mov:"file-video",pdf:"file-pdf",power:"file-ppt",word:"file-doc"},js={"pgp-keys":"fa-key"},xs=function(e){var t,n,r,a=e.attachment,c=e.message,o=Es(),i=Object(_a.a)(),l=Object(u.useState)(!1),f=_()(l,2),m=f[0],d=f[1],p=Object(u.useState)(!1),v=_()(p,2),b=v[0],h=v[1],g=Object(Ii.a)(a.Size),E=(t=a.MIMEType,n=void 0===t?"":t,r=Object.keys(Os).find((function(e){return n.includes(e)})),Os[r||""]||""||"file-image"),O=!function(e){var t=e.MIMEType,n=void 0===t?"":t,r=Object.keys(js).find((function(e){return n.includes(e)}));return js[r||""]||""}(a),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Headers,n=(t=void 0===t?{}:t)["content-disposition"],r=t.embedded;return"inline"===n||1===Number(r)}(a),x=Object(me.a)(["listAttachments-icon listAttachments-signature-icon mauto file-outer-icon",O&&"single",j&&"is-embedded"]),y=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,vs(a,c,o.data,i);case 3:d(!1),h(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=m?"":b?"download":E,N=!O&&!m&&!b;return s.a.createElement("li",{className:"mr1 mb1"},s.a.createElement("a",{className:"message-attachment inline-flex flex-nowrap mw100 pm-button listAttachments-item relative no-pointer-events-children",title:"".concat(a.Name," ").concat(g),onClick:y},s.a.createElement("span",{className:"flex flex-item-noshrink message-attachmentIcon relative flex"},s.a.createElement(ge.a,{name:w,size:20,className:x,"aria-busy":m}),N&&s.a.createElement(ge.a,{name:"key",className:"file-inner-icon mauto"})),s.a.createElement("span",{className:"inbl ellipsis flex flex-column message-attachmentInfo"},s.a.createElement("span",{className:"bl ellipsis mw100"},a.Name),s.a.createElement("span",{className:"bl message-attachmentSize"},g))))};function ys(){var e=q()(["Download all"]);return ys=function(){return e},e}function ws(){var e=q()([""," embedded image"]);return ws=function(){return e},e}function Ns(){var e=q()([""," file attached"]);return Ns=function(){return e},e}var ks,As=function(e){var t=e.message,n=Es(),r=Object(_a.a)(),a=Object(u.useState)(!1),c=_()(a,2),o=c[0],i=c[1],l=Object(u.useState)(!1),f=_()(l,2),m=f[0],d=f[1],p=Object(Ii.a)(da(t.data)),v=fa(t.data),b=v.length,h=t.numEmbedded||0,g=b-h,E=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,gs(t,n.data,r);case 3:i(!1),d(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"message-attachments"},s.a.createElement("div",{className:"flex flex-spacebetween mb1"},s.a.createElement("span",{className:"title"},s.a.createElement("strong",{className:"listAttachments-title-size mr0-5"},p),g>0&&s.a.createElement("span",{className:"listAttachments-title-files mr0-5"},s.a.createElement(ge.a,{name:"attach",className:"mr0-5"}),Object(Z.c)("Info").ngettext(Object(Z.msgid)(Ns(),g),"".concat(g," files attached"),g)),h>0&&s.a.createElement("span",{className:"listAttachments-title-embedded mr0-5"},s.a.createElement(ge.a,{name:"file-image",className:"mr0-5"}),Object(Z.c)("Info").ngettext(Object(Z.msgid)(ws(),h),"".concat(h," embedded images"),h))),b>0&&s.a.createElement("div",null,s.a.createElement("button",{type:"button",onClick:E,className:"link strong mr0-5"},Object(Z.c)("Download attachments").t(ys())),(m||o)&&s.a.createElement(ge.a,{name:m?"download":"","aria-busy":o}))),s.a.createElement("ul",{className:"listAttachments-list unstyled flex mb0"},v.map((function(e){return s.a.createElement(xs,{key:e.ID,attachment:e,message:t})}))))},Ds=n("pqLH"),Cs="‹",Ss="›",Is="<",Ls=">";ks={},Q()(ks,Is,Cs),Q()(ks,Ls,Ss),Q()(ks,Cs,Is),Q()(ks,Ss,Ls);var Ps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)};var Ts=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")},Ms=n("wMS7"),Rs=n.n(Ms);function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fs=new RegExp("((url)(\\(|&(#40|#x00028|lpar);))","gi"),zs=["data-src","src","srcset","background","poster","xlink:href"].reduce((function(e,t){return e.LIST_PROTON_ATTR.push("proton-".concat(t)),e.MAP_PROTON_ATTR[t]=!0,e}),{LIST_PROTON_ATTR:[],MAP_PROTON_ATTR:Object.create(null)}),Us=zs.LIST_PROTON_ATTR,Ks=zs.MAP_PROTON_ATTR,Gs={default:{ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|blob|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ADD_TAGS:["proton-src","base","proton-svg"],ADD_ATTR:["target","proton-src"],FORBID_TAGS:["style","input","form"],FORBID_ATTR:["srcset"]},raw:{WHOLE_DOCUMENT:!0,RETURN_DOM:!0},html:{WHOLE_DOCUMENT:!1,RETURN_DOM:!0},protonizer:{FORBID_ATTR:{},ADD_ATTR:["target"].concat(Us),WHOLE_DOCUMENT:!0,RETURN_DOM:!0},content:{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}},_s=function(e){var t,n=(t=function(e){return function(t,n){return String.fromCodePoint(Number.parseInt(n,e))}},e.replace(/&(?:amp|lt|gt|quot|#39);/g,{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}).replace(/&#(\d+)(;|(?=[^\d;]))/g,t(10)).replace(/&#x([0-9A-Fa-f]+)(;|(?=[^\d;]))/g,t(16)).replace(/\\([0-9A-Fa-f]{1,6}) ?/g,t(16)).replace(/\\(.)/g,(function(e,t){return t}))),r=n!==e,a=n.replace(/\\r/g,"r").replace(Fs,"proton-url(");return a===n?e:r?a.replace(/[&<>"']/g,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}):a};function Hs(e){return 1!==e.nodeType?e:(Array.from(e.attributes).forEach((function(t){var n=t.name;if(Ks[n]&&(e.setAttribute("proton-"+n,e.getAttribute(n)||""),e.removeAttribute(n)),"style"===n){var r=_s(e.getAttribute("style")||"");e.setAttribute("style",r)}})),e)}var Vs=function(e){if(e)return Rs.a.addHook("beforeSanitizeElements",Hs);Rs.a.removeHook("beforeSanitizeElements")},Xs=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Gs.default,{},Gs[e]||{})},Ws=function(e){var t=Xs(e);return function(n){Rs.a.clearConfig();var r=Rs.a.sanitize(n,t);return Vs(!1),"str"===e?r+"":r}},Ys=Ws("str"),qs=(Ws("raw"),function(e,t){var n=Ws("protonizer");return Vs(t),n(e)}),Js=(Ws("content"),function(e,t){return(e.matches||e.msMatchesSelector).call(e,t)}),Qs=function(e){var t=document.createElement("div");return t.innerHTML=e,t},Zs="(".concat(["svg"].join("|"),")"),$s='("'.concat('(\\\\.|[^"\\\\])','*")'),el="(?=(".concat('([^"><\\\\]|\\\\[^><])',"|").concat($s,")*>)"),tl=new RegExp("([^-])"+Zs+el,"gi");function nl(e,t,n){return e.replace(/src="data:image\/([a-zA-Z]*);base64,([^\"]*)\"/g,(function(e){var r="pt".concat(Math.random().toString(32).slice(2,12),"-").concat(Date.now());return n&&t.put(r,e),'data-proton-replace-base="'.concat(r,'"')}))}function rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(tl,"$1proton-$2")}var al=function(){var e=nn()(en.a.mark((function e(t){var n,r,a,c,o,i,u,s=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.raw,r=t.action,a=s.length>1&&void 0!==s[1]?s[1]:{},c=a.cache,o=a.activeCache,i=nl(n,c,void 0===o||o),u="user.inject"!==r,e.abrupt("return",{document:qs(rl(i),u)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cl=["ftp://","http://","https://","xmpp:","tel:","callto:"],ol=cl.concat(["mailto:"]),il=cl.reduce((function(e,t){return e[t]=!0,e}),{}),ul=function(e){return e.getAttribute("href").trim().toLowerCase()},sl=function(e){if(Js(e,':not([href=""]):not([href^="#"])')&&!function(e){return ol.some((function(t){return ul(e).startsWith(t)}))}(e)&&"A"===e.nodeName){var t=e.getAttribute("href");e.setAttribute("href","http://".concat(t))}},ll=function(e){(function(e){var t=ul(e);return""===t||il[t]})(e)&&(e.style.pointerEvents="none")},fl=function(e){var t=e.document;return jt()(t.querySelectorAll("[href]")).forEach((function(e){!function(e){if(Js(e,':not([href=""]):not([href^="#"])')){var t=e.getAttribute("href")||"",n=0===t.indexOf("http"),r=0===t.indexOf("/");(n||r)&&e.setAttribute("target","_blank")}}(e),function(e){e.setAttribute("rel","noreferrer nofollow noopener")}(e),sl(e),ll(e)})),{document:t}},ml=n("O4yn"),dl=n.n(ml),pl=/^cid:/g,vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return al({raw:e,action:""},{activeCache:t,isDocument:!1,cache:{}})},bl=function(e){var t="".concat(e||"").trim();return['"',"'","<"].indexOf(t.charAt(0))>-1&&['"',"'",">"].indexOf(t.charAt(t.length-1))>-1?t.substr(1,t.length-2):t},hl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e["content-id"]?bl(e["content-id"]):e["content-location"]?bl(e["content-location"]):""},gl=function(e,t){if(!e)return[];var n=['img[src="'.concat(e,'"]'),'img[src="cid:'.concat(e,'"]'),'img[data-embedded-img="'.concat(e,'"]'),'img[data-embedded-img="cid:'.concat(e,'"]'),'img[data-src="cid:'.concat(e,'"]'),'img[proton-src="cid:'.concat(e,'"]')];return jt()(t.querySelectorAll(n.join(", ")))},El=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){var n=e.Headers,r=hl(void 0===n?{}:n);return gl(r,t).length}))},Ol=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).filter((function(e){return e.startsWith("content")})).reduce((function(t,n){var r=n.split("-"),a=_()(r,2)[1];return t["content".concat(Ps(a))]=e[n],t}),Object.create(null));return{formatted:dl.a.factory(t),headers:t}},jl={},xl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ID,n=void 0===t?"":t;return jl[n]||{}},yl=function(e){var t=(e.data||{}).Attachments||[];if(!t.length||!e.document)return[];var n=El(t,e.document);return n.forEach((function(t){!function(e,t){var n=e.ID,r=void 0===n?"":n,a=t.Headers,c=void 0===a?{}:a,o=t.Name,i=void 0===o?"":o;!jl[r]&&(jl[r]={});var u=hl(c);c.embedded="1",jl[r][u]={Headers:c,Name:i}}(e.data||{},t)})),n},wl=function(e){var t=(e.data||{}).Attachments||[],n=xl(e.data);return Object.keys(n).reduce((function(e,r){var a=((n[r]||{}).Headers||{})["content-id"],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("inline"!==e["content-disposition"]){var t=Ol(e),n=t.formatted,r=void 0===n?{}:n,a=r.contentDisposition()||{},c=a.params,o=(c=void 0===c?{}:c).filename,i=void 0===o?"":o;if(i)return i.replace(/"/g,"")}return""}(n[r].Headers),o=t.find((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Headers,n=void 0===t?{}:t,r=e.Name,o=void 0===r?"":r;return n["content-id"]?n["content-id"]===a:!!n["content-location"]&&o===c}));return o&&e.push({cid:r,attachment:o}),e}),[])},Nl=function(){return window.URL||window.webkitURL},kl={},Al={},Dl=function(e){var t=Qr(e);return"".concat(t?"draft_":"").concat(e.ConversationID||e.ID).trim()};var Cl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=xl(e),r=n[t]||{},a=r.Headers,c=void 0===a?{}:a,o=Dl(e);return Al[o]=Al[o]||[],function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Al[o]){var r=new Blob([e],{type:n}),a=Nl().createObjectURL(r);kl[t]={url:a,isContentLocation:void 0!==c["content-location"]&&void 0===c["content-id"]},r=null,a=null,Al[o].push(t)}}},Sl=function(e){return kl[e]||{}},Il=function(e){return!!kl[e]},Ll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("data:")},Pl=function(e){return function(e,t){var n,r=document.createElement("div");r.innerHTML=t;var a=r.firstChild;a.innerHTML=e.outerHTML,null===(n=e.parentNode)||void 0===n||n.insertBefore(a,e),e.remove()}(e,'<div class="image loading"></div>')},Tl=function(e){var t=e.getAttribute("data-embedded-img")||"";if(Ll(t))return t;var n=function(e){return(e.getAttribute("data-embedded-img")||"").replace(pl,"")}(e),r=Sl(n).url;return void 0===r?"":r},Ml=function(e,t,n,r){if(e.document){var a=e.showEmbeddedImages;return jt()(e.document.querySelectorAll("img[proton-src]")).forEach((function(c){var o=c.getAttribute("proton-src")||void 0;c.setAttribute("referrerPolicy","no-referrer");var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.replace(pl,"");return xl(e)[n]||{}}(e.data,o);if(c.classList.contains("proton-embedded")||c.classList.add("proton-embedded"),c.parentElement&&(i&&Object.keys(i).length>0||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("cid:")}(o)&&c.parentElement.removeChild(c),Ll(o))))if(t){if(c.setAttribute("data-embedded-img",o||""),c.removeAttribute("proton-src"),n){var u=Tl(c);return void(u&&c.setAttribute("src",u))}r||(!c.parentElement.classList.contains("loading")&&Pl(c),c.removeAttribute("src"))}else a=!1,i&&c.setAttribute("alt",i.Name||"")})),a}},Rl=function(e,t,n,r){Promise.all(t.map(function(){var t=nn()(en.a.mark((function t(a){return en.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ms(a,e,r,n);case 2:return t.next=4,Object(Ds.b)(1e3);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},Bl={blob:function(e,t,n){e.forEach((function(e){e.removeAttribute("data-src"),e.getAttribute("proton-src")||(e.setAttribute("data-src",n),e.setAttribute("data-embedded-img",t),e.classList.add("proton-embedded"))}))},cid:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){e.removeAttribute("data-embedded-img"),e.removeAttribute("src"),e.setAttribute("data-src","cid:".concat(t))}))}))},Fl=function(e,t){if(e.document){var n=e.document;n.innerHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/ src=/g," data-src=")}(n.innerHTML),Object.keys(xl(e.data)).forEach((function(e){var r=gl(e,n);if(r.length){var a=Sl(e).url,c=void 0===a?"":a;(Bl[t]||yt.c)(r,e,c)}})),n.innerHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/ data-src=/g," src=")}(n.innerHTML)}},zl=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wl(t),c=a.map((function(e){return e.attachment})),(o=a.filter((function(e){var t=e.attachment;return t.KeyPackets||t.Encrypted===Ve.PGP_MIME})).filter((function(e){var t=e.cid;return!Il(t)})).map(function(){var e=nn()(en.a.mark((function e(a){var c,o,i,u;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.cid,o=a.attachment,i=Cl(t.data,c),e.next=4,ms(o,t,r,n);case 4:return u=e.sent,e.abrupt("return",i(u.data,o.MIMEType));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).length){e.next=6;break}return Rl(t,c,n,r),e.abrupt("return",{});case 6:return e.next=8,Promise.all(o);case 8:return Rl(t,c,n,r),e.abrupt("return",a.reduce((function(e,t){var n=t.cid;return e[n]=Sl(n),e}),{}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ul=function(){var e=nn()(en.a.mark((function e(t,n){var r,a,c,o,i,u,s,l,f,m;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.attachmentsCache,a=n.api,c=n.mailSettings,o=c.ShowImages,i=void 0===o?0:o,u=!0===t.showEmbeddedImages||i===re.ab.EMBEDDED,s=t.action===dt.REPLY||t.action===dt.REPLY_ALL||t.action===dt.FORWARD,!1,l=yl(t),f=Ml(t,u,s,!1),m="blob",0!==l.length&&u){e.next=12;break}0,e.next=15;break;case 12:return e.next=14,zl(t,a,r.data);case 14:Fl(t,m);case 15:return e.abrupt("return",{document:t.document,showEmbeddedImages:f,numEmbedded:l.length});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kl=function(e){var t=e.document,n=jt()(t.querySelectorAll('img[src="/img/app/welcome_lock.gif"]'));return n.length>0&&n.forEach((function(e){e.src="/assets/img/emails/welcome_lock.gif"})),{document:t}};function Gl(){var e=q()(["Show previous message"]);return Gl=function(){return e},e}var _l,Hl=[".protonmail_quote",".gmail_quote",".yahoo_quoted",".gmail_extra",".moz-cite-prefix","#isForwardContent","#isReplyContent","#mailcontent:not(table)","#origbody","#reply139content","#oriMsgHtmlSeperator",'blockquote[type="cite"]'].map((function(e){return"".concat(e,":not(:empty)")})).join(","),Vl=function(e){var t=e.document,n=jt()(t.querySelectorAll(Hl)),r=t.textContent,a=!1;return n.forEach((function(e){if(!a){var t=e.textContent,n=r.split(t),c=_()(n,2),o=c[0],i=void 0===o?"":o,u=c[1],s=void 0===u?"":u;if(t.length<r.length&&i.length&&!s.length){var l=document.createElement("button"),f=Object(Z.c)("Title").t(Gl());l.className="pm-button pm-button--small more proton-message-blockquote-toggle",l.textContent="...",l.setAttribute("title",f),e.parentNode.insertBefore(document.createElement("BR"),e),e.parentNode.insertBefore(l,e),a=!0}}})),{document:t}},Xl=function(e){var t=e.document,n=t.firstElementChild;return n&&/absolute/.test(n.style.position)&&(n.style.position="inherit"),{document:t}},Wl=n("628V"),Yl=n.n(Wl),ql=n("DwX5"),Jl=n.n(ql),Ql=n("tCnl"),Zl=n.n(Ql),$l=["notify@protonmail.com"],ef=["url","xlink:href","srcset","src","svg","background","poster"].map((function(e){return"proton-".concat(e)})),tf=(_l=ef.map((function(e){return"proton-src"===e?"".concat(e,'=(?!"(cid|data):)'):e})).join("|"),"(".concat(_l,")"));function nf(e){var t=ef.map((function(e){var t=e.split(":"),n=_()(t,1)[0];return"[".concat(n,"]")})).concat("[style]").join(", ");return[].slice.call(e.querySelectorAll(t)).reduce((function(e,t){if(t.hasAttribute("proton-src")){var n=t.getAttribute("proton-src");if(-1!==n.indexOf("cid:"))return e;if(-1!==n.indexOf("data:"))return e}return e.push(function(e){return Zl()(Jl()((function(e){return-1!==ef.indexOf(e.name)})),Yl()((function(e,t){return e["".concat(t.name)]=t.value,e}),{}))(e.attributes)}(t)),e}),[])}var rf=function(e,t){var n=e.data,r=void 0===n?{}:n,a=e.document,c=void 0===a?null:a,o=e.showRemoteImages,i=void 0!==o&&o,u=t.action,s=void 0===u?null:u,l=t.mailSettings,f=new RegExp(tf,"g"),m=i||!!(l.ShowImages&re.ab.REMOTE||$l.includes(r.Sender.Address)),d=c.innerHTML,p=f.test(d);return m&&("user.inject"===s?nf(c):c.innerHTML=d.replace(f,(function(e,t){return t.substring(7)}))),{document:c,showRemoteImages:p?m:void 0}},af=[{selector:'a:not([href^="http"])',attribute:"href"},{selector:'img:not([src^="http"]):not([proton-src^="cid"])',attribute:"proton-src"}],cf=function(e){var t=e.document,n=t.querySelector("base");if(!n||!n.getAttribute("href"))return{document:t};var r=function(e){var t=e.getAttribute("href");return"/"!==t.substr(-1,1)?"".concat(t,"/"):t}(n),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.startsWith("http")||e.setAttribute(t,r+n)};return af.forEach((function(e){var n=e.selector,r=e.attribute;jt()(t.querySelectorAll(n)).forEach((function(e){var t="proton-".concat(r),n=e.getAttribute(r)||"",c=e.getAttribute(t)||"",o="/"===n.charAt(0)?n.slice(1):n;!c&&a(e,r,o),c&&a(e,t,c)}))})),{document:t}},of=n("b7Ss"),uf=n("PtV9"),sf=n("3rzI"),lf=function(e,t,n,r){return t.map((function(t,n){return function(e,t,n,r,a){var c,o,i,u,s,l,f,m,d,p,v,b,h,g=function(e,t,n){return"".concat("PGPAttachment","_").concat(e.ID,"_").concat(t.checksum,"_").concat(n)}(e,t,n),E={ID:g,Headers:(c=t,o=c.generatedFileName,i=void 0===o?"":o,u=c.contentDisposition,s=void 0===u?"":u,l=c.contentId,f=void 0===l?"":l,m=c.transferEncoding,d=void 0===m?"":m,p=c.contentType,v=void 0===p?"":p,b={},h="; filename="+JSON.stringify(i),b["content-disposition"]=s+h,/^.*@mailparser$/.test(f)||(b["content-id"]=/^<.*>$/.test(f)?f:"<".concat(f,">")),"inline"===s.toLowerCase()&&(b.embedded=1),d&&(b["content-transfer-encoding"]=d),b["content-type"]=v+h,b),Name:t.generatedFileName,KeyPackets:null,MIMEType:t.contentType,Signature:null,Size:t.length,Encrypted:Ve.PGP_MIME},O={data:t.content,filename:"",signatures:[]};return a.set(g,O),E}(e,t,n,0,r)}))};function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function df(){var e=q()(["Message content if empty"]);return df=function(){return e},e}function pf(){var e=q()(["Encrypted Headers filename"]);return pf=function(){return e},e}var vf=function(e,t){var n=$e,r=et;return t.length||e!==n?e:r},bf=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o,i,u,s,l,f,m,d,p,v;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(Z.c)("Encrypted Headers").t(pf()),o=(t.Sender||{}).Address,e.next=4,Object(ts.a)({message:t.Body,messageDate:sa(t),privateKeys:n,publicKeys:r,headerFilename:c,sender:o});case 4:return i=e.sent,e.next=7,i.getBody();case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:return u=e.t0,s=u.body,l=void 0===s?Object(Z.c)("Message empty").t(df()):s,f=u.mimetype,m=void 0===f?re.G.PLAINTEXT:f,e.t1=vf,e.next=18,i.verify();case 18:return e.t2=e.sent,e.t3=r,d=(0,e.t1)(e.t2,e.t3),e.t4=lf,e.t5=t,e.next=25,i.getAttachments();case 25:return e.t6=e.sent,e.t7=d,e.t8=a,p=(0,e.t4)(e.t5,e.t6,e.t7,e.t8),e.next=31,i.getEncryptedSubject();case 31:return v=e.sent,e.abrupt("return",{raw:l,data:mf({},t,{Attachments:p}),verified:d,encryptedSubject:v,mimetype:m});case 33:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),hf=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ts.c)({message:t.Body,messageDate:sa(t),privateKeys:n,publicKeys:r});case 2:return a=e.sent,c=a.data,o=a.verified,i=vf(void 0===o?Qe:o,r),e.abrupt("return",{raw:c,verified:i,publicKeys:r,privateKeys:n});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),gf=function(){var e=Object(of.a)(),t=Object(uf.a)(),n=Es();return Object(u.useCallback)(function(){var r=nn()(en.a.mark((function r(a){var c,o,i,u,s,l,f,m,d;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=a.data,o=void 0===c?{}:c,r.next=3,Promise.all([e((o.Sender||{}).Address),t(o.AddressID)]);case 3:if(i=r.sent,u=_()(i,2),s=u[0].publicKeys,l=void 0===s?[]:s,f=u[1],m=Object(sf.i)(f),d=m.privateKeys,!Ur(o)){r.next=11;break}return r.abrupt("return",bf(o,d,l,n.data));case 11:return r.abrupt("return",hf(o,d,l));case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e,t,n])},Ef=n("pdRq"),Of=function(e){return Object(rs.j)(Object(jo.a)(e))||""},jf={},xf=function(e){return jf[e.ContactID||""]&&jf[e.ContactID||""][It(e.Email)]},yf=function(e){return(jf[e.ContactID||""]||{})[It(e.Email)]||{}},wf=function(e){return!e||e.Defaults},Nf=function(e){return e.Flags&re.x.ENABLE_ENCRYPTION},kf=function(){var e=nn()(en.a.mark((function e(t,n,r,a,c,o,i){var u,s,l,f,m,d,p,v,b,h,g,E;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n.RecipientType,s=n.Keys,l=void 0===s?[]:s,f=n.Warnings,m=void 0===f?[]:f,d=u===re.V.TYPE_INTERNAL,p=u===re.V.TYPE_EXTERNAL,v=o.PGPScheme,b=v===re.N.SEND_PGP_MIME?re.G.MIME:re.G.PLAINTEXT,h=Tt(i,t),g=Rt(h,l),!d&&!p||!l.length){e.next=19;break}return E=Mt(h,l),e.t0=m,e.t1=p?b:r,e.next=13,Object(Ef.e)(l[0].PublicKey);case 13:return e.t2=e.sent,e.t3=!E,e.t4=d?re.N.SEND_PM:v,e.t5=g,e.t6=g,e.abrupt("return",{warnings:e.t0,encrypt:!0,sign:!0,mimetype:e.t1,publickeys:e.t2,primaryPinned:e.t3,scheme:e.t4,pinned:e.t5,ownAddress:e.t6,isVerified:!0});case 19:if(!a){e.next=21;break}return e.abrupt("return",{warnings:m,encrypt:!0,sign:!1,mimetype:r,publickeys:[],primaryPinned:!0,scheme:re.N.SEND_EO,pinned:!1,ownAddress:g,isVerified:!0});case 21:return e.abrupt("return",{warnings:m,encrypt:!1,sign:c,mimetype:c?b:r,publickeys:[],primaryPinned:!0,scheme:c?v:re.N.SEND_CLEAR,pinned:!1,ownAddress:g,isVerified:!0});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i){return e.apply(this,arguments)}}(),Af=function(e,t,n,r,a){return n===re.N.SEND_PGP_MIME&&(r||a)?re.G.MIME:n===re.N.SEND_PGP_INLINE&&(r||a)?re.G.PLAINTEXT:n===re.N.SEND_EO?t:t===re.G.PLAINTEXT||null===e?t:e},Df=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o,i,u,s,l,f,m;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=3;break}return c=Tt(a,r),e.abrupt("return",!Mt(c,n));case 3:return o=n.filter(Nf).map((function(e){return e.PublicKey})),e.next=6,Promise.all(o.map(Ef.e));case 6:return i=e.sent,u=i.filter((function(e){var t=_()(e,1)[0];return!!(void 0!==t&&t)})),e.next=10,Object(Ef.e)((d=t[0],Object(jo.b)(Object(rs.g)(d)||"")));case 10:return s=e.sent,l=_()(s,1),f=l[0],m=Object(Ef.d)(f),e.abrupt("return",0===u.length||u.map((function(e){var t=_()(e,1)[0];return Object(Ef.d)(t)})).includes(m));case 15:case"end":return e.stop()}var d}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Cf=function(){var e=nn()(en.a.mark((function e(t,n,r,a,c,o,i,u){var s,l,f,m,d,p,v,b,h,g,E,O,j,x,y,w,N,k,A,D,C,S,I,L;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.encryptFlag,l=t.signFlag,f=t.mimetype,m=t.emailKeys,d=t.scheme,p=t.isVerified,v=n.RecipientType,b=n.Warnings,h=void 0===b?[]:b,g=n.Keys,E=void 0===g?[]:g,O=v===re.V.TYPE_INTERNAL,j=v===re.V.TYPE_EXTERNAL&&E.length>0,!O&&!j){e.next=10;break}return e.next=7,Df(m,E,o,u);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=!0;case 11:if(x=e.t0,!O&&!j){e.next=18;break}return e.next=15,Object(Ef.e)(E[0].PublicKey);case 15:e.t1=e.sent,e.next=19;break;case 18:e.t1=[];case 19:return y=e.t1,e.next=22,Promise.all(m.map((function(e){return Object(rs.g)(e)||""})).map(rs.d).map((function(e){return Object(Ef.e)(e).then((function(e){var t=_()(e,1)[0];return Object(Ef.f)(t).then((function(e){return e?null:[t]}))}))})));case 22:return w=e.sent,N=w.filter((function(e){return null!==e})),k=N.length&&x?[N[0]]:y,A=h,D=O||j||s&&!!N.length,C=(C=O||j||(null===l?!!c:l))||s,S=null===(S=O?re.N.SEND_PM:C||D?d:re.N.SEND_CLEAR)?i.PGPScheme:S,a&&!D&&(C=!1,D=!0,S=re.N.SEND_EO),I=Af(f,r,S,C,D),L=N.length>0,!1,e.abrupt("return",{publickeys:k,warnings:A,encrypt:D,sign:C,scheme:S,mimetype:I,primaryPinned:x,isVerified:p,pinned:L,ownAddress:!1});case 36:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,u){return e.apply(this,arguments)}}(),Sf=function(){var e=nn()(en.a.mark((function e(t,n,r,a,c,o,i,u){var s,l,f,m;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=It(t),l=wt(u,s),!wf(l)){e.next=7;break}return e.next=5,kf(t,n,r,a,c,o,i);case 5:return f=e.sent,e.abrupt("return",Q()({},t,f));case 7:return e.next=9,kf(t,n,r,a,c,o,i);case 9:return m=e.sent,e.abrupt("return",Q()({},t,m));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,u){return e.apply(this,arguments)}}(),If=function(){var e=nn()(en.a.mark((function e(t,n,r,a,c,o,i,u){var s,l;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=It(t),l=wt(u,s),!wf(l)){e.next=10;break}return e.t0=Q.a,e.t1={},e.t2=t,e.next=8,kf(t,n,r,a,c,o,i);case 8:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 10:if(xf(l)){e.next=12;break}return e.abrupt("return",{});case 12:return e.t4=Q.a,e.t5={},e.t6=t,e.next=17,Cf(yf(l),n,r,a,c,t,o,i);case 17:return e.t7=e.sent,e.abrupt("return",(0,e.t4)(e.t5,e.t6,e.t7));case 19:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,u){return e.apply(this,arguments)}}(),Lf=function(e,t){return function(e){return e.every((function(e){return wf(e)||xf(e)}))}(e.map(It).map((function(e){return wt(t,e)})))},Pf=function(){var e=nn()(en.a.mark((function e(t,n,r,a,c,o,i,u){var s,l;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Tt(i,t),!Rt(s,n.Keys)){e.next=6;break}return e.next=4,kf(t,n,r,a,c,o,i);case 4:return l=e.sent,e.abrupt("return",Q()({},t,l));case 6:if(!Lf([t],u)){e.next=8;break}return e.abrupt("return",If(t,n,r,a,c,o,i,u));case 8:return e.abrupt("return",Sf(t,n,r,a,c,o,i,u));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,i,u){return e.apply(this,arguments)}}(),Tf=function(){var e=nn()(en.a.mark((function e(){var t,n,r,a,c,o,i,u,s,l,f,m,d,p=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:[],n=p.length>1?p[1]:void 0,r=p.length>2?p[2]:void 0,a=p.length>3?p[3]:void 0,c=p.length>4?p[4]:void 0,o=p.length>5?p[5]:void 0,i=p.length>6&&void 0!==p[6]&&p[6],u=n?n.MIMEType:re.G.DEFAULT,s=aa(n),l=n?ta(n):r.Sign,f=Object(ni.e)(t.map(It)),e.next=13,Promise.all(f.map(function(){var e=nn()(en.a.mark((function e(t){var n;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t);case 3:return n=e.sent,e.abrupt("return",Pf(t,n,u,s,l,r,a,c));case 7:if(e.prev=7,e.t0=e.catch(0),i){e.next=11;break}throw e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 13:return m=e.sent,d=Object.assign.apply(Object,[{}].concat(jt()(m))),e.abrupt("return",t.reduce((function(e,t){var n=d[It(t)];return n?(e[t]=n,e):e}),{}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.indexOf(";");return-1===t?e:e.substr(0,t)},Rf=function(e,t){var n=dl.a.factory({contentType:"text/html;charset=utf-8",contentTransferEncoding:"base64",body:e});t&&t.length>0&&console.log("attachments in mime message ignored as not supported yet",t);var r=[n];return dl.a.factory({contentType:"multipart/related",body:r})},Bf=function(e){return dl.a.factory({body:e,contentTransferEncoding:"quoted-printable"})},Ff=function(e,t,n){return void 0!==t&&void 0!==e?function(e,t,n){return dl.a.factory({contentType:"multipart/alternative",body:[Bf(e),Rf(t,n)]})}(e,t,n):void 0!==t?Rf(t,n):Bf(e)},zf=function(e,t,n){var r=Ff(e,t,n),a=function(e){return e.map((function(e){var t=e.attachment,n=e.data,r=JSON.stringify(t.Name),a=t.Headers||{},c=Mf(a["content-type"])||t.MIMEType||"application/octet-stream",o=Mf(a["content-disposition"])||"attachment",i=dl.a.factory({contentType:"".concat(c,"; filename=").concat(r,"; name=").concat(r),contentTransferEncoding:"base64",body:Object(rs.b)(n.data)});return i.header("content-disposition","".concat(o,"; filename=").concat(r,"; name=").concat(r)),a["content-id"]&&i.header("content-id",a["content-id"]),i}))}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return t;var n=vl(e),r=El(t,n);return t.filter((function(e){return!r.includes(e)}))}(t,n)),c=[r].concat(a);return dl.a.factory({contentType:"multipart/mixed",body:c}).toString()+"\r\n"},Uf=function(){var e=nn()(en.a.mark((function e(t,n,r){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(fa(t.data).map(function(){var e=nn()(en.a.mark((function e(a){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,ms(a,t,n,r);case 3:return e.t1=e.sent,e.abrupt("return",{attachment:e.t0,data:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Kf=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o,i,u,s=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(s.length>3&&void 0!==s[3])||s[3],o=ha(t,c),i=(null===(a=t.data)||void 0===a?void 0:a.MIMEType)===re.G.DEFAULT?va(t):void 0,e.next=5,Uf(t,n,r);case 5:return u=e.sent,e.abrupt("return",zf(o,i,u));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Gf=re.G.PLAINTEXT,_f=re.G.DEFAULT,Hf=re.G.MIME,Vf=function(){var e=nn()(en.a.mark((function e(t,n,r){var a;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ca(null===(a=t.data)||void 0===a?void 0:a.Flags),e.t1={},e.t2=Hf,e.next=5,Kf(t,n,r);case 5:return e.t3=e.sent,e.abrupt("return",{Flags:e.t0,Addresses:e.t1,MIMEType:e.t2,Body:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Xf=function(){var e=nn()(en.a.mark((function e(t){var n;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{Flags:ca(null===(n=t.data)||void 0===n?void 0:n.Flags),Addresses:{},MIMEType:Gf,Body:ha(t,!0)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wf=function(){var e=nn()(en.a.mark((function e(t){var n;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{Flags:ca(null===(n=t.data)||void 0===n?void 0:n.Flags),Addresses:{},MIMEType:_f,Body:va(t)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yf=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o,i,u;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.values(n).reduce((function(e,t){var n;return n={},Q()(n,Gf,e[Gf]||t.mimetype===re.G.PLAINTEXT),Q()(n,_f,e[_f]||t.mimetype===_f||t.scheme===re.N.SEND_PGP_MIME&&!t.encrypt&&!t.sign),Q()(n,Hf,e[Hf]||t.scheme===re.N.SEND_PGP_MIME&&(t.encrypt||t.sign)),n}),(c={},Q()(c,Gf,!1),Q()(c,_f,!1),Q()(c,Hf,!1),c)),i=Object.values(re.G).filter((function(e){return o[e]})),u={},e.next=5,Promise.all(i.map(function(){var e=nn()(en.a.mark((function e(n){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=e.t0===Hf?3:e.t0===Gf?7:e.t0===_f?11:15;break;case 3:return e.next=5,Vf(t,r,a);case 5:return u[Hf]=e.sent,e.abrupt("return");case 7:return e.next=9,Xf(t);case 9:return u[Gf]=e.sent,e.abrupt("return");case 11:return e.next=13,Wf(t);case 13:return u[_f]=e.sent,e.abrupt("return");case 15:throw new Error;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),qf=re.G.PLAINTEXT,Jf=re.G.DEFAULT,Qf=re.G.MIME,Zf=re.N.SEND_PM,$f=re.N.SEND_CLEAR,em=re.N.SEND_PGP_INLINE,tm=re.N.SEND_PGP_MIME,nm=re.N.SEND_EO,rm=function(){var e=nn()(en.a.mark((function e(t){var n,r,a=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.publickeys,r=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",{Type:Zf,PublicKey:n.length?n[0]:void 0,Signature:fa(r).every((function(e){return e.Signature}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),am=function(){var e=nn()(en.a.mark((function e(){var t,n=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},console.warn("Unsuported yet",t),e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cm=function(){var e=nn()(en.a.mark((function e(t){var n,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.publickeys,r=t.sign,!t.encrypt){e.next=3;break}return e.abrupt("return",{Type:tm,PublicKey:n.length?n[0]:void 0});case 3:return e.abrupt("return",{Type:32,Signature:+r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),om=function(){var e=nn()(en.a.mark((function e(t){var n,r,a,c,o=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.publickeys,r=t.sign,a=t.encrypt,c=o.length>1&&void 0!==o[1]?o[1]:{},!a){e.next=4;break}return e.abrupt("return",{Type:em,PublicKey:n.length?n[0]:void 0,Signature:fa(c).every((function(e){return e.Signature}))});case 4:return e.abrupt("return",{Type:$f,Signature:+r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),im=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{Type:$f,Signature:0});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),um=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var e=nn()(en.a.mark((function e(n,r,a){var c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:c=e.sent,(o=t[a]).Addresses||(o.Addresses={}),o.Type||(o.Type=0),o.Addresses[r]=c,o.Type|=c.Type||0;case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o=r.map((function(e){var t,r=a[e],o="text/html"===(null===r.mimetype?null===(t=n.data)||void 0===t?void 0:t.MIMEType:r.mimetype)?Jf:qf;switch(r.scheme){case Zf:return c(rm(r,n.data),e,o);case tm:return r.sign||r.encrypt?c(cm(r),e,Qf):c(im(),e,Jf);case em:return c(om(r,n.data),e,qf);case nm:case $f:return aa(n.data)?c(am(n.data),e,o):c(im(),e,o)}})),e.next=4,Promise.all(o);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),sm=n("9sRk"),lm=n("Kv4S"),fm=re.N.SEND_CLEAR,mm=re.N.SEND_EO,dm=function(e){var t=e.data,n=e.algorithm,r=void 0===n?"aes256":n;return{Key:Of(t),Algorithm:r}},pm=function(){var e=nn()(en.a.mark((function e(t){var n,r,a,c,o,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sessionKeys,r=void 0===n?[]:n,a=t.publicKeys,c=void 0===a?[]:a,o=t.passwords,i=void 0===o?[]:o,e.abrupt("return",Promise.all(r.map(function(){var e=nn()(en.a.mark((function e(t){var n,r,a;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(sm.a)({data:t.data,algorithm:t.algorithm,publicKeys:c.length>0?c:void 0,passwords:i});case 2:return n=e.sent,r=n.message,a=r.packets.write(),e.abrupt("return",Of(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vm=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.MIMEType!==re.G.MIME){e.next=2;break}return e.abrupt("return");case 2:return a=Object.values(t.Addresses||{}).map(function(){var e=nn()(en.a.mark((function e(t){var a,c,o,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=Object(Le.b)(t.Type,re.N.SEND_EO))||t.PublicKey){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,pm({sessionKeys:r.map((function(e){return e.SessionKey})),passwords:c?[(null===(a=n.data)||void 0===a?void 0:a.Password)||""]:void 0,publicKeys:c?void 0:[t.PublicKey]});case 5:o=e.sent,i={},r.forEach((function(e,t){var n=e.Attachment;return i[n.ID||""]=o[t]})),t.AttachmentKeyPackets=i;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(Le.b)(t.Type,re.N.SEND_CLEAR)&&(c={},r.forEach((function(e){var t=e.Attachment,n=e.SessionKey;c[t.ID||""]=dm(n)})),t.AttachmentKeys=c),e.abrupt("return",Promise.all(a));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),bm=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="aes256",e.next=3,Object(Ef.c)("aes256");case 3:return e.t1=e.sent,e.abrupt("return",{algorithm:e.t0,data:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hm=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o,i,u,s,l,f,m;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(sf.i)(n),c=a.privateKeys,o=r.filter(yt.b),e.t0=lm.a,e.t1=t.Body||"",e.t2=o,!o.length){e.next=9;break}e.t3=void 0,e.next=12;break;case 9:return e.next=11,bm();case 11:e.t3=e.sent;case 12:return e.t4=e.t3,e.t5=c,e.t6={data:e.t1,publicKeys:e.t2,sessionKey:e.t4,privateKeys:e.t5,returnSessionKey:!0,compression:!0},e.next=17,(0,e.t0)(e.t6);case 17:return i=e.sent,u=i.data,s=i.sessionKey,e.next=22,Object(ns.i)(u);case 22:return l=e.sent,f=l.asymmetric,m=l.encrypted,e.abrupt("return",{keys:f,encrypted:m,sessionKey:s});case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),gm=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o,i,u,s,l,f,m,d,p,v;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(sf.i)(n),o=c.privateKeys,i=c.publicKeys,u=[].concat(jt()(i),jt()(r)).filter(yt.b),e.next=4,Object(lm.a)({data:t.Body||"",publicKeys:u,privateKeys:o,returnSessionKey:!0,compression:!0});case 4:return s=e.sent,l=s.data,f=s.sessionKey,e.next=9,Object(ns.i)(l);case 9:return m=e.sent,d=m.asymmetric,p=m.encrypted,m.asymmetric=m.asymmetric.slice(0,i.length),v=Object(rs.e)(Object.values(m).flat()),e.next=15,Object(ns.a)(v);case 15:return a.data.Body=e.sent,e.abrupt("return",{keys:d.slice(i.length),encrypted:p,sessionKey:f});case 17:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Em=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o,i,u,s,l,f,m,d;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object.keys(t.Addresses||{}),o=Object.values(t.Addresses||{}),i=o.map((function(e){return e.PublicKey})),u=(null===(a=r.data)||void 0===a?void 0:a.MIMEType)===t.MIMEType?gm:hm,e.next=6,u(t,n,i,r);case 6:return s=e.sent,l=s.keys,f=s.encrypted,m=s.sessionKey,d=0,i.forEach((function(e,n){if(e){var r=l[d++];(t.Addresses||{})[c[n]].BodyKeyPacket=Of(r)}})),e.next=14,Promise.all(o.map(function(){var e=nn()(en.a.mark((function e(t){var n,a,c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Type===mm){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pm({sessionKeys:[m],passwords:[(null===(n=r.data)||void 0===n?void 0:n.Password)||""]});case 4:a=e.sent,c=_()(a,1),o=c[0],t.BodyKeyPacket=o;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:(t.Type||0)&(32|fm)&&(t.BodyKey=dm(m)),t.Body=Of(f[0]);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Om=function(){var e=nn()(en.a.mark((function e(t,n,r,a){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Em(t,r,n),vm(t,n,a)]);case 2:return Object.values(t.Addresses||{}).forEach((function(e){return delete e.PublicKey})),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),jm=function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(fa(t.data).map(function(){var e=nn()(en.a.mark((function e(n){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,ss(n,t);case 3:return e.t1=e.sent,e.abrupt("return",{Attachment:e.t0,SessionKey:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xm=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c,o,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jm(t);case 2:return c=e.sent,e.next=5,r(null===(a=t.data)||void 0===a?void 0:a.AddressID);case 5:return o=e.sent,i=Object.values(n),e.next=9,Promise.all(i.map((function(e){return Om(e,t,o,c)})));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ym=function(){var e=Object(H.a)(),t=_()(e,1)[0],n=Object(be.a)(),r=_()(n,1)[0],a=new Map,c=Object(of.a)(),o=Object(uf.a)(),i=Object(_a.a)(),s=Es().data;return Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(n){var u,l,f,m,d,p,v;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=ua(n.data),f=Object(ni.e)(l),e.next=4,Tf(f,n.data||{},t,r,a,c);case 4:return m=e.sent,console.log("sendPrefs",m),e.next=8,Yf(n,m,s,i);case 8:return d=e.sent,e.next=11,um(d,n,l,m);case 11:return d=e.sent,e.next=14,xm(n,d,o);case 14:return d=e.sent,console.log("packages",d),e.next=18,i(Object(Va.j)(null===(u=n.data)||void 0===u?void 0:u.ID,{Packages:d}));case 18:return p=e.sent,v=p.Sent,console.log("Sent",v),e.abrupt("return",{data:v});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,r,a,c])};function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var km=function(){var e=nn()(en.a.mark((function e(t,n,r){var a,c;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lm.a)({data:t.content||"",publicKeys:[r[0]],privateKeys:n,format:"utf8",compression:!0});case 2:return a=e.sent,c=a.data,e.abrupt("return",Nm({},t,{data:Nm({},t.data,{Body:c})}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Am=function(){var e=Object(of.a)(),t=Object(uf.a)();return Object(u.useCallback)(function(){var n=nn()(en.a.mark((function n(r){var a,c,o,i,u,s,l,f,m,d;return en.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e(null===(a=r.data)||void 0===a?void 0:null===(c=a.Sender)||void 0===c?void 0:c.Address),t(null===(o=r.data)||void 0===o?void 0:o.AddressID)]);case 2:return i=n.sent,u=_()(i,2),s=u[0].publicKeys,l=void 0===s?[]:s,f=u[1],m=Object(sf.i)(f),d=m.privateKeys,n.abrupt("return",km(r,d,l));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t])},Dm=n("Xrgn"),Cm=n("+q81"),Sm=n("8hY9");function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pm=Object(u.createContext)(null),Tm=function(e){var t=e.children,n=Object(V.a)().subscribe,r=Object(Dm.a)((function(){return Object(Cm.a)(Object(Sm.a)({max:50}))}));return Object(u.useEffect)((function(){return n(function(e){return function(t){var n=t.Messages;if(Array.isArray(n)){var r=!0,a=!1,c=void 0;try{for(var o,i=n[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,s=u.ID,l=u.Action,f=u.Message;if(e.has(s)&&(l===re.s.DELETE&&e.delete(s),l===re.s.UPDATE_DRAFT&&console.warn("Event type UPDATE_DRAFT on Message not supported",n),l===re.s.UPDATE_FLAGS)){var m,d=e.get(s),p=f,v=Object(ni.b)((null===(m=d.data)||void 0===m?void 0:m.LabelIDs)||[],p.LabelIDsRemoved||[]).concat(p.LabelIDsAdded),b=Object(pt.a)(f,["LabelIDsRemoved","LabelIDsAdded"]);e.set(s,Lm({},d,{data:Lm({},d.data,{LabelIDs:v},b)}))}}}catch(h){a=!0,c=h}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}}}}(r))}),[]),s.a.createElement(Pm.Provider,{value:r},t)};function Mm(){var e=q()(["Processing"]);return Mm=function(){return e},e}function Rm(){var e=q()(["Deleting"]);return Rm=function(){return e},e}function Bm(){var e=q()(["Sending"]);return Bm=function(){return e},e}function Fm(){var e=q()(["Saving"]);return Fm=function(){return e},e}function zm(){var e=q()(["Creating"]);return zm=function(){return e},e}function Um(){var e=q()(["Encrypting"]);return Um=function(){return e},e}function Km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Km(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _m=function(e,t){return e.document&&(e.document.innerHTML=t.content||""),Gm({},e,{content:t.content,data:Gm({},e.data,{},t.data)})},Hm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Gm({},e,{ID:t.ID,ParentID:t.ParentID,Time:t.Time,ContextTime:t.ContextTime,ConversationID:t.ConversationID})},Vm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(_a.a)(),r=Object(V.a)(),a=r.call,c=Object(u.useContext)(Pm),o=Object(u.useMemo)((function(){return new Map}),[]),i=Es(),s=Object(u.useState)(e.ID||""),l=_()(s,2),f=l[0],m=l[1],d=Object(u.useState)(c.has(f)?c.get(f):{data:e}),p=_()(d,2),v=p[0],b=p[1],h=Object(u.useState)({lock:!1,current:""}),g=_()(h,2),E=g[0],O=g[1],j=gf(),x=Am(),y=ym();Object(u.useEffect)((function(){e.ID&&e.ID!==f&&m(e.ID)}),[e]),Object(u.useEffect)((function(){if(c.has(f))b(c.get(f));else{var t={data:e};c.set(f,t),b(t)}return c.subscribe((function(e){e===f&&c.has(f)&&b(c.get(f))}))}),[f,c]);var w=[al,cf,fl,Ul,Kl,Vl,Xl,rf],N=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(t){var r,a,c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,(a=void 0===r?{}:r).Body){e.next=7;break}return e.next=4,n(Object(Va.d)(a.ID));case 4:return c=e.sent,o=c.Message,e.abrupt("return",{data:o});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),k=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(t){var r,c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,c=void 0===r?{}:r,o=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Object(Va.f)([c.ID||""]));case 2:a();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!c.Unread){e.next=5;break}return o(),e.abrupt("return",{data:Gm({},c,{Unread:0})});case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),A=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(){var t,r,c,o=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},e.next=3,n(Object(Va.a)({Action:t.action!==dt.NEW?t.action:void 0,Message:t.data}));case 3:return r=e.sent,c=r.Message,a(),e.abrupt("return",{data:Hm(t.data,c)});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[n]),D=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(){var t,r,c,o,i=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,n(Object(Va.l)(null===(t=r.data)||void 0===t?void 0:t.ID,r.data));case 3:return c=e.sent,o=c.Message,a(),e.abrupt("return",{data:Hm(r.data,o)});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[n]),C=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(){var t,r,c=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,n(Object(Va.b)([null===(t=r.data)||void 0===t?void 0:t.ID]));case 3:return a(),e.abrupt("return",{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[n]),S=new Map([[x,Object(Z.c)("Action").t(Um())],[A,Object(Z.c)("Action").t(zm())],[D,Object(Z.c)("Action").t(Fm())],[y,Object(Z.c)("Action").t(Bm())],[C,Object(Z.c)("Action").t(Rm())]]);w.forEach((function(e){return S.set(e,Object(Z.c)("Action").t(Mm()))}));var I=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(r,a){var c,u;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",S.has(a)&&(c=S.get(a)),O({lock:!0,current:c}),e.next=5,a(r,{cache:o,mailSettings:t,api:n,attachmentsCache:i});case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return(u=e.t0).document&&(u.content=u.document.innerHTML),e.abrupt("return",Gm({},r,{},u));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c]),L=function(e){c.set(f,e)},P=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(t,n){var r,a,c=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:L,O({lock:!0,current:""}),e.next=4,n.reduce(function(){var e=nn()(en.a.mark((function e(t,n){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,t;case 3:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve(t));case 4:return a=e.sent,e.next=7,r(a);case 7:return e.next=9,Object(Ds.b)(0);case 9:return O({lock:!1,current:""}),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[I,c]),T=Object(u.useCallback)(nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(v,[N]);case 2:case"end":return e.stop()}}),e)}))),[f,v,P,c]),M=Object(u.useCallback)(nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.set(f,Gm({},v,{initialized:!1})),e.next=3,P(v,[N,j,k].concat(w),(function(e){return c.set(f,Gm({},e,{initialized:!0}))}));case 3:case"end":return e.stop()}}),e)}))),[f,v,P,c]),R=Object(u.useCallback)(nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(Gm({},v,{showRemoteImages:!0}),[rf]);case 2:case"end":return e.stop()}}),e)}))),[f,v,v,P,c]),B=Object(u.useCallback)(nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(Gm({},v,{showEmbeddedImages:!0}),[Ul]);case 2:case"end":return e.stop()}}),e)}))),[f,v,P,c]),F=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t,[x,A],(function(e){var t,n;c.set((null===(t=e.data)||void 0===t?void 0:t.ID)||"",e),m((null===(n=e.data)||void 0===n?void 0:n.ID)||"")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,P,c]),z=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(_m(v,t),[x,D]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,P,c]),U=Object(u.useCallback)(function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(_m(v,t),[x,D,y]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,P,c]),K=Object(u.useCallback)(nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(v,[C],(function(){return c.delete(f)}));case 2:case"end":return e.stop()}}),e)}))),[v,P,c]);return[v,{load:T,initialize:M,loadRemoteImages:R,loadEmbeddedImages:B,createDraft:F,saveDraft:z,send:U,deleteDraft:K},E]},Xm=function(e){var t=e.labels,n=void 0===t?[]:t,r=e.message,a=e.mailSettings,c=e.initialExpand,o=void 0===c||c,i=e.conversationIndex,l=void 0===i?0:i,f=e.onCompose,m=Qr(r),d=Object(Zi.a)(o&&!m),p=d.state,v=d.set,b=Object(u.useRef)(null),h=Vm(r,a),g=_()(h,2),E=g[0],O=g[1],j=O.load,x=O.initialize,y=O.loadRemoteImages,w=O.loadEmbeddedImages,N=!!(null==E?void 0:E.initialized),k=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null==E?void 0:E.initialized)){e.next=3;break}return e.next=3,x();case 3:0!==l&&o&&b.current&&b.current.scrollIntoView({behavior:"smooth",block:"start"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){var e;m||N||!p||k(),m&&void 0===(null===(e=E.data)||void 0===e?void 0:e.Subject)&&j()}),[E,N,p]);var A=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return function(){m?f({existingDraft:E}):v(e)}};return s.a.createElement("article",{ref:b,className:Object(me.a)(["message-container mb2",p&&"is-opened"])},p?s.a.createElement(s.a.Fragment,null,s.a.createElement(Yu,{message:E,messageLoaded:N,onLoadRemoteImages:A,onLoadEmbeddedImages:D,labels:n,mailSettings:a,onCollapse:C(!1),onCompose:f}),N?s.a.createElement(s.a.Fragment,null,s.a.createElement($i,{message:E}),ma(E.data)?s.a.createElement(As,{message:E}):null):s.a.createElement(W.a,null)):s.a.createElement(wu,{message:E,labels:n,onExpand:C(!0)}))};function Wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wm(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qm=Object(u.createContext)(null),Jm=function(e){var t=e.children,n=Object(V.a)().subscribe,r=Object(Dm.a)((function(){return Object(Cm.a)(Object(Sm.a)({max:50}))}));return Object(u.useEffect)((function(){return n(function(e){return function(t){var n=t.Conversations;if(Array.isArray(n)){var r=!0,a=!1,c=void 0;try{for(var o,i=n[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,s=u.ID,l=u.Action,f=u.Conversation;if(e.has(s)&&(l===re.s.DELETE&&e.delete(s),l===re.s.UPDATE_DRAFT&&console.warn("Event type UPDATE_DRAFT on Conversation not supported",n),l===re.s.UPDATE_FLAGS)){var m=e.get(s);e.set(s,{Conversation:Ym({},m.Conversation,{},Object(pt.a)(f,["LabelIDsRemoved","LabelIDsAdded"])),Messages:m.Messages})}}}catch(d){a=!0,c=d}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}}}}(r))}),[]),s.a.createElement(qm.Provider,{value:r},t)},Qm=function(e){if(0===e.length)return{};for(var t=e.length,n=!1;--t>0;)if(0===e[t-1].Unread){n=!0;break}return e[n?t:0]},Zm=function(e){return 0===e.length?{}:e[e.length-1]};function $m(){var e=q()(["Hide trashed messages"]);return $m=function(){return e},e}function ed(){var e=q()(["Show trashed messages"]);return ed=function(){return e},e}function td(){var e=q()(["Hide non-trashed messages"]);return td=function(){return e},e}function nd(){var e=q()(["Show non-trashed messages"]);return nd=function(){return e},e}function rd(){var e=q()(["This conversation contains trashed messages."]);return rd=function(){return e},e}function ad(){var e=q()(["This conversation contains non-trashed messages."]);return ad=function(){return e},e}var cd=function(e){var t=e.inTrash,n=e.filter,r=e.onToggle;return s.a.createElement("div",{className:"containsMessage flex flex-column"},s.a.createElement("p",{className:"bordered-container flex pt0-5 pb0-5 pl1 pr1"},t?Object(Z.c)("Info").t(ad()):Object(Z.c)("Info").t(rd()),s.a.createElement("a",{onClick:r,className:"ml0-5"},t?n?Object(Z.c)("Action").t(nd()):Object(Z.c)("Action").t(td()):n?Object(Z.c)("Action").t(ed()):Object(Z.c)("Action").t($m()))))},od=function(e){var t=e.labelID,n=e.conversationID,r=e.mailSettings,a=e.onCompose,c=Object(pe.a)(),o=_()(c,1)[0],i=function(e){var t=Object(u.useContext)(qm),n=Object(_a.a)(),r=Object(Za.a)(!0),a=_()(r,2),c=a[0],o=a[1],i=Object(u.useState)(t.get(e)),s=_()(i,2),l=s[0],f=s[1];return Object(u.useEffect)((function(){var r=function(){var r=nn()(en.a.mark((function r(){var a;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(Object(Ha.b)(e));case 2:a=r.sent,t.set(e,a);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return t.has(e)||o(r()),f(t.get(e)),t.subscribe((function(n){e===n&&f(t.get(e))}))}),[e,n,t]),[l,!l||c]}(n),l=_()(i,2),f=l[0],m=l[1],d=Object(Zi.a)(!0),p=d.state,v=d.toggle,b=Object(_a.a)(),h=Object(V.a)().call;if(m)return s.a.createElement(W.a,null);var g=f,E=g.Conversation,O=g.Messages,j=void 0===O?[]:O;if(!E)return null;var x=t===re.B.TRASH,y=j.filter((function(e){return x===ja(e,re.B.TRASH)})),w=p?y:j,N=y.length!==j.length,k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return{};if(e===re.B.STARRED||ht(e))return Qm(t.filter((function(t){return ja(t,e)&&!Qr(t)})));if(e===re.B.DRAFTS||e===re.B.ALL_DRAFTS)return Zm(t.filter(Qr));var n=t.filter((function(e){return!Qr(e)&&!pa(e)})),r=Zm(n);return r&&0===r.Unread?r:Qm(n)}(t,w).ID,A=function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(Object(Ha.h)({LabelID:t,IDs:[E.ID]}));case 2:return e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{className:"flex flex-column mb1"},s.a.createElement("div",{className:"flex flex-nowrap flex-spacebetween flex-items-center mb1"},s.a.createElement("h2",{className:"mb0"},s.a.createElement(Ci,{className:"mr0-25",conversation:E}),E.Subject),s.a.createElement("div",null,s.a.createElement(ii,{labels:o,max:4,element:E,onUnlabel:A})," ",s.a.createElement(ti,{element:E}))),N&&s.a.createElement(cd,{inTrash:x,filter:p,onToggle:v})),w.map((function(e,t){return s.a.createElement(Xm,{key:e.ID,message:e,initialExpand:e.ID===k,labels:o,mailSettings:r,conversationIndex:t,onCompose:a})})))},id=n("rbcQ"),ud=n("12eg"),sd=n("MJqc");function ld(){var e=q()(["Upgrade to a paid plan starting from $4/month only and get additional storage capacity and more addresses with ProtonMail Plus."]);return ld=function(){return e},e}function fd(){var e=q()(["Welcome"]);return fd=function(){return e},e}function md(){var e=q()(["Having trouble sending or receiving emails? Interested in helping us improve our service? Feel free to ","."]);return md=function(){return e},e}function dd(){var e=q()(["You have "," in this folder"]);return dd=function(){return e},e}function pd(){var e=q()(["Welcome"]);return pd=function(){return e},e}function vd(){var e=q()(["Welcome, ","!"]);return vd=function(){return e},e}function bd(){var e=q()(["report a bug"]);return bd=function(){return e},e}function hd(){var e=q()([""," unread email"]);return hd=function(){return e},e}var gd=function(e){var t=e.labelCount,n=Object(ae.b)(),r=_()(n,1)[0],a=Object(rn.a)().createModal,c=t.Unread||0,o=s.a.createElement("strong",{key:"unreads-label"},Object(Z.ngettext)(Object(Z.msgid)(hd(),c),"".concat(c," unread emails"),c)),i=s.a.createElement(id.a,{key:"report-bug-btn",onClick:function(){return a(s.a.createElement(ud.a,null))}},Object(Z.c)("Action").t(bd()));return s.a.createElement("div",{className:"flex-item-fluid aligncenter p3"},s.a.createElement("h1",null,r.DisplayName?Object(Z.c)("Title").t(vd(),Object(jo.c)(r.DisplayName)):Object(Z.c)("Title").t(pd())),c?s.a.createElement("p",null,Object(Z.c)("Info").jt(dd(),o)):null,r.hasPaidMail?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"mw40e center mb2"},Object(Z.c)("Info").jt(md(),i)),s.a.createElement("img",{src:sd.a,alt:Object(Z.c)("Alternative text for welcome image").t(fd())})):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,Object(Z.c)("Info").t(ld()))))},Ed=n("wmGu"),Od=n("jymj");function jd(){var e=q()(["Deselect"]);return jd=function(){return e},e}function xd(){var e=q()(["Conversation"]);return xd=function(){return e},e}function yd(){var e=q()(["You selected "," element from this folder"]);return yd=function(){return e},e}function wd(){var e=q()(["You have "," stored in this folder"]);return wd=function(){return e},e}var Nd=function(e){var t=e.labelCount,n=e.checkedIDs,r=void 0===n?[]:n,a=e.onUncheckAll,c=Object(pe.a)(),o=_()(c,1)[0],i=t.Total||0,l=r.length,f=Object(u.useMemo)((function(){return bt(t.LabelID||"",o)}),[o,t]);return s.a.createElement("div",{className:"flex-item-fluid aligncenter p3"},0===l&&f&&s.a.createElement("h3",{className:"bold"},f),s.a.createElement("p",{className:"mb2"},0===l?Object(Z.ngettext)(Object(Z.msgid)(wd(),i),"You have ".concat(i," stored in this folder"),i):Object(Z.ngettext)(Object(Z.msgid)(yd(),l),"You selected ".concat(l," elements from this folder"),l)),s.a.createElement("div",{className:"mb2"},s.a.createElement("img",{src:l>1?Od.a:Ed.a,alt:Object(Z.c)("Alternative text for conversation image").t(xd())})),l>0&&s.a.createElement(Ne.a,{onClick:a},Object(Z.c)("Action").t(jd())))},kd=function(e){var t=e.labelID,n=void 0===t?"":t,r=e.checkedIDs,a=void 0===r?[]:r,c=e.onUncheckAll,o=e.welcomeRef,i=e.mailSettings,l=e.location,f=Object(hr.a)(),m=_()(f,1)[0],d=Object(gr.a)(),p=_()(d,1)[0],v=ga({mailSettings:i,labelID:n,location:l});Object(u.useEffect)((function(){return function(){o.current=!0}}),[]);var b=Object(u.useMemo)((function(){var e=v===We?m:p;return Array.isArray(e)?e.find((function(e){return e.LabelID===n}))||{LabelID:"",Unread:0,Total:0}:0}),[n,m,p]);return o.current||a.length>0?s.a.createElement(Nd,{labelCount:b,checkedIDs:a,onUncheckAll:c}):s.a.createElement(gd,{labelCount:b})},Ad=function(e){var t,n=e.messageID,r=e.mailSettings,a=e.onCompose,c=Object(pe.a)(),o=_()(c,1)[0],i=Vm({ID:n},r),u=_()(i,1)[0];return u.data?s.a.createElement(s.a.Fragment,null,s.a.createElement("header",{className:"flex flex-nowrap flex-spacebetween flex-items-center mb1"},s.a.createElement("h2",{className:"mb0"},null===(t=u.data)||void 0===t?void 0:t.Subject),s.a.createElement("div",null,s.a.createElement(ii,{labels:o,max:4,element:u.data}),s.a.createElement(ti,{element:u.data}))),s.a.createElement(Xm,{message:u.data,initialExpand:!0,labels:o,mailSettings:r,onCompose:a})):null};n("36vJ");function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sd=function(e){var t=e.labelID,n=e.mailSettings,r=e.elementID,a=e.location,c=e.history,o=e.onCompose,i=yr(n),l=Object(u.useState)({page:On(a),total:0,size:50,limit:50}),f=_()(l,2),m=f[0],d=f[1],p=Pe(a),v=wr(t,n,a),b=Object(u.useMemo)((function(){return jn(a)}),[p.address,p.from,p.to,p.keyword,p.begin,p.end,p.attachments,p.wildcard]),h=Object(u.useMemo)((function(){return function(e){return function(e){switch(e){case"-size":return{sort:"Size",desc:!0};case"size":return{sort:"Size",desc:!1};case"date":return{sort:"Time",desc:!1};default:return{sort:"Time",desc:!0}}}(Pe(e).sort)}(a)}),[p.sort]),g=Object(u.useMemo)((function(){return function(e){return function(e){switch(e){case"read":return{Unread:0};case"unread":return{Unread:1};default:return{}}}(Pe(e).filter)}(a)}),[p.filter]),E=Object(u.useState)(Object.create(null)),O=_()(E,2),j=O[0],x=O[1],y=Object(u.useState)(!1),w=_()(y,2),N=w[0],k=w[1],A=Object(u.useRef)(!1),D=Ja({conversationMode:v,labelID:t,page:m,sort:h,filter:g,search:b}),C=_()(D,4),S=C[0],I=C[1],L=C[2],P=C[3];Object(u.useEffect)((function(){return d(Cd({},m,{page:On(a)}))}),[p.page]),Object(u.useEffect)((function(){return d(Cd({},m,{total:P}))}),[P]),function(e,t){var n=Object(H.a)(),r=_()(n,2),a=r[0],c=r[1],o=Object(pe.a)(),i=_()(o,2),s=i[0],l=i[1],f=Object(ae.b)(),m=_()(f,2),d=m[0],p=m[1],v=Object(hr.a)(),b=_()(v,2),h=b[0],g=b[1],E=Object(gr.a)(),O=_()(E,2),j=O[0],x=[c,l,p,g,O[1]];Object(u.useEffect)((function(){if(x.every((function(e){return!e}))){var n=wr(e,a,t)?h:j,r=(Object(pt.b)(n,"LabelID")[e]||{}).Unread||0,c=r>0?"(".concat(r,") "):"",o=bt(e,s),i=d.Email;document.title="".concat(c).concat(o," | ").concat(i," | ProtonMail")}}),[e].concat(x))}(S,a);var T=Object(u.useMemo)((function(){return Object.entries(j).reduce((function(e,t){var n=_()(t,2),r=n[0];return n[1]?(e.push(r),e):e}),[])}),[j]),M=Object(u.useMemo)((function(){if(!(T.length>0))return r}),[r,T]),R=Object(u.useMemo)((function(){return T.length?T:M?[M]:[]}),[T,M]),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,n){return e[n]=t,e}),Object.create(null));x(Cd({},j,{},n)),k(t&&e.length===I.length)},F=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return B(I.map((function(e){var t=e.ID;return void 0===t?"":t})),e)};return s.a.createElement(s.a.Fragment,null,s.a.createElement($o,{location:a,labelID:S,elementID:M,selectedIDs:R,elements:I,mailSettings:n,checkAll:N,onCheckAll:F,page:m,onPage:function(e){return c.push(function(e,t){return Te(e,{page:0===t?void 0:String(t+1)})}(a,e))},sort:h,onSort:function(e){return c.push(function(e,t){return Te(e,{sort:hn(t)})}(a,e))},filter:g,onFilter:function(e){return c.push(function(e,t){return Te(e,{filter:gn(t)})}(a,e))},onBack:function(){return c.push(vn(a,S))}}),s.a.createElement("div",{className:Object(me.a)(["main-area--withToolbar flex-item-fluid flex reset4print",!i&&"main-area--rowMode"])},(i||!M)&&s.a.createElement("div",{className:"items-column-list scroll-if-needed scroll-smooth-touch"},L?s.a.createElement("div",{className:"flex flex-justify-center h100"},s.a.createElement(W.a,null)):s.a.createElement(Qi,{location:a,labelID:S,mailSettings:n,elementID:M,elements:I,checkedIDs:T,onCheck:B,onClick:function(e){c.push(vn(a,S,e.ID)),Ea(e)&&Qr(e)&&o({existingDraft:{data:e}})}})),(i||M)&&s.a.createElement("section",{className:"view-column-detail p2 flex-item-fluid scroll-if-needed"},M?v?s.a.createElement(od,{labelID:S,mailSettings:n,conversationID:M,onCompose:o}):s.a.createElement(Ad,{mailSettings:n,messageID:M,onCompose:o}):s.a.createElement(kd,{location:a,labelID:S,mailSettings:n,welcomeRef:A,checkedIDs:T,onUncheckAll:function(){return F(!1)}}))))},Id=function(e){var t=e.match,n=e.location,r=e.history,a=e.onCompose,c=Object(H.a)(),o=_()(c,2),i=o[0],l=o[1],f=Object(V.a)().subscribe,m=(t||{}).params||{},d=m.elementID,p=m.labelID,v=void 0===p?"":p,b=qe[v]||v;return Object(u.useLayoutEffect)((function(){return f((function(e){var t=e.Messages;(null==t?void 0:t.find((function(e){var t=e.ID;return e.Action===re.s.DELETE&&t===d})))&&r.push(vn(n,b))}))}),[d]),s.a.createElement(Ga,{labelID:b,location:n,history:r,onCompose:a},s.a.createElement(X.a,null,l?s.a.createElement(W.a,null):s.a.createElement(Sd,{labelID:b,mailSettings:i,elementID:d,location:n,history:r,onCompose:a})))},Ld=n("6WaT");function Pd(){var e=q()(["New message"]);return Pd=function(){return e},e}var Td=function(e){var t=e.onClick,n=e.iconName,r=e.className,a=void 0===r?"":r;return s.a.createElement(Ne.a,{className:Object(me.a)(["composer-title-bar-button",a]),onClick:t},s.a.createElement(ge.a,{className:"mauto",name:n,color:"currentColor"}))},Md=function(e){var t,n=e.message,r=void 0===n?{}:n,a=e.minimized,c=e.maximized,o=e.toggleMinimized,i=e.toggleMaximized,u=e.onClose,l=(null===(t=r.data)||void 0===t?void 0:t.Subject)||Object(Z.c)("Title").t(Pd());return s.a.createElement("header",{className:"composer-title-bar flex flex-row"},s.a.createElement("span",{className:"flex-self-vcenter flex-item-fluid pl0-5 pr1 ellipsis"},l),s.a.createElement(Td,{iconName:"minimize",className:Object(me.a)([a&&"rotateX-180"]),onClick:o}),s.a.createElement(Td,{iconName:c?"contract-window":"expand",onClick:i}),s.a.createElement(Td,{iconName:"close",onClick:u}))},Rd=n("Z/R7"),Bd=n("qnyA"),Fd=n("/iWM"),zd=n("f6q+");function Ud(){var e=q()(["Email"]);return Ud=function(){return e},e}function Kd(){var e=q()(["Name"]);return Kd=function(){return e},e}function Gd(){var e=q()(["Search for contacts"]);return Gd=function(){return e},e}function _d(){var e=q()(["Add multiple recipients"]);return _d=function(){return e},e}function Hd(){var e=q()(["Add"]);return Hd=function(){return e},e}var Vd=go.a,Xd=function(e){var t=e.onSubmit,n=e.onClose,r=e.inputValue,a=void 0===r?[]:r,c=e.allContacts,o=void 0===c?[]:c,i=cn()(e,["onSubmit","onClose","inputValue","allContacts"]),l=Object(u.useState)(a),f=_()(l,2),m=f[0],d=f[1],p=Object(u.useState)(o),v=_()(p,2),b=v[0],h=v[1],g=function(e){return function(t){var n;n=t.target.checked?[].concat(jt()(m),[{Name:e.Name,Address:e.Email}]):m.filter((function(t){return t.Address!==e.Email})),d(n)}},E=function(e){return!!m.find((function(t){return t.Address===e.Email}))};return s.a.createElement(on.a,D()({submit:Object(Z.c)("Action").t(Hd()),title:Object(Z.c)("Info").t(_d()),onSubmit:function(){t(m),null==n||n()},onClose:n},i),s.a.createElement(Vd,{placeholder:Object(Z.c)("Info").t(Gd()),onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toLowerCase(),n=null==o?void 0:o.filter((function(e){var n,r;return(null===(n=e.Name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.Email)||void 0===r?void 0:r.toLowerCase().includes(t))}));h(n||[])}}),s.a.createElement(Rd.a,{className:"addresses-contacts-table"},s.a.createElement(Bd.a,{cells:[s.a.createElement(un.a,{key:0}),Object(Z.c)("Info").t(Kd()),Object(Z.c)("Info").t(Ud())]}),s.a.createElement(Fd.a,{colSpan:0},b.map((function(e){return s.a.createElement(zd.a,{key:e.ID,cells:[s.a.createElement(un.a,{key:0,checked:E(e),onChange:g(e)}),e.Name,e.Email]})})))),m.length>0&&s.a.createElement("div",{className:"composer-addresses-container flex-item-fluid bordered-container pl1-25 pr1-25"},m.map((function(e,t){return s.a.createElement(Yt,{key:t,recipient:e,onRemove:(n=e,function(){d(m.filter((function(e){return e!==n})))})});var n}))))};function Wd(){var e=q()(["CC BCC"]);return Wd=function(){return e},e}function Yd(){var e=q()(["BCC"]);return Yd=function(){return e},e}function qd(){var e=q()(["Add contacts"]);return qd=function(){return e},e}function Jd(){var e=q()(["CC"]);return Jd=function(){return e},e}function Qd(){var e=q()(["Add contacts"]);return Qd=function(){return e},e}function Zd(){var e=q()(["To"]);return Zd=function(){return e},e}function $d(){var e=q()(["Add contacts"]);return $d=function(){return e},e}var ep=function(e){var t,n,r,a=e.message,c=e.contacts,o=e.contactGroups,i=e.onChange,l=e.expanded,f=e.toggleExpanded,m=e.addressesFocusRef,d=Object(u.useState)(Object(me.b)("composer")),p=_()(d,1)[0],v=Object(rn.a)().createModal,b=function(e){return function(t){i({data:Q()({},e,t)})}},h=function(e){return nn()(en.a.mark((function t(){var n;return en.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var n;v(s.a.createElement(Xd,{inputValue:null===(n=a.data)||void 0===n?void 0:n[e],allContacts:c,onSubmit:t}))}));case 2:n=t.sent,i({data:Q()({},e,n)});case 4:case"end":return t.stop()}}),t)})))};return s.a.createElement("div",{className:"flex flex-row flex-nowrap flex-items-start pl0-5 mb0-5"},s.a.createElement("div",{className:"flex flex-column composer-meta-label"},s.a.createElement(Oe.a,{htmlFor:"to-".concat(p)},s.a.createElement(Oo.a,{title:Object(Z.c)("Title").t($d())},s.a.createElement("a",{onClick:h("ToList")},Object(Z.c)("Title").t(Zd())))),l&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Oe.a,{htmlFor:"cc-".concat(p)},s.a.createElement(Oo.a,{title:Object(Z.c)("Title").t(Qd())},s.a.createElement("a",{onClick:h("CCList")},Object(Z.c)("Title").t(Jd())))),s.a.createElement(Oe.a,{htmlFor:"bcc-".concat(p)},s.a.createElement(Oo.a,{title:Object(Z.c)("Title").t(qd())},s.a.createElement("a",{onClick:h("BCCList")},Object(Z.c)("Title").t(Yd())))))),s.a.createElement("div",{className:"flex flex-column flex-item-fluid w100"},s.a.createElement("div",{className:"flex flex-row w100 composer-addresses-container-line"},s.a.createElement(dn,{id:"to-".concat(p),recipients:null===(t=a.data)||void 0===t?void 0:t.ToList,onChange:b("ToList"),addressesFocusRef:m,contacts:c,contactGroups:o}),s.a.createElement(Oo.a,{originalPlacement:"left",title:Object(Z.c)("Title").t(Wd())},s.a.createElement(Ne.a,{icon:"caret",className:Object(me.a)(["pm-button--link ml0-5 mr0-5",l&&"rotateX-180"]),onClick:f}))),l&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flex flex-row w100 mt0-5 composer-addresses-container-line"},s.a.createElement(dn,{id:"cc-".concat(p),recipients:null===(n=a.data)||void 0===n?void 0:n.CCList,onChange:b("CCList"),contacts:c,contactGroups:o})),s.a.createElement("div",{className:"flex flex-row w100 mt0-5 composer-addresses-container-line"},s.a.createElement(dn,{id:"bcc-".concat(p),recipients:null===(r=a.data)||void 0===r?void 0:r.BCCList,onChange:b("BCCList"),contacts:c,contactGroups:o})))))},tp=["ToList","CCList","BCCList"];function np(){var e=q()(["BCC"]);return np=function(){return e},e}function rp(){var e=q()(["CC"]);return rp=function(){return e},e}function ap(){var e=q()(["To"]);return ap=function(){return e},e}var cp=function(e){var t=e.message.data,n=void 0===t?{}:t,r=e.contacts,a=e.contactGroups,c=e.onFocus;return s.a.createElement("div",{className:"flex flex-row flex-nowrap flex-items-center pl0-5 mb0-5",onClick:c},s.a.createElement(Oe.a,{htmlFor:null,className:"composer-meta-label color-pm-blue"},Object(Z.c)("Title").t(ap())),s.a.createElement("div",{className:"flex flex-row flex-item-fluid w100"},s.a.createElement("span",{className:"flex-item-fluid bordered-container flex composer-addresses-fakefield"},s.a.createElement("span",{className:"ellipsis mw100"},tp.map((function(e){var t=n[e]||[];if(0===t.length)return null;var c=Vt(t,a);return s.a.createElement(u.Fragment,{key:e},"CCList"===e&&s.a.createElement("span",{className:"mr0-5 color-pm-blue"},Object(Z.c)("Title").t(rp()),":"),"BCCList"===e&&s.a.createElement("span",{className:"mr0-5 color-pm-blue"},Object(Z.c)("Title").t(np()),":"),c.map((function(e,t){return s.a.createElement("span",{key:t,className:"mr0-5"},Ht(e,r),t!==c.length-1&&",")})))})))),s.a.createElement(Ne.a,{icon:"caret",className:"pm-button--link ml0-5 mr0-5 "})))},op=function(e){var t=e.message,n=e.onChange,r=e.addressesBlurRef,a=e.addressesFocusRef,c=Object(ve.a)(),o=_()(c,2),i=o[0],l=o[1],f=Ji(),m=_()(f,2),d=m[0],p=m[1],v=Object(Zi.a)(!0),b=v.state,h=v.set,g=Object(Zi.a)(ia(t.data).length>0),E=g.state,O=g.set,j=g.toggle;if(Object(u.useEffect)((function(){r.current=function(){return h(!1)}}),[]),l||p)return null;return b?s.a.createElement(ep,{message:t,contacts:i,contactGroups:d,onChange:n,expanded:E,toggleExpanded:j,addressesFocusRef:a}):s.a.createElement(cp,{message:t,contacts:i,contactGroups:d,onFocus:function(){h(!0),O(!0),setTimeout((function(){a.current()}))}})};function ip(){var e=q()(["Subject"]);return ip=function(){return e},e}function up(){var e=q()(["Subject"]);return up=function(){return e},e}function sp(){var e=q()(["From"]);return sp=function(){return e},e}var lp=function(e){var t,n,r=e.message,a=e.addresses,c=e.onChange,o=e.addressesBlurRef,i=e.addressesFocusRef,l=Object(u.useState)(Object(me.b)("composer")),f=_()(l,1)[0],m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.filter((function(e){var t=e.Status,n=e.Receive;return 1===t&&1===n})).sort((function(e,t){return(e.Order||0)-(t.Order||0)})),r=Xt(e,t);return r&&n.unshift(r),n}(a,r.originalTo).map((function(e){return{text:e.Email,value:e.ID}}));return s.a.createElement("div",{className:"composer-meta w100"},s.a.createElement("div",{className:"flex flex-row flex-nowrap flex-items-center pl0-5 mb0-5"},s.a.createElement(Oe.a,{htmlFor:"from-".concat(f),className:"composer-meta-label"},Object(Z.c)("Info").t(sp())),s.a.createElement(xe.a,{id:"from-".concat(f),options:m,value:null===(t=r.data)||void 0===t?void 0:t.AddressID,onChange:function(e){var t=e.target.value,n=a.find((function(e){return e.ID===t})),r={Name:null==n?void 0:n.DisplayName,Address:null==n?void 0:n.Email};c({data:{AddressID:t,Sender:r}})},onFocus:o.current})),s.a.createElement(op,{message:r,onChange:c,addressesBlurRef:o,addressesFocusRef:i}),s.a.createElement("div",{className:"flex flex-row flex-nowrap flex-items-center pl0-5 mb0-5"},s.a.createElement(Oe.a,{htmlFor:"subject-".concat(f),className:"composer-meta-label"},Object(Z.c)("Info").t(up())),s.a.createElement(xt.a,{id:"subject-".concat(f),value:null===(n=r.data)||void 0===n?void 0:n.Subject,placeholder:Object(Z.c)("Placeholder").t(ip()),onChange:function(e){var t=e.target;c({data:{Subject:t.value}})},onFocus:o.current})))},fp=n("rmP6"),mp=n.n(fp),dp=n("kzlf"),pp=n.n(dp);function vp(){var e=q()(["Show"]);return vp=function(){return e},e}function bp(){var e=q()(["Hide"]);return bp=function(){return e},e}function hp(){var e=q()([""," file attached"]);return hp=function(){return e},e}var gp=function(e){var t=e.message,n=e.onRemove,r=Object(Zi.a)(!1),a=r.state,c=r.toggle,o=fa(t),i=Object(Ii.a)(da(t));return s.a.createElement("div",{className:"flex flex-column relative w100 flex-nowrap"},s.a.createElement("button",{type:"button",className:"flex flex-row flex-spacebetween w100 p0-5",onClick:c},s.a.createElement("div",null,s.a.createElement("strong",{className:"mr0-5"},i),s.a.createElement(ge.a,{name:"attach",className:"mr0-5"}),Object(Z.c)("Info").ngettext(Object(Z.msgid)(hp(),o.length),"".concat(o.length," files attached"),o.length)),s.a.createElement("div",{className:"color-pm-blue"},a?Object(Z.c)("Action").t(bp()):Object(Z.c)("Action").t(vp()))),a&&s.a.createElement("div",{className:"composer-attachments-expand flex flex-row flex-wrap pt1 pb0-5 pl0-5 pr0-5"},o.map((function(e){return s.a.createElement("div",{key:e.ID,className:"composer-attachments-item"},s.a.createElement("div",{className:"flex flex-spacebetween bordered-container p0-25 flex-nowrap flex-items-center pm_button bg-white-dm p0"},s.a.createElement(ge.a,{name:"attach"}),s.a.createElement("span",{className:"flex-item-fluid ellipsis pl0-5 pr0-5"},e.Name),s.a.createElement("button",{type:"button",className:"inline-flex pl0-5 pr0-5 no-pointer-events-children h100",onClick:n(e)},s.a.createElement(ge.a,{name:"off",size:12}))))}))))},Ep=(n("91UR"),pp.a.import("blots/block"));Ep.tagName="div",pp.a.register(Ep);var Op=function(e){var t=e.message,n=e.onChange,r=e.onFocus,a=e.onRemoveAttachment,c=e.contentFocusRef,o=Object(u.useRef)(null);Object(u.useEffect)((function(){var e;c.current=(null===(e=o.current)||void 0===e?void 0:e.focus)||yt.c}),[]);var i=fa(t.data);return s.a.createElement("section",{className:"composer-content flex-item-fluid w100 mb0-5 flex flex-column flex-nowrap"},s.a.createElement(mp.a,{className:"composer-quill w100 flex-item-fluid",value:t.content||"",readOnly:!t.content,onChange:function(e,t,r){"user"===r&&n({content:e})},onFocus:r,ref:o}),i.length>0&&s.a.createElement(gp,{message:t.data,onRemove:a}))},jp=function(e){var t=e.onAddAttachments;return s.a.createElement("div",{className:"composer-attachments-button-wrapper"},s.a.createElement("input",{type:"file",multiple:!0,onChange:function(e){var n=e.target;n.files&&(t(jt()(n.files)),n.value="")}}),s.a.createElement(Ne.a,{icon:"attach"}))},xp=n("SA+Z"),yp=n.n(xp);function wp(){var e=q()(["Send"]);return wp=function(){return e},e}function Np(){var e=q()(["Saved at ",""]);return Np=function(){return e},e}function kp(){var e=q()(["Saving"]);return kp=function(){return e},e}function Ap(){var e=q()(["Permanently delete this draft?"]);return Ap=function(){return e},e}function Dp(){var e=q()(["Delete"]);return Dp=function(){return e},e}var Cp,Sp=function(e){var t=e.message,n=e.lock,r=e.activity,a=e.onSave,c=e.onSend,o=e.onDelete,i=e.onAddAttachments,l=Object(rn.a)().createModal,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(u.useState)(e),r=_()(n,2),a=r[0],c=r[1],o=Object(u.useState)([]),i=_()(o,2),s=i[0],l=i[1],f=Object(u.useState)(),m=_()(f,2),d=m[0],p=m[1],v=function(){return p(setTimeout((function(){return p(void 0)}),t))};return Object(u.useEffect)((function(){void 0===d?(e&&v(),c(e)):l([].concat(jt()(s),[e]))}),[e]),Object(u.useEffect)((function(){if(void 0===d&&s.length>0){var e=yp()(s),t=e[0],n=e.slice(1);c(t),l(n),v()}}),[d,s]),a}(r),m="";if(n)m=Object(Z.c)("Action").t(kp());else{var d=Oa(t.data);if(0!==d.getTime()){var p=Ni(d);m=Object(Z.c)("Info").t(Np(),p)}}return s.a.createElement("footer",{className:"composer-actions flex flex-row flex-spacebetween w100"},s.a.createElement("div",{className:"flex"},s.a.createElement(jp,{onAddAttachments:i}),s.a.createElement(Ne.a,{icon:"expiration",className:"ml0-5"}),s.a.createElement(Ne.a,{icon:"lock",className:"ml0-5"})),s.a.createElement("div",{className:"flex-self-vcenter"},s.a.createElement("span",null,m),s.a.createElement(Ne.a,{className:"ml1",icon:"trash",disabled:n,onClick:function(){return l(s.a.createElement(kc.a,{onConfirm:o,onClose:yt.c,title:Object(Z.c)("Title").t(Dp())},s.a.createElement(Dc.a,null,Object(Z.c)("Info").t(Ap()))))}})," ",s.a.createElement(Ne.a,{icon:"save",disabled:n,onClick:a})," ",s.a.createElement(Ne.a,{className:"pm-button-blue composer-send-button",loading:n,onClick:c},n?f:Object(Z.c)("Action").t(wp()))))},Ip=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=n,r.onabort=n,r.readAsArrayBuffer(e)}))};function Lp(){var e=q()(["Image"]);return Lp=function(){return e},e}function Pp(){var e=q()(["Failed to encrypt attachment. Please try again."]);return Pp=function(){return e},e}function Tp(){var e=q()(["You did not provide a file."]);return Tp=function(){return e},e}!function(e){e.ATTACHMENT="attachment",e.INLINE="inline"}(Cp||(Cp={}));var Mp=function(){var e=nn()(en.a.mark((function e(t){var n,r,a,c,o,i,u,s,l,f,m,d,p,v=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},r=n.name,a=n.type,c=n.size,o=v.length>2?v[2]:void 0,i=v.length>3?v[3]:void 0,u=v.length>4?v[4]:void 0,e.next=6,Object(lm.a)({filename:r,armor:!1,detached:!0,data:t,publicKeys:i,privateKeys:u});case 6:return s=e.sent,l=s.message,f=s.signature,e.next=11,Object(ns.i)(l);case 11:return m=e.sent,d=m.asymmetric,p=m.encrypted,e.abrupt("return",{Filename:r,MIMEType:a,FileSize:c,Inline:o,signature:f?f.packets.write():void 0,Preview:t,keys:d[0],data:p[0]});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rp=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new TypeError(Object(Z.c)("Error").t(Tp()));case 2:return e.prev=2,e.next=5,Ip(t);case 5:return c=e.sent,e.abrupt("return",Mp(new Uint8Array(c),t,n,r,a));case 9:throw e.prev=9,e.t0=e.catch(2),new Error(Object(Z.c)("Error").t(Pp()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Bp=function(){var e=nn()(en.a.mark((function e(t,n,r,a){var c,o,i,u,s,l,f,m,d,p=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>4&&void 0!==p[4]?p[4]:1,i=p.length>5&&void 0!==p[5]?p[5]:"",u=Object(Z.c)("Title").t(Lp()),s={filename:t.name||"".concat(u," ").concat(fa(n.data).length+1),uploading:!0,Size:t.size,ContentID:i},l=n.publicKeys&&n.publicKeys.length>0?[n.publicKeys[0]]:[],e.next=7,Rp(t,r,l,n.privateKeys||[]);case 7:return f=e.sent,e.next=10,a(os({Filename:f.Filename||s.filename,MessageID:(null===(c=n.data)||void 0===c?void 0:c.ID)||"",ContentID:s.ContentID,MIMEType:f.MIMEType,KeyPackets:new Blob([f.keys]),DataPacket:new Blob([f.data]),Signature:f.signature?new Blob([f.signature]):void 0}));case 10:return m=e.sent,d=m.Attachment,console.log("result",o,d),e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fp=function(){var e=nn()(en.a.mark((function e(){var t,n,r,a,c,o,i=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:[],n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:Cp.ATTACHMENT,a=i.length>3?i[3]:void 0,c=i.length>4&&void 0!==i[4]?i[4]:"",e.next=7,Promise.all(t.map((function(e){var o=Ju(e.type)&&r===Cp.INLINE;return Bp(e,n,o,a,t.length,c)})));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function zp(){var e=q()(["Message discarded"]);return zp=function(){return e},e}function Up(){var e=q()(["Message sent"]);return Up=function(){return e},e}function Kp(){var e=q()(["Message saved"]);return Kp=function(){return e},e}function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach((function(t){Q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hp=function(e,t){return _p({},e,{},t,{data:_p({},e.data,{},t.data)})},Vp=function(e){var t=e.style,n=void 0===t?{}:t,r=e.focus,a=e.message,c=void 0===a?{}:a,o=e.mailSettings,i=e.addresses,l=e.onFocus,f=e.onChange,m=e.onClose,d=Object(_a.a)(),p=Object(Zi.a)(!1),v=p.state,b=p.toggle,h=Object(Zi.a)(!1),g=h.state,E=h.toggle,O=Object(u.useState)(!0),j=_()(O,2),x=j[0],y=j[1],w=Object(u.useState)(c),N=_()(w,2),k=N[0],A=N[1],D=Vm(c.data,o),C=_()(D,3),S=C[0],I=C[1],L=I.initialize,P=I.createDraft,T=I.saveDraft,M=I.send,R=I.deleteDraft,B=C[2],F=B.lock,z=B.current,U=Object(Ld.a)(),K=_()(U,2),G=K[0],H=K[1],V=Object(fc.a)().createNotification,X=Object(u.useRef)(yt.c),W=Object(u.useRef)(yt.c),Y=Object(u.useRef)(yt.c);Object(u.useEffect)((function(){var e,t;F||(null===(e=S.data)||void 0===e?void 0:e.ID)||P(c),!F&&(null===(t=S.data)||void 0===t?void 0:t.ID)&&void 0===S.initialized&&L(),void 0===k.content&&A(_p({},k,{content:S.content})),f(S)}),[F,S]),Object(u.useEffect)((function(){!g&&H-hv-Ev<vv-gv&&E(),g&&H-hv-Ev>vv+gv&&E()}),[H]),Object(u.useEffect)((function(){x&&(setTimeout((function(){0===ia(S.data).length?W.current():Y.current()})),y(!1))}),[S]);var q=Object(u.useCallback)(Object(yt.a)(function(){var e=nn()(en.a.mark((function e(t){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),2e3),[T]),J=function(e){console.log("change",e);var t=Hp(k,e);A(t),q(t)},Q=function(){var e=nn()(en.a.mark((function e(){var t,n=arguments;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:k,e.next=3,T(t);case 3:V({text:Object(Z.c)("Info").t(Kp())});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=nn()(en.a.mark((function e(t){var n,r,a,c;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fp(t,k,Cp.ATTACHMENT,d);case 2:(n=e.sent)&&(a=[].concat(jt()((null===(r=k.data)||void 0===r?void 0:r.Attachments)||[]),jt()(n)),c=Hp(k,{data:{Attachments:a}}),A(c),Q(k));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(k);case 2:V({text:Object(Z.c)("Success").t(Up())}),m();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),e.next=3,R();case 3:V({text:Object(Z.c)("Info").t(zp())});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v&&b(),l();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),e.next=3,Q();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e,t,n,r,a){return t?_p({},e,{height:"auto"}):n?_p({},e,{right:bv,width:r-bv-Ov,height:a-2*hv}):e}(n,v,g,G,H);return s.a.createElement("div",{className:Object(me.a)(["composer flex flex-column p0-5",!r&&"composer-blur",v&&"composer-minimized pb0"]),style:ce,onFocus:l,onClick:re},s.a.createElement(Md,{message:k,minimized:v,maximized:g,toggleMinimized:b,toggleMaximized:E,onClose:ae}),!v&&s.a.createElement(s.a.Fragment,null,s.a.createElement(lp,{message:k,addresses:i,onChange:J,addressesBlurRef:X,addressesFocusRef:W}),s.a.createElement(Op,{message:k,onChange:J,onFocus:X.current,onRemoveAttachment:function(e){return nn()(en.a.mark((function t(){var n,r,a,c,o;return en.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d((i=e.ID||"",u=(null===(n=k.data)||void 0===n?void 0:n.ID)||"",{method:"delete",url:"attachments/".concat(i),params:{MessageID:u}}));case 2:c=null===(r=k.data)||void 0===r?void 0:null===(a=r.Attachments)||void 0===a?void 0:a.filter((function(t){return t.ID!==e.ID})),o=Hp(k,{data:{Attachments:c}}),A(o),Q(k);case 6:case"end":return t.stop()}var i,u}),t)})))},contentFocusRef:Y}),s.a.createElement(Sp,{message:k,lock:F,activity:z,onAddAttachments:$,onSave:ee,onSend:te,onDelete:ne})))},Xp=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=-1;return e.replace(/\n(\s+)/g,(function(e,n){return t<0&&(t=n.replace(/\t/g,"    ").length),"\n"+n.slice(Math.min(n.length,t))}))}var c=e.slice(0,n.length+1).map((function(e,t){return(0===t?"":n[t-1])+e})).join("");return a(c)};function Wp(){var e=q()(['\n        <div class="'," ",'">\n            <div class="'," ",'">\n                ',"\n            </div>\n            ",'\n            <div class="'," ",'">\n                ',"\n            </div>\n        </div>\n    "]);return Wp=function(){return e},e}var Yp=function(e){return 0===e.PMSignature?"":re.U},qp=function(e){return!e||"<div><br /></div>"===e||"<div><br></div>"===e},Jp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?'<div class="'.concat(e,'">'):"<div>";return"".concat(t,"<br /></div>")},Qp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=qp(e),a=r&&!t;return{start:a?Jp():Jp()+Jp(),end:n?Jp():"",between:!r&&t?Jp():""}},Zp=function(e,t){var n=qp(e),r=!t;return{userClass:n?"protonmail_signature_block-empty":"",protonClass:r?"protonmail_signature_block-empty":"",containerClass:n&&r?"protonmail_signature_block-empty":""}},$p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Yp(t),c=Zp(e,a),o=c.userClass,i=c.protonClass,u=c.containerClass,s=Qp(e,a,n),l=Xp(Wp(),"protonmail_signature_block",u,"protonmail_signature_block-user",o,Ts(e),s.between,"protonmail_signature_block-proton",i,Ts(a));return r?Ys(l):"".concat(s.start).concat(Ys(l)).concat(s.end)},ev=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=a?"beforeend":"afterbegin",o=$p(t,r,n!==dt.NEW),i=Qs(e);return i.insertAdjacentHTML(c,o),i.innerHTML};function tv(){var e=q()(["On ",", "," wrote:"]);return tv=function(){return e},e}function nv(){var e=q()(["Fw:"]);return nv=function(){return e},e}function rv(){var e=q()(["Re:"]);return rv=function(){return e},e}var av=Object(Z.c)("Message").t(rv()),cv=Object(Z.c)("Message").t(nv()),ov=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new RegExp("^".concat(t),"i");return n.test(e)?e:"".concat(t," ").concat(e)},iv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=(t=void 0===t?{}:t).Subject,r=void 0===n?"":n,a=t.ToList,c=void 0===a?[]:a,o=t.CCList,i=void 0===o?[]:o,u=t.BCCList,s=void 0===u?[]:u,l=e.encryptedSubject,f=void 0===l?"":l,m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{Subject:m?f:r,ToList:c,CCList:i,BCCList:s}},uv=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=ov(a?r.encryptedSubject:null===(e=r.data)||void 0===e?void 0:e.Subject,av),o=qr(r.data)||Jr(r.data)?null===(t=r.data)||void 0===t?void 0:t.ToList:null===(n=r.data)||void 0===n?void 0:n.ReplyTos;return{Subject:c,ToList:o}},sv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e.data,a=void 0===r?{}:r,c=e.encryptedSubject,o=void 0===c?"":c,i=ov(t?o:a.Subject,av);if(qr(e.data)||Jr(e.data))return{Subject:i,ToList:a.ToList,CCList:a.CCList,BCCList:a.BCCList};var u=a.ReplyTos,s=n.map((function(e){var t=e.Email;return(void 0===t?"":t).toLowerCase()})),l=Object(ni.e)([].concat(jt()(a.ToList||[]),jt()(a.CCList||[]))),f=l.filter((function(e){var t=e.Address,n=void 0===t?"":t;return!s.includes(n.toLowerCase())}));return{Subject:i,ToList:u,CCList:f}},lv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,r=e.encryptedSubject,a=void 0===r?"":r,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=ov(c?a:n.Subject,cv);return{Subject:o,ToList:[]}},fv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!!t.encryptedSubject;switch(e){case dt.NEW:return iv(t,r);case dt.REPLY:return uv(t,r);case dt.REPLY_ALL:return sv(t,r,n);case dt.FORWARD:return lv(t,r)}},mv=function(e){var t,n,r=ki(null===(t=e.data)||void 0===t?void 0:t.Time),a=Ft(null===(n=e.data)||void 0===n?void 0:n.Sender),c=Object(Z.c)("Message").t(tv(),r,a),o=e.content;return"‐‐‐‐‐‐‐ Original Message ‐‐‐‐‐‐‐<br>\n        ".concat(c,'<br>\n        <blockquote class="protonmail_quote" type="cite">\n            ').concat(o,"\n        </blockquote><br>")},dv=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,o=(null===(t=r.data)||void 0===t?void 0:t.MIMEType)||a.DraftMIMEType,i=a.RightToLeft,u=0;a.AttachPublicKey&&(u=Object(Le.c)(u,ft)),a.Sign&&(u=Object(Le.c)(u,mt));var s=fv(e,r,c),l=s.Subject,f=s.ToList,m=void 0===f?[]:f,d=s.CCList,p=void 0===d?[]:d,v=s.BCCList,b=void 0===v?[]:v,h=r.originalTo,g=Wt(c,r.data)||{},E=g.ID,O={Name:g.DisplayName,Address:g.Email},j=[],x=e===dt.NEW?"":mv(r),y=e===dt.NEW?void 0:null===(n=r.data)||void 0===n?void 0:n.ID;return{data:{ToList:m,CCList:p,BCCList:b,Subject:l,PasswordHint:"",ExpirationTime:0,ExpiresIn:0,Attachments:j,MIMEType:o,RightToLeft:i,Flags:u,Sender:O,AddressID:E,ParentID:y,Unread:0},content:x=ev(x,g.Signature,e,a),action:e,originalTo:h,initialized:!0}};n("bDwr");function pv(){var e=q()(["Maximum composer reached"]);return pv=function(){return e},e}var vv=520,bv=20,hv=10,gv=20,Ev=80,Ov=45,jv=function(e,t,n,r){var a=r-hv-Ev;return{right:n[e],zIndex:t?301:300,height:a>vv?vv:a}},xv=function(e){return e.existingDraft?e:void 0},yv=function(e){return"number"==typeof e.action?e:void 0},wv=function(e){var t=e.children,n=Object(H.a)(),r=_()(n,2),a=r[0],c=r[1],o=Object(be.a)(),i=_()(o,2),l=i[0],f=i[1],m=Object(u.useState)([]),d=_()(m,2),p=d[0],v=d[1],b=Object(u.useState)(),h=_()(b,2),g=h[0],E=h[1],O=Object(Ld.a)(),j=_()(O,2),x=j[0],y=j[1],w=Object(fc.a)().createNotification,N=function(){var e=Object(Wi.a)(),t=Object(H.a)(),n=_()(t,2),r=n[0],a=n[1],c=Object(be.a)(),o=_()(c,2),i=o[0],s=o[1];return Object(u.useEffect)((function(){if(!a&&!s){var t=dv(dt.NEW,void 0,r,i);e.set("Draft",t)}}),[e,r,i]),Object(u.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t===dt.NEW&&e.has("Draft")?e.get("Draft"):dv(t,n,r,i)}),[e,r,i])}();if(c||f)return null;var k=function(e){return function(){var t=p.filter((function(t){return t!==e}));v(t),t.length>0&&E(t[0])}},A=function(e){return function(){E(e)}},D=function(e,t){if(600*e+bv*(e+1)<t)return Object(ni.d)(0,e).map((function(e){return 600*e+bv*(e+1)}));var n=(t-2*bv-600)/(e-1);return Object(ni.d)(0,e).map((function(e){return bv+n*e}))}(p.length,x);return s.a.createElement(s.a.Fragment,null,t({onCompose:function(e){if(p.length>=3)w({type:"error",text:Object(Z.c)("Error").t(pv())});else{var t=function(e){return{composeExisting:xv(e),composeNew:yv(e)}}(e),n=t.composeExisting,r=t.composeNew;if(console.log("compose",n,r),n){var a=n.existingDraft,c=p.find((function(e){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.ID)===(null===(n=a.data)||void 0===n?void 0:n.ID)}));return c?void E(c):(v([].concat(jt()(p),[a])),void E(a))}if(r){var o=r.action,i=r.referenceMessage,u=N(o,i);v([].concat(jt()(p),[u])),E(u)}}}}),s.a.createElement("div",{className:"composer-container"},p.map((function(e,t){var n,r;return s.a.createElement(Vp,{key:(null===(n=e.data)||void 0===n?void 0:n.ID)||t,style:jv(t,e===g,D,y),message:e,focus:e===g,mailSettings:a,addresses:l,onFocus:A(e),onChange:(r=e,function(e){var t=jt()(p);t[t.indexOf(r)]=e,v(t),r===g&&E(e)}),onClose:k(e)})}))))},Nv=function(e){var t=e.onLogout;return s.a.createElement(S.a,{onLogout:t,locales:K,preloadModels:[I.a,L.a],eventModels:[I.a,P.a,T.a,M.a,R.a,L.a,B.a,F.a,z.a]},s.a.createElement(Tm,null,s.a.createElement(Jm,null,s.a.createElement(wv,null,(function(e){var t=e.onCompose;return s.a.createElement(C.a,{path:"/:labelID/:elementID?",render:function(e){return s.a.createElement(Id,D()({},e,{onCompose:t}))}})})))))},kv=n("jKe7"),Av=n("plUg"),Dv=n("rDTT"),Cv=n("7rSm"),Sv=n("dNXc"),Iv=n("Go4V"),Lv=function(e){var t=e.children;return s.a.createElement(s.a.Fragment,null,s.a.createElement("main",{className:"main-full flex flex-column flex-nowrap reset4print"},t),s.a.createElement(Iv.a,null))},Pv=n("oiES"),Tv=n("xpwl"),Mv=n("lebJ");function Rv(){var e=q()(["Contact support"]);return Rv=function(){return e},e}function Bv(){var e=q()(["Common login problems"]);return Bv=function(){return e},e}function Fv(){var e=q()(["Forgot username?"]);return Fv=function(){return e},e}function zv(){var e=q()(["Reset password"]);return zv=function(){return e},e}function Uv(){var e=q()(["Need help?"]);return Uv=function(){return e},e}function Kv(){var e=q()(["User log in"]);return Kv=function(){return e},e}function Gv(){var e=q()(["Log in"]);return Gv=function(){return e},e}var _v=function(e){var t=e.stopRedirect,n=e.history,r=e.onLogin;return s.a.createElement(Pv.a,{title:Object(Z.c)("Title").t(Gv())},s.a.createElement("h2",null,Object(Z.c)("Title").t(Kv())),s.a.createElement(Tv.a,{onLogin:function(){t(),n.push("/inbox"),r.apply(void 0,arguments)},needHelp:s.a.createElement(Mv.a,{content:Object(Z.c)("Dropdown button").t(Uv()),className:"pm-button--link"},s.a.createElement(ac.a,null,s.a.createElement("div",{className:"inbl w100 pt0-5 pb0-5 ellipsis"},s.a.createElement(ri.a,{to:"/reset-password"},Object(Z.c)("Link").t(zv()))),s.a.createElement("div",{className:"inbl w100 pt0-5 pb0-5 ellipsis"},s.a.createElement(ri.a,{to:"/forgot-username"},Object(Z.c)("Link").t(Fv()))),s.a.createElement("div",{className:"inbl w100 pt0-5 pb0-5 ellipsis"},s.a.createElement(te.a,{url:"https://protonmail.com/support/knowledge-base/common-login-problems/"},Object(Z.c)("Link").t(Bv()))),s.a.createElement("div",{className:"inbl w100 pt0-5 pb0-5 ellipsis"},s.a.createElement(te.a,{url:"https://protonmail.com/support/"},Object(Z.c)("Link").t(Rv())))))}))},Hv=n("17x9"),Vv=n.n(Hv),Xv=function(e){e.match,e.history,e.onLogin,e.stopRedirect;return s.a.createElement(s.a.Fragment,null,"SignupContainer")};Xv.propTypes={stopRedirect:Vv.a.func.isRequired,onLogin:Vv.a.func.isRequired,match:Vv.a.shape({params:Vv.a.shape({step:Vv.a.string})}).isRequired,history:Vv.a.shape({push:Vv.a.func.isRequired,location:Vv.a.shape({search:Vv.a.string.isRequired,state:Vv.a.oneOfType([Vv.a.shape({selector:Vv.a.string.isRequired,token:Vv.a.string.isRequired}),Vv.a.shape({Coupon:Vv.a.shape({Code:Vv.a.string})})])}).isRequired}).isRequired};var Wv=Xv,Yv=n("mLw1"),qv=function(e){var t=e.onLogin,n=Object(u.useRef)(!1),r=function(){return n.current=!0},a=Object(u.useState)(!0),c=_()(a,2),o=c[0],i=c[1],l=Object(u.useState)(!1),f=_()(l,2),m=f[0],d=f[1];return Object(u.useLayoutEffect)((function(){nn()(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(Sv.a)()]);case 2:case"end":return e.stop()}}),e)})))().then((function(){return i(!1)})).catch((function(){return d(!0)}))}),[]),m?"OpenPGP failed to load. Handle better.":o?s.a.createElement(W.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(Av.a,null),s.a.createElement(Lv,null,s.a.createElement(kv.a,null,s.a.createElement(C.a,{path:"/reset-password",render:function(){return s.a.createElement(Dv.a,{onLogin:t})}}),s.a.createElement(C.a,{path:"/forgot-username",component:Cv.a}),s.a.createElement(C.a,{path:"/login",render:function(e){var n=e.history,a=e.location;return s.a.createElement(_v,{stopRedirect:r,history:n,location:a,onLogin:t})}}),s.a.createElement(C.a,{path:"/signup/:step?",render:function(e){var n=e.history,a=e.match;return s.a.createElement(Wv,{stopRedirect:r,history:n,match:a,onLogin:t})}}),s.a.createElement(C.a,{render:function(e){var t=e.location;return n.current?null:s.a.createElement(Yv.a,{to:{pathname:"/login",state:{from:t}}})}}))))},Jv=(n("wdeV"),function(){var e=Object(f.a)(),t=e.UID,n=e.login,r=e.logout;return t?s.a.createElement(Nv,{onLogout:r}):s.a.createElement(qv,{onLogin:n})}),Qv=Object(l.hot)((function(){return s.a.createElement(m.a,{config:r},s.a.createElement(Jv,null))}));i.a.render(s.a.createElement(Qv,null),document.querySelector(".app-root"))},0:function(e,t,n){n("+wUL"),e.exports=n("1UW9")},"0u2a":function(e,t,n){},1:function(e,t){},2:function(e,t){},3:function(e,t){},"36vJ":function(e,t,n){},4:function(e,t){},5:function(e,t){},"5FMj":function(e,t,n){var r={"./3-d-secure.svg":"0gKn","./american-express-safekey.svg":"Jui7","./cc-american-express.svg":"/qD2","./cc-dankort.svg":"0T0d","./cc-diners-club.svg":"vuvo","./cc-discover.svg":"AZZk","./cc-forbrugs.svg":"k2eZ","./cc-jcb.svg":"7Amw","./cc-maestro.svg":"lXKh","./cc-mastercard.svg":"ZUPP","./cc-paypal.svg":"egYP","./cc-unionpay.svg":"ma7A","./cc-visa.svg":"vO2o","./cc-visaelectron.svg":"RMFI","./discover-protectbuy.svg":"qsy5","./mastercard-securecode.svg":"6Bn0","./verified-by-visa.svg":"Q7qE"};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="5FMj"},"8y51":function(e,t,n){},A5oT:function(e,t,n){},YO3j:function(e,t,n){var r={"./af/index.js":["IqAn",11],"./ar-DZ/index.js":["JVC1",12],"./ar-MA/index.js":["+7lX",13],"./ar-SA/index.js":["xMju",14],"./az/index.js":["jEeQ",15],"./be/index.js":["YEhR",3],"./bg/index.js":["isx8",4],"./bn/index.js":["+b7I",16],"./ca/index.js":["Vwa+",17],"./cs/index.js":["dvhP",18],"./cy/index.js":["HQUR",19],"./da/index.js":["7ur/",20],"./de/index.js":["bgw5",21],"./el/index.js":["dH0v",22],"./en-AU/index.js":["VHew",23],"./en-CA/index.js":["wXhn",24],"./en-GB/index.js":["nwJ3",25],"./en-US/index.js":["IogR",26],"./eo/index.js":["UB7v",27],"./es/index.js":["/S0t",28],"./et/index.js":["Br0m",29],"./fa-IR/index.js":["gEFy",30],"./fi/index.js":["ndVD",31],"./fr-CA/index.js":["KTij",32],"./fr/index.js":["LKA2",33],"./gl/index.js":["4bge",34],"./gu/index.js":["3t4y",35],"./he/index.js":["75M+",36],"./hi/index.js":["CUe2",37],"./hr/index.js":["L9Jq",38],"./hu/index.js":["Nm+E",39],"./hy/index.js":["netp",40],"./id/index.js":["A6C3",41],"./is/index.js":["N4bE",42],"./it/index.js":["hmb4",43],"./ja/index.js":["uAXs",44],"./ka/index.js":["pwL5",45],"./kk/index.js":["zGPi",5],"./ko/index.js":["iW8+",46],"./lt/index.js":["xj+b",47],"./lv/index.js":["x5pY",6],"./ms/index.js":["gUWk",48],"./nb/index.js":["73vv",49],"./nl/index.js":["hCQt",50],"./nn/index.js":["vORL",51],"./pl/index.js":["B6yL",7],"./pt-BR/index.js":["2dYp",52],"./pt/index.js":["gdks",53],"./ro/index.js":["r2yp",54],"./ru/index.js":["nz/o",8],"./sk/index.js":["Wqan",9],"./sl/index.js":["KYSo",55],"./sr/index.js":["7mU3",56],"./sv/index.js":["hxgj",57],"./ta/index.js":["1ssA",58],"./te/index.js":["SGoj",59],"./th/index.js":["Pk+z",60],"./tr/index.js":["3ZWG",61],"./ug/index.js":["yT3n",62],"./uk/index.js":["LCGg",10],"./vi/index.js":["dGQT",63],"./zh-CN/index.js":["UJqf",64],"./zh-TW/index.js":["zn9v",65]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="YO3j",e.exports=a},"aM+n":function(e,t,n){},bDwr:function(e,t,n){},dTS7:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="dTS7"},"fM+A":function(e,t,n){},ncOH:function(e,t,n){},wdeV:function(e,t,n){},z3V7:function(e,t,n){}});
//# sourceMappingURL=index.42d11168.js.map